(function(r,l){if(!r.seajs){var s=r.seajs={version:"2.2.3"},_=s.data={},o=R("Object"),f=R("String"),p=Array.isArray||R("Array"),h=R("Function"),d=R("Undefined"),e=0,n=_.events={};s.on=function(e,t){return(n[e]||(n[e]=[])).push(t),s},s.off=function(e,t){if(!e&&!t)return n=_.events={},s;var i=n[e];if(i)if(t)for(var a=i.length-1;0<=a;a--)i[a]===t&&i.splice(a,1);else delete n[e];return s};var t,c=s.emit=function(e,t){var i,a=n[e];if(a)for(a=a.slice();i=a.shift();)i(t);return s},i=/[^?#]*\//,u=/\/\.\//g,g=/\/[^/]+\/\.\.\//,x=/([^:/])\/\//g,m=/^([^/:]+)(\/.+)$/,v=/{([^{]+)}/g,b=/^\/\/.|:\//,y=/^.*?\/\/.*?\//,w=document,a=P(w.URL),k=w.scripts,A=w.getElementById("seajsnode")||k[k.length-1],S=P(((t=A).hasAttribute?t.src:t.getAttribute("src",4))||a);s.resolve=function(e,t){if(!e)return"";var i,a,n,o,r,s,l,p,d,c;i=e,e=(a=_.alias)&&f(a[i])?a[i]:i,n=e,(r=_.paths)&&(o=n.match(m))&&f(r[o[1]])&&(n=r[o[1]]+o[2]),s=e=n,(l=_.vars)&&-1<s.indexOf("{")&&(s=s.replace(v,function(e,t){return f(l[t])?l[t]:e})),d=(p=e=s).length-1;var u=G(e="#"===(c=p.charAt(d))?p.substring(0,d):".js"===p.substring(d-2)||0<p.indexOf("?")||".css"===p.substring(d-3)||"/"===c?p:p+".js",t);return u=function(e){var t=_.map,i=e;if(t)for(var a=0,n=t.length;a<n;a++){var o=t[a];if((i=h(o)?o(e)||e:e.replace(o[0],o[1]))!==e)break}return i}(u)};var M,E,z=w.head||w.getElementsByTagName("head")[0]||w.documentElement,I=z.getElementsByTagName("base")[0],T=/\.css(?:\?|$)/i,C=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;s.request=function(e,t,i,a){var n=T.test(e),o=w.createElement(n?"link":"script");i&&(o.charset=i),d(a)||o.setAttribute("crossorigin",a),function(e,t,i,a){var n="onload"in e;if(i&&(C||!n))return setTimeout(function(){!function e(t,i){var a,n=t.sheet;if(C)n&&(a=!0);else if(n)try{n.cssRules&&(a=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(a=!0)}setTimeout(function(){a?i():e(t,i)},20)}(e,t)},1);function o(){e.onload=e.onerror=e.onreadystatechange=null,i||_.debug||z.removeChild(e),e=null,t()}n?(e.onload=o,e.onerror=function(){c("error",{uri:a,node:e}),o()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&o()}}(o,t,n,e),n?(o.rel="stylesheet",o.href=e):(o.async=!0,o.src=e),M=o,I?z.insertBefore(o,I):z.appendChild(o),M=null};var $,L=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,j=/\\\\/g,D=s.cache={},N={},Y={},B={},H=U.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};U.prototype.resolve=function(){for(var e=this.dependencies,t=[],i=0,a=e.length;i<a;i++)t[i]=U.resolve(e[i],this.uri);return t},U.prototype.load=function(){var e=this;if(!(e.status>=H.LOADING)){e.status=H.LOADING;var t=e.resolve();c("load",t);for(var i,a=e._remain=t.length,n=0;n<a;n++)(i=U.get(t[n])).status<H.LOADED?i._waitings[e.uri]=(i._waitings[e.uri]||0)+1:e._remain--;if(0!==e._remain){var o={};for(n=0;n<a;n++)(i=D[t[n]]).status<H.FETCHING?i.fetch(o):i.status===H.SAVED&&i.load();for(var r in o)o.hasOwnProperty(r)&&o[r]()}else e.onload()}},U.prototype.onload=function(){var e=this;e.status=H.LOADED,e.callback&&e.callback();var t,i,a=e._waitings;for(t in a)a.hasOwnProperty(t)&&((i=D[t])._remain-=a[t],0===i._remain&&i.onload());delete e._waitings,delete e._remain},U.prototype.fetch=function(e){var t=this,i=t.uri;t.status=H.FETCHING;var a={uri:i};c("fetch",a);var n=a.requestUri||i;function o(){s.request(a.requestUri,a.onRequest,a.charset,a.crossorigin)}n&&!Y[n]?N[n]?B[n].push(t):(N[n]=!0,B[n]=[t],c("request",a={uri:i,requestUri:n,onRequest:function(){delete N[n],Y[n]=!0,$&&(U.save(i,$),$=null);var e,t=B[n];delete B[n];for(;e=t.shift();)e.load()},charset:h(_.charset)?_.charset(n):_.charset,crossorigin:h(_.crossorigin)?_.crossorigin(n):_.crossorigin}),a.requested||(e?e[a.requestUri]=o:o())):t.load()},U.prototype.exec=function(){var e=this;if(e.status>=H.EXECUTING)return e.exports;e.status=H.EXECUTING;var i=e.uri;function a(e){return U.get(a.resolve(e)).exec()}a.resolve=function(e){return U.resolve(e,i)},a.async=function(e,t){return U.use(e,t,i+"_async_"+X()),a};var t=e.factory,n=h(t)?t(a,e.exports={},e):t;return n===l&&(n=e.exports),delete e.factory,e.exports=n,e.status=H.EXECUTED,c("exec",e),n},U.resolve=function(e,t){var i={id:e,refUri:t};return c("resolve",i),i.uri||s.resolve(i.id,t)},U.define=function(e,t,i){var a,n,o=arguments.length;1===o?(i=e,e=l):2===o&&(i=t,p(e)?(t=e,e=l):t=l),!p(t)&&h(i)&&(a=i.toString(),n=[],a.replace(j,"").replace(L,function(e,t,i){i&&n.push(i)}),t=n);var r={id:e,uri:U.resolve(e),deps:t,factory:i};if(!r.uri&&w.attachEvent){var s=function(){if(M)return M;if(E&&"interactive"===E.readyState)return E;for(var e=z.getElementsByTagName("script"),t=e.length-1;0<=t;t--){var i=e[t];if("interactive"===i.readyState)return E=i}}();s&&(r.uri=s.src)}c("define",r),r.uri?U.save(r.uri,r):$=r},U.save=function(e,t){var i=U.get(e);i.status<H.SAVED&&(i.id=t.id||e,i.dependencies=t.deps||[],i.factory=t.factory,i.status=H.SAVED)},U.get=function(e,t){return D[e]||(D[e]=new U(e,t))},U.use=function(e,n,t){var o=U.get(t,p(e)?e:[e]);o.callback=function(){for(var e=[],t=o.resolve(),i=0,a=t.length;i<a;i++)e[i]=D[t[i]].exec();n&&n.apply(r,e),delete o.callback},o.load()},U.preload=function(e){var t=_.preload,i=t.length;i?U.use(t,function(){t.splice(0,i),U.preload(e)},_.cwd+"_preload_"+X()):e()},s.use=function(e,t){return U.preload(function(){U.use(e,t,_.cwd+"_use_"+X())}),s},U.define.cmd={},r.define=U.define,s.Module=U,_.fetchedList=Y,_.cid=X,s.require=function(e){var t=U.get(U.resolve(e));return t.status<H.EXECUTING&&(t.onload(),t.exec()),t.exports};var V,F;_.base=(S.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",S])[1],_.dir=S,_.cwd=a,_.charset="utf-8",_.history={},_.preload=(V=[],F=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(F+=" "+w.cookie).replace(/(seajs-\w+)=1/g,function(e,t){V.push(t)}),V),s.config=function(e){for(var t in e){var i=e[t],a=_[t];if(_.history[t]=_.history[t]||[],_.history[t].push(W(i)),a&&o(a))for(var n in i)a[n]=i[n];else p(a)?i=a.concat(i):"base"===t&&("/"!==i.slice(-1)&&(i+="/"),i=G(i)),_[t]=i}return c("config",e),s}}function R(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}}function X(){return e++}function P(e){return e.match(i)[0]}function G(e,t){var i,a=e.charAt(0);if(b.test(e))i=e;else if("."===a)i=function(e){for(e=e.replace(u,"/");e.match(g);)e=e.replace(g,"/");return e=e.replace(x,"$1/")}((t?P(t):_.cwd)+e);else if("/"===a){var n=_.cwd.match(y);i=n?n[0]+e.substring(1):e}else i=_.base+e;return 0===i.indexOf("//")&&(i=location.protocol+i),i}function U(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function W(e){if(o(e)){var t={};for(var i in e)t[i]=e[i];return t}return e}})(this),define("magix",function(){var i=function(e){return Object.prototype.toString.call(e).slice(8,-1)},e=function(t){return function(e){return i(e)==t}},a=e("Object"),x=e("Array"),m=function(e,t,i){var a=b.createEvent("Events");for(var n in a.initEvent(t,!0,!0),i)a[n]=i[n];e.dispatchEvent(a)},d=function(e){return e._mx||(e._mx=C("e"))},c={},s=function(){return!0},l=function(){return!1},p={preventDefault:"isDefaultPrevented",stopPropagation:"isPropagationStopped"},o=function(t,e,i,a){var n=d(t),o=c[n]||(c[n]=[]),r={a:i&&i.i,b:a,c:e,d:function(e){e=function(n){if(!n.isDefaultPrevented){var e=function(e){var i=p[e],a=n[e];n[e]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n[i]=s,a&&a.apply(n,e)},n[i]=l};for(var t in p)e(t);(void 0!==n.defaultPrevented?n.defaultPrevented:"returnValue"in n?!1===n.returnValue:n.getPreventDefault&&n.getPreventDefault())&&(n.isDefaultPrevented=s)}return n}(e),a.call(t,e,i)}};o.push(r),t.addEventListener(e,r.d,i&&i.m)},f=function(e,t){e.eventTarget=t.e,G(t.f,e,t.v)},h=function(e,t,i,a,n){a?function(e,t,i,a){var n=d(e),o=c[n];if(o){for(var r=void 0,s=void 0,l=o.length;l--;)if((s=o[l]).c==t&&s.b===a){var p=s.a;if(!i||i&&i.i==p){r=s,o.splice(l,1);break}}r&&e.removeEventListener(t,r.d,i&&i.m)}}(e,t,n,i):o(e,t,n,i)},r=0,v=[],n=window,b=document,u=n.setTimeout,k="value",y="mxs";function t(){}var w,_=JSON.stringify,S="\x1e",M="prototype",A="params",E="path",z="mx-view",g=/[#?].*$/,I=/([^=&?\/#]+)=?([^&#?]*)/g,T=/(?!^)=|&/,C=function(e){return(e||"mx_")+r++},$={rootId:C(),error:function(e){throw e}},L=function(e){return"object"==typeof e?e:b.getElementById(e)},j=function(e){return!e||"object"!=typeof e},D=function(e,t,i){if(e=L(e),t=L(t),e&&t&&!(i=e==t))try{i=16==(16&t.compareDocumentPosition(e))}catch(e){}return i};function N(e){for(var t,i=1,a=arguments.length;i<a;i++)for(var n in t=arguments[i])U(t,n)&&(e[n]=t[n]);return e}var Y=function(e,t,i){for(i in t=[],e)U(e,i)&&t.push(i);return t},B=$.hasOwnProperty,H=document.head,V=document.createElement("div"),F=V.getAttribute,R=function(e,t){return F.call(e,t)},X=function(e,t){t&&!X[e]&&(X[e]=1,V.innerHTML="<style>"+t,H.appendChild(V.firstChild))},P=function(e){return R(e,"id")||(e.id=C())},G=function(e,t,i,a,n){t=t||v,x(e)||(e=[e]),x(t)||(t=[t]);for(var o=0,r=e;o<r.length;o++){n=r[o];try{a=n&&n.apply(i,t)}catch(e){$.error(e)}}return a},U=function(e,t){return e&&B.call(e,t)},W=function(e,t){var i,a;if(j(t))(i=t+"")[0]==S&&U(e,i)&&(t=e[i]);else for(i in t)a=t[i],a=W(e,a),t[i]=a;return t},O=function(e,t){return t.f-e.f||t.t-e.t};function q(e,t,i,a){(a=this).c=[],a.b=t||5,a.x=a.b+(e||20),a.r=i}N(q[M],{get:function(e){var t=this.c[S+e];return t&&(t.f++,t.t=r++,t=t.v),t},set:function(e,t){var i=this.c,a=S+e,n=i[a],o=this.b;if(!n){if(i.length>=this.x)for(i.sort(O);o--;)0<(n=i.pop()).f&&this.del(n.o);n={o:e},i.push(n),i[a]=n}n.v=t,n.f=1,n.t=r++},del:function(e){e=S+e;var t=this.c,i=t[e],a=this.r;i&&(i.f=-1,i.v="",delete t[e],a&&G(a,i.o))},has:function(e){return U(this.c,S+e)}});var K=function(e,o){if(e){var r=[],t=void 0;if(n.seajs)seajs.use(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,a=e;i<a.length;i++){var n=a[i];r.push(n&&n.__esModule&&n.default||n)}o&&o.apply(void 0,r)});else{x(e)||(e=[e]);for(var i=0,a=e;i<a.length;i++)t=a[i],t=require(t),r.push(t&&t.__esModule&&t.default||t);o&&o.apply(void 0,r)}}else o()};function J(){}var Z,Q=function(e,t,i,a,n){return J[M]=t[M],N(n=new J,i),N(e,a),(n.constructor=e)[M]=n,e},ee=function(e){return e},te=new q,ie=function(e,t,i){try{i=decodeURIComponent(i)}catch(e){}Z[t]=i},ae=function(e){var t,i=te.get(e);return i||(Z={},t=e.replace(g,""),e==t&&T.test(t)&&(t=""),e.replace(t,"").replace(I,ie),te.set(e,i={a:t,b:Z})),{path:i.a,params:N({},i.b)}},ne=new q,oe=function(e,t,i){return ne.has(e)?i=ne.get(e):(i=G(Function("return "+e)),-1<e.indexOf(S)?W(t,i):ne.set(e,i)),i},re={config:function(e,t){return t=$,e&&(t=a(e)?N(t,e):t[e]),t},boot:function(e){N($,e),K($.exts,function(){ge().mountView($.defaultView)})},toMap:function(e,t){var i,a={};if(e)for(var n=0,o=e;n<o.length;n++)i=o[n],a[t&&i?i[t]:i]=t?i:1+(0|a[i]);return a},toTry:G,toUrl:function(e,t,i){var a,n,o,r=[];for(n in t)a=t[n]+"",(!i||a||U(i,n))&&(a=encodeURIComponent(a),r.push(o=n+"="+a));return o&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+r.join("&")),e},parseUrl:ae,mix:N,has:U,keys:Y,inside:D,node:L,applyStyle:X,guid:C,Cache:q,use:K,fire:m,type:i,nodeId:P,guard:ee},se={fire:function(e,t,i,a){var n,o,r,s,l=this,p=l[S+e];if(t||(t={}),t.type=e,p)for(o=(n=p.length)-1;n--;)(s=p[r=a?n:o-n]).f?(s.x=1,G(s.f,t,l),s.x=""):s.x||(p.splice(r,1),o--);return(p=l["on"+e])&&G(p,t,l),i&&l.off(e),l},on:function(e,t){var i=S+e;return(this[i]||(this[i]=[])).push({f:t}),this},off:function(e,t){var i,a=S+e,n=this[a];if(t){if(n)for(var o=0,r=n;o<r.length;o++)if((i=r[o]).f==t){i.f="";break}}else delete this[a],delete this["on"+e];return this}};re.Event=se;var le,pe,de={},ce=N({get:function(e){var t=e?de[e]:de;return t},set:function(e,t){return N(de,e),this}},se);re.State=ce;var ue={},_e=function(e){if(!e.$a&&!e.$b&&e.$cc==e.$rc){e.$cr||(e.$cr=1,e.$ca=0,e.fire("created"));var t=e.id,i=e.pId,a=ue[i];a&&!U(a.$d,t)&&(a.$d[t]=1,a.$rc++,_e(a))}},fe=function(e,t){if(!e.$ca&&e.$cr){e.$cr=0,e.$ca=1,e.fire("alter",t);var i=e.id,a=e.pId,n=ue[a];n&&U(n.$d,i)&&(n.$rc--,delete n.$d[i],fe(n,t))}},he=function(e,t,i,a){a=(a=(a=ue[e])&&a.$v)?a.$a:{},0<t.indexOf(S)&&W(a,i)},ge=function(e,t){return le||(w=b.body,L(e=$.rootId)||(w.id=e),le=new ve(e)),le},xe=function(e,t){U(ue,e)||(ue[e]=t,ve.fire("add",{vframe:t}))},me=[];function ve(e,t,i){(i=this).id=e,i.$c={},i.$cc=0,i.$rc=0,i.$f=i.$f||1,i.$d={},i.$e=[],i.pId=t,xe(e,i)}N(ve,{all:function(){return ue},get:function(e){return ue[e]}},se),N(ve[M],se,{mountView:function(e,t){var i,a,n,o,r,s=this,l=s.id,p=L(l),d=s.pId;!s.$g&&p&&(s.$g=1,s.$h=p.innerHTML),s.unmountView(),s.$a=0,i=ae(e||""),n=i[E],p&&n&&(s[E]=e,o=i[A],he(d,e,o),s.$i=i[E],N(o,t),a=s.$f,K(n,function(e){if(a==s.$f){if(!e)return $.error(Error("id:"+l+" cannot load:"+n));r=Ue(e),n=new e(l,s,o,r),s.$v=n,Re(n),G(n.init,o,n),n.$f(),n.tmpl||(s.$g=0,n.$g||n.endUpdate())}}))},unmountView:function(){var e,t,i=this,a=i.$v,n=i.id;i.$e=[],a&&(pe||(t=1,pe={id:n}),i.$a=1,i.unmountZone(0,1),fe(i,pe),(i.$v=0)<a.$b&&(a.$b=0,delete Ae[n],delete Se[n],a.fire("destroy",0,1,1),Ve(a,1),Re(a,1),a.owner=0),a.$b--,(e=L(n))&&i.$g&&(e.innerHTML=i.$h),t&&(pe=0)),i.$f++},mountVframe:function(e,t,i){var a,n=this,o=n.id,r=n.$c;return fe(n,{id:e}),(a=ue[e])||(U(r,e)||(n.$j=0,n.$cc++),r[e]=e,(a=me.pop())?ve.call(a,e,o):a=new ve(e,o)),a.mountView(t,i),a},mountZone:function(e,t){var i,a,n=this,o=[];e=e||n.id;var r,s,l=(r="#"+e+" ["+z+"]",b.querySelectorAll(r));n.$b=1;for(var p=0,d=l;p<d.length;p++)(i=d[p]).$a||(a=P(i),i.$a=1,o.push([a,R(i,z)]));for(var c=0,u=o;c<u.length;c++)a=(s=u[c])[0],i=s[1],n.mountVframe(a,i);n.$b=0,t||_e(n)},unmountVframe:function(e,t){var i,a,n,o;if(e=e?this.$c[e]:this.id,i=ue[e]){var r=i.$cr,s=i.pId;i.unmountView(),n=r,(o=ue[a=e])&&(delete ue[a],ve.fire("remove",{vframe:o,fcc:n}),(a=L(a))&&(a.$a=0)),i.id=i.pId=i.$c=i.$d=0,i.$g=0,i.off("alter"),i.off("created"),me.push(i),(i=ue[s])&&U(i.$c,e)&&(delete i.$c[e],i.$j=0,i.$cc--,t||_e(i))}},unmountZone:function(e,t){var i;for(i in this.$c)(!e||i!=e&&D(i,e))&&this.unmountVframe(i,1);t||_e(this)},parent:function(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=ue[t.pId];return t},children:function(e){return(e=this).$j||(e.$j=Y(e.$c))},invoke:function(e,t){var i,a,n,o,r,s=this.$e;return(a=this.$v)&&a.$g?i=(n=a[e])&&G(n,t,a):((o=s[r=S+e])&&(o.r=t===o.a),o={n:e,a:t,k:r},s.push(o),s[r]=o),i}}),re.Vframe=ve;var be=new q(30,10),ye=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,we={},ke={},Ae={},Se={},Me=0,Ee=function(e,t){var i,a,n,o,r,s,l,p,d=[],c=e,u=R(e,"mx-"+t),_=[],f="#",h=0;if(u&&((r=be.get(u))||(r={v:(r=u.match(ye)||v)[1],n:r[2],i:r[3]},be.set(u,r)),r=N({},r,{r:u})),r&&!r.v||ke[t]){if((n=Se[a=c.$b])&&1==n[c.$d]&&(s=1,f=a),!s){for(_.push(c);c!=w&&(c=c.parentNode);){if(ue[a=c.id]||(n=Se[a=c.$b])&&1==n[c.$d]){f=a;break}_.push(c)}for(var g=0,x=_;g<x.length;g++)u=x[g],(a=Se[f])||(a=Se[f]={}),a[n=u.$d||(u.$d=++Me)]=1,u.$b=f}c=e.id,ue[c]&&(h=f=c);do{if((i=ue[f])&&(s=i.$v)){if(o=(n=s.$so)[t])for(c=o.length;c--;)n={r:a=o[c],v:f,n:a},a?!h&&(l=e,(p=a)&&l&&1===l.nodeType&&(l.webkitMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector||l.matchesSelector).call(l,p))&&d.push(n):h&&d.unshift(n);if(s.tmpl&&!h)break;h=0}}while(i&&(f=i.pId))}return r&&d.push(r),d},ze=function(e){for(var t,i,a,n,o,r,s,l=e.target,p=e.type,d=[];l!=w;){if((t=Ee(l,p)).length){d=[];for(var c=0,u=t;c<u.length;c++){var _=u[c],f=_.v,h=(_.r,_.n),g=_.i;if(r!=f){if(r&&e.isPropagationStopped())break;r=f}(n=(a=ue[f])&&a.$v)?n.$g&&(o=n[h+S+p])&&(e.eventTarget=l,s=g?oe(g,n.$a):{},e[A]=s,G(o,e,n)):e.stopPropagation()}}if((i=Ae[o=l.$b])&&(i=i[l.$d])&&i[p]||e.isPropagationStopped()){d.length&&d.push(o);break}r=l.id,ue[r]&&d.push(r),d.push(l),l=l.parentNode||w}if(o=d.length)for(i="#";o--;)(n=d[o]).nodeType?((t=Ae[i])||(t=Ae[i]={}),(s=t[r=n.$d||(n.$d=++Me)])||(s=t[r]={}),s[p]=1):i=n},Ie=function(e,t,i,a){var n;if(e){i=i||{};var o,r="",s=void 0,l=void 0,p=void 0,d=void 0,c={},u="<"+e,_="",f=[],h=void 0;if(t)for(var g=0,x=t;g<x.length;g++)p=(d=x[g]).a,d.b==Ce&&(p||(p=" "),p=Je(p)),_+=p,h&&d.b==Ce&&h.b==Ce?h.a+=d.a:(d.d&&(c[d.d]=(c[d.d]||0)+1),(d.e||Te[d.b])&&(s=1),h=d,f.push(d));for(l in i)!1!==(p=i[l])&&null!=p?(!0===p&&(p=""),"id"==l?r=p:l==z&&p&&!r?r=ae(p)[E]:l!=y||r?"mxv"==l&&(s=1):r=p,"x-html"==l?(f=[{b:S,a:_=p}],delete i[l]):(i[l]=p,u+=" "+l+'="'+Je(p)+'"')):delete i[l];o=u,n={a:u+=a?"/>":">"+_+"</"+e+">",c:_,d:r,b:e,e:s,f:o,g:i,h:f,i:c,j:a}}else n={b:Ce,a:t+""};return n},Te={input:[k,"checked"],textarea:[k],option:["selected"]},Ce=r;var $e=function(e,t,i){1==t.nodeType&&(i=P(t),e.$c[i]?e.unmountVframe(i,1):e.unmountZone(i,1))},Le={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},je=function(e,t,i,a){var n,o,r=i.g,s=t.g;if(t)for(n in s)U(r,n)||("id"==n?a.d.push([e,""]):(a.c=1,e.removeAttribute(n)));for(n in r)o=r[n],t&&s[n]===o||("id"==n?a.d.push([e,o]):(a.c=1,e.setAttribute(n,o)))},De=function(e,t,i){var a,n=e.b;return n==Ce?a=b.createTextNode(e.a):(a=b.createElementNS(Le[n]||t.namespaceURI,n),je(a,0,e,i),e.c&&(a.innerHTML=e.c)),a},Ne=function(e,t,i,a,n,o){if(t){if(t.e||t.c!=i.c){var r=void 0,s=0,l=t.h,p=i.h,d=void 0,c=void 0,u=l.length,_=p.length,f=i.i,h=e.childNodes,g=void 0,x={},m=0,v=0;for(r=u;r--;)(g=(d=l[r]).d)&&(g=x[g]||(x[g]=[])).push(h[r]);for(r=0;r<_;r++){if(c=p[r],d=l[v],(g=x[c.d])&&(g=g.pop())){for(;g!=h[m];)e.appendChild(h[m]),l.push(l[v]),l.splice(v,1),d=l[v];f[d.d]&&f[d.d]--,Ye(g,e,d,c,a,n,o)}else d?x[d.d]&&f[d.d]?(u++,a.c=1,e.insertBefore(De(c,e,a),h[m]),v--):Ye(h[m],e,d,c,a,n,o):(e.appendChild(De(c,e,a)),a.c=1);v++,m++}for(r=_;r<u;r++)s=h[_],$e(n,s),e.removeChild(s)}}else a.c=1,e.innerHTML=i.c},Ye=function(e,t,i,a,n,o,r){var s=i.g,l=a.g;if(function(e,t,i){var a,n,o=t.b,r=Te[o],s=i.g,l=0;if(r)for(var p=0,d=r;p<d.length;p++)a=d[p],n=U(s,a)?a!=k||s[a]:a==k&&"",e[a]!=n&&(l=1,e[a]=n);return l}(e,i,a)||i.e||i.a!=a.a)if(i.b==a.b){if(i.b==Ce)n.c=1,e.nodeValue=a.a;else if(i.b==S)n.c=1,t.innerHTML=a.a;else if(!s.mxs||s.mxs!=l.mxs){var p=l[z],d=a.c,c=i.f!=a.f,u=void 0,_=void 0,f=ue[e.id],h=void 0,g=void 0,x=p&&ae(p),m=void 0,v=void 0,b=void 0;if(p&&f&&f.$i==x[E]&&s.id==l.id&&(g=f.$v)){if(v=d!=i.c,b=p!=f[E],h=s.mxv,!v&&!b&&h)for(var y=0,w=m=h.split(",");y<w.length;y++)if("#"==(h=w[y])||U(r,h)){b=1;break}(b||v||c)&&(u=(h=g.$g&&g.$h)?(m=x[A],he(f.pId,p,m),f[E]=p,x={node:e,attr:c,deep:!g.tmpl,inner:v,query:b},G(h,[m,x],g)&&n.v.push(g),x.deep):_=1)}else u=1,_=f;_&&(n.c=1,f.unmountVframe(0,1)),c&&je(e,i,a,n),u&&!a.j&&Ne(e,i,a,n,o,r)}}else i.b==S&&(t.innerHTML=" ",e=t.firstChild),$e(o,e),a.b==S?t.innerHTML=a.a:t.replaceChild(De(a,t,n),e),n.c=1},Be=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,He=function(e,t,i){return e.a?i=e:((i=function(e){G(i.a,e,this)}).a=[e],i.b=1),i.a=i.a.concat(t.a||t),i},Ve=function(e,t){var i,a,n=e.$r;for(i in n)a=n[i],(t||a.x)&&Fe(n,i,1)},Fe=function(e,t,i,a){var n,o,r=e[t];return r&&r!=a&&((n=(o=r.e).destroy)&&i&&G(n,v,o),delete e[t]),o},Re=function(e,t){var i,a,n,o,r,s,l=e.$eo,p=e.$so,d=e.$el,c=e.id;for(i in l)n=p[a=i],o=t,void 0,r=0|we[a],s=o?-1:1,r&&o!==r||h(w,a,ze,o),we[a]=r+s,n&&(ke[a]=(0|ke[a])+s);for(var u=0,_=d;u<_.length;u++)i=_[u],h(i.e,i.n,f,t,{i:c,v:e,f:i.f,m:i.m,e:i.e})},Xe={win:n,doc:b},Pe=function(e,t,i){for(var a,n,o,r,s={},l=0,p=e;l<p.length;l++)for(a in n=p[l])o=n[a],r=s[a],"ctor"!=a?(Be.test(a)&&(r?o=He(r,o):o.b=1),s[a]=o):i.push(o);for(a in s)U(t,a)||(t[a]=s[a])};function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this._||(this._=[]);return Pe(e,this[M],i),this}var Ue=function(e){if(!e[S]){e[S]=[];var t=e[M],i=void 0,a=void 0,n=void 0,o=void 0,r={},s=[],l={},p=void 0,d=void 0,c=void 0,u=void 0,_=void 0,f=void 0,h=void 0;for(c in(a=t.mixins)&&Pe(a,t,e[S]),t)if(i=t[c],a=c.match(Be)){if(d=a[1],n=a[2],o=a[3],f={},h=a[4])for(var g=0,x=h=h.split(",");g<x.length;g++)f[u=x[g]]=!0;for(var m=0,v=o=o.split(",");m<v.length;m++){if(u=v[m],p=Xe[n],_=1,d){if(p){s.push({f:i,e:p,n:u,m:f});continue}_=2,(p=l[u])||(p=l[u]=[]),p[n]||(p[n]=1,p.push(n))}r[u]=r[u]|_,(p=t[u=n+S+u])?p.b&&(i.b?t[u]=He(i,p):U(t,c)&&(t[u]=i)):t[u]=i}}w="$f",k=(b=t)[y="render"],b[y]=b[w]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0<(A=this).$b&&(A.$b++,A.fire("rendercall"),Ve(A),G(k,e,A))},t.$eo=r,t.$el=s,t.$so=l,t.$h=t.assign}var b,y,w,k,A;return e[S]},We={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},Oe=/[&<>"'\`]/g,qe=function(e){return""+(null==e?"":e)},Ke=function(e){return"&"+We[e]+";"},Je=function(e){return qe(e).replace(Oe,Ke)},Ze=function(e,t,i,a){for(a=e[S];--a;)if(e[i=S+a]===t)return i;return e[i=S+e[S]++]=t,i},Qe={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},et=function(e){return Qe[e]},tt=/[!')(*]/g,it=function(e){return encodeURIComponent(qe(e)).replace(tt,et)},at=/[\\'"]/g,nt=function(e){return qe(e).replace(at,"\\$&")},ot=function(t,i){var e,a,n=t.$i,o=t.$j,r=t.id,s=ue[r],l={d:[],v:[],n:[]},p=L(r),d=t.$d,c=t.$a,u=function(e){i.i<i.length?ot(updater,i):(l=i.slice(),i.i=i.length=0,e&&t.fire("domready"),G(l))};if(i.i=i.length,t.$j=0,t.$i={},o&&0<t.$b&&(e=t.tmpl)){t.fire("dompatch"),delete Ae[r],delete Se[r],a=e(d,Ie,r,c,qe,it,Ze,nt,x,N),Ne(p,t.$n,a,l,s,n),t.$n=a;for(var _=0,f=l.d;_<f.length;_++)(a=f[_])[0].id=a[1];s.$b=e=l.c||!t.$g;for(var h=0,g=l.v;h<g.length;h++)(a=g[h]).$f();e&&t.endUpdate(r),l.c&&m(b,"htmlchanged",{vId:r}),u(1)}else u()};function rt(e,t,i,a){var n;(a=this).owner=t,a.id=e,a.$r={},a.$b=1,a.$j=1,a.$d={id:e},a.$a=((n={})[S]=1,n),a.$e=[],a.$i={},(e=rt._)&&G(e,i,a)}return N(rt,{merge:Ge,extend:function e(t,i){var s=this,a=(t=t||{}).ctor,l=[];function p(e,t,i,a,n,o,r){s.call(o=this,e,t,i,a),(n=p._)&&G(n,i,o),(r=l.concat(a)).length&&G(r,i,o)}return a&&l.push(a),p.merge=Ge,p.extend=e,Q(p,s,t,i)}}),N(rt[M],se,{init:t,beginUpdate:function(e,t){0<(t=this).$b&&t.$g&&t.owner.unmountZone(e,1)},endUpdate:function(e,t,i,a,n){0<(i=this).$b&&(e=e||i.id,t?n=t:(n=i.$g,i.$g=1),(a=i.owner).mountZone(e,t),n||u(i.wrapAsync(function(){!function(e,t,i){for(t=e.$e;t.length;)(i=t.shift()).r||e.invoke(i.n,i.a),delete t[i.k]}(a)}),0))},wrapAsync:function(i,a){var n=this,o=n.$b;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0<o&&o==n.$b)return i.apply(a||n,e)}},observeState:function(e){this.$os=(e+"").split(",")},capture:function(e,t,i,a){return a=this.$r,t?(Fe(a,e,1,t),a[e]={e:t,x:i}):t=(a=a[e])&&a.e,t},release:function(e,t){return Fe(this.$r,e,t)},render:t,get:function(e,t){return t=this.$d,e&&(t=t[e]),t},set:function(e,t){var i=this;return i.$j=function(e,t,i,a){var n,o,r,s=0;for(r in e)n=e[r],o=t[r],j(n)&&o===n||U(a,r)||(s=i[r]=1),t[r]=n;return s}(e,i.$d,i.$i,t)||i.$j,i},digest:function(e,t,i){var a=this.set(e,t),n=a.$e;i&&n.push(i),n.i||ot(a,n)},snapshot:function(){return this.$o=_(this.$d),this},altered:function(){if(this.$o)return this.$o!=_(this.$d)},translate:function(e){return W(this.$d,e)},parse:function(e){return oe(e,this.$a)},changed:function(){return this.$j}}),re.View=rt,re.default=re}),setTimeout(function(){var e=document.getElementById("boot").src.replace("/report.js","");seajs.config({paths:{designer:e+"/designer",i18n:e+"/i18n",gallery:e+"/gallery",util:e+"/util",panels:e+"/panels",elements:e+"/elements"}}),seajs.use(["magix","i18n/index"],function(e,t){e.applyStyle("p_",'body,figure,h5,input,p,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}a{background-color:transparent}a:active,a:hover{outline-width:0}a:focus{outline:1px dotted}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button;cursor:pointer}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto;resize:vertical}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a:focus,button:focus,input:focus,textarea:focus{outline:none;resize:none}a{color:#f96447;text-decoration:none}a:focus,a:hover{color:#d43b1c}a:active,a:focus,a:hover,a:visited{outline:0;text-decoration:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}@font-face{font-family:pa;src:url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAcsAAsAAAAACqQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZXOEjOY21hcAAAAYAAAACWAAACCs4hbhBnbHlmAAACGAAAAugAAAO0BG1azWhlYWQAAAUAAAAALwAAADYPpP4TaGhlYQAABTAAAAAcAAAAJAfeA4pobXR4AAAFTAAAABQAAAAkI+kAAGxvY2EAAAVgAAAAFAAAABQEcAVsbWF4cAAABXQAAAAfAAAAIAEYAF1uYW1lAAAFlAAAAUUAAAJtPlT+fXBvc3QAAAbcAAAATwAAAGizaRo4eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2Bk/ss4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVDy7z9zwv4EhhrmB4RRQmBEkBwA4Ig2aeJzFkbsNwzAMRE+RP0IQwEEG8AReyl1Kl+68g5Eqy7m7NZyj6EZI6viEJ4AnkRJIADWAKAZRAeGNANNLbsh+xDX7FZ6KH7jLuWBmYseeIxeu3PZdZ7+8UkH55TIvIql6raoNWhnNV97fFM57utQt79MRJTEf6ItMjk2OnWN32Ds2SY6OTZiLow6Dq6Neg5uD9gPbdC1VAAB4nH1SO2sUURi9370zd3Zmd+48dh77yr4mO7MmutlsxkkR3DQ2GgtBCAhaCBY2SrAwjUUw5CEo+A/EoAgR1LBpArEUQVBs3MrCYEAbY+xsMnpHV0ghDsM9936cj+9xDhIR+rlDtkkOZVETjaOT6CxCQEehzvAQ1IKwhUfBrom2azESeEFN8uotcgLcOrWcThT6LpWoBgzKMFHrREELB3A87OIp6DhDAPli4ZzZKJnkHii5oLwUn8ZrYFe8ktY9Fp86Om11qtnUfMY086Z5J0VFMYWxoDG46jqyKCs0fihqBXu7cgRXIJMPCmfOq9WieWk1vDbUcGWAhQXIFqvs8bRRMPh/s+Bkzbykq6lcQfWGLZjfTeeymSH/E+If5rNG5AfxURpNJVMiyUFuhCZ9RFzH0oDWx8CvDzCchigcYKcCTmeACc/CqB/vUgqlfh9KlMa7ZxYZa2gNbZH5bJFjg7FFVf1XkPic3j+UfrD3/4RDwT8z3CIH5AbKowZCYuAHXTjegoCBVAa3E006Sa9R2OCxLkzyGAPy9aMkj7bFvc3NPZGfM0uRIH00RqoHmys9Qnorv09vRxKipZneN0H41uPE9qgs7WjVkZecsNwThN7ySg8Br79AhskC9wuSsWPRegCuH062x/l6HIvY8Syss3JTizWPMXirNctkJJ6NZ/mFwXdPa+rwRis3uR6QiEIu4s9cDwQ1wzNqds2YMGrkQry/Gu+Dvgo69EEfvNDfHPwS9pL6v8UKfG7FSuK/KFEMvxBNae0+NTPicyKTtLghwhdRXFsTlaz0jAhAN4j5t/YsbCGCUJbXfYLXD/jz+sAn78lrMoJaaIxTJcpXym3uJbbg6rcwLzQGLegCv0xz6CRL5z1gKpGtR7oQYJpWtUz6nW2/UosOg7agP1Uk2WKfnPQV6pZcejntfGaWLCnw4K7h7Kp2SqZzijInYd1Wv7j6baVQNHBTsD5kNC3zwRKa2CgWFN7eL0lutBh4nGNgZGBgAGLnEJdv8fw2Xxm4WRhA4JrTXQME/d+MhYG5AcjlYGACiQIAFvYJkgB4nGNgZGBgbvjfwBDDwgACQJKRARVwAgBHDwJyeJxjYWBgYH7JwMDCgBsDAB8LAQ0AAAAAAHYA2AEYAT4BWAF8AYoB2nicY2BkYGDgZAhkYGUAASYg5gJCBob/YD4DABGZAXYAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbccxDoAgDAXQfkQEbsOR6gLVpAykCeH0xrj6tkeOPpn+JThs8NgRcCAiIRNmqMZ6ShjdhvU4hbUu6/4SLnE11pulvFM/RSvRA98yEWMA") format("woff")}.p_{font-family:pa;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.pa{margin-right:10px}.pb{height:100%}.pc{float:left}.pd{float:right}html .pe{display:inline-block}.pf{position:absolute}.pg{position:relative}html .ph{display:none}.pi:after,.pi:before{content:" ";display:table}.pi:after{clear:both}.pj{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pk::-webkit-scrollbar,.pk::-webkit-scrollbar-corner{height:8px;width:8px;background:#fafafa}.pk::-webkit-scrollbar-thumb{background:silver}.pk::-webkit-scrollbar-thumb:hover{background:#949494}.pl{white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.pm{color:#d2d2d2;cursor:not-allowed}.pn{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;white-space:nowrap;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pn:focus,.pn:hover{background-color:#a0a0a0;color:#333}.po{background-color:#f96447;color:#fff}.po:focus,.po:hover{background-color:#d43b1c;color:#fff}.pn[disabled]{background-color:#fbfbfb}.pn[disabled]:hover{border-color:#e6e6e6}.pp{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143}.pq{padding:18px 25px}.pr{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6}.ps{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.ps:after,.ps:before{content:""}.ps:after,.ps:before,.pt{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:p_ 1s ease-in-out infinite both;animation:p_ 1s ease-in-out infinite both}.ps:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.pt{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes p_{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes p_{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}::-webkit-input-placeholder{color:#999}::-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.pu,.pv{caret-color:#f96447;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.pu:hover,.pv:hover{border-color:#ccc}.pu:focus,.pv:focus,.pw,.pw:hover{border-color:#f96447!important}.pv{height:auto}.pu[disabled],.pv[disabled]{background-color:#fbfbfb}.pu[disabled]:hover,.pv[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}@font-face{font-family:pb;src:url(//at.alicdn.com/t/font_890516_ap3pgzsynl.eot);src:url(//at.alicdn.com/t/font_890516_ap3pgzsynl.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_ap3pgzsynl.woff) format("woff"),url(//at.alicdn.com/t/font_890516_ap3pgzsynl.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_ap3pgzsynl.svg#iconfont) format("svg")}.px{font-family:pb;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}#app,body,html{height:100%;overflow:hidden}body{min-width:900px}.py{font-size:12px}.pz{margin-right:2px}.pA{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.pB{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.pC{margin-left:100px}.pD{margin-right:50px}.pE{display:flex;align-items:center}');var i="zh-cn";try{var a=window.localStorage;a&&(i=a.getItem("l.report.lang")||i)}catch(e){}e.config({lang:i});var n=t.default;e.View.merge({ctor:function(){this.set({i18n:n})},__cL:function(a,n){var o=this;n=n||150;var r,s=Date.now();return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Date.now();clearTimeout(r),n<i-s?(s=i,a.apply(o,e)):r=setTimeout(function(){a.apply(o,e)},n-(i-s))}}}),document.title=n("_k"),e.boot({defaultPath:"/index",defaultView:"designer/index",rootId:"app",error:function(e){setTimeout(function(){throw e},0)}})})},0),define("gallery/mx-color/index",["magix","../mx-dragdrop/index","../mx-monitor/index"],function(e,t,i){"use strict";t.__esModule=!0;var g=e("magix"),a=e("../mx-dragdrop/index"),n=e("../mx-monitor/index");g.default.applyStyle("pg",'.pat{height:22px;border:1px solid #e6e6e6;border-radius:2px;display:flex;align-items:center;cursor:pointer;padding:1px}.pat,.pau{position:relative}.pau{min-width:18px;height:18px;text-indent:-100000em;border:1px solid #ccc}.pav{padding:3px 4px}.pau:after{content:" ";display:block;right:0;bottom:0;position:absolute;border-color:transparent #ccc;border-style:solid;border-width:6px 6px 0 0}.paw{position:absolute;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:2px}.pax-bottom{top:100%;margin-top:4px}.pax-top{bottom:100%;margin-bottom:4px}.pay{width:176px}.paz{border:1px solid #000;float:left;width:12px;height:12px;margin:-1px 0 0 -1px;position:relative}.paA:before{content:" ";position:absolute;left:2px;top:2px;border:1px inset #e8e8e8;width:6px;height:6px}.paB{margin:5px 0;height:150px}.paC{position:relative;float:left;width:148px;height:148px}.paD{position:absolute;width:8px;height:8px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;left:-4px;top:-4px}.paE{width:18px;height:148px;position:relative;float:left;margin-left:10px}.paF{position:absolute;left:2px;top:-2px;height:4px;width:14px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.paG{height:25px}.paH{width:80px}.paI,.paH{margin-right:5px;vertical-align:middle}.paI{width:30px;border-radius:2px;height:22px;display:inline-block;border:1px solid #ddd}');var o=["d81e06","f4ea2a","1afa29","1296db","13227a","d4237a","ffffff","e6e6e6","dbdbdb","cdcdcd","bfbfbf","8a8a8a","707070","515151","2c2c2c","000000","ea986c","eeb174","f3ca7e","f9f28b","c8db8c","aad08f","87c38f","83c6c2","7dc5eb","87a7d6","8992c8","a686ba","bd8cbb","be8dbd","e89abe","e8989a","e16632","e98f36","efb336","f6ef37","afcd51","7cba59","36ab60","1baba8","17ace3","3f81c1","4f68b0","594d9c","82529d","a4579d","db649b","dd6572","d84e06","e0620d","ea9518","f4ea2a","8cbb1a","2ba515","0e932e","0c9890","1295db","0061b2","0061b0","004198","122179","88147f","d3227b","d6204b"],x=function(e,t,i){var a,n,o,r,s;e=e%360/60,a=n=o=i-(s=i*t);var l=255*(a+=[s,r=s*(1-Math.abs(e%2-1)),0,0,r,s][e=~~e]),p=255*(n+=[r,s,s,r,0,0][e]),d=255*(o+=[0,0,r,s,s,r][e]);return{r:l,g:p,b:d,hex:"#"+(16777216|d|p<<8|l<<16).toString(16).slice(1)}};t.default=g.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h,g,x,m,v,b=[],y=e.text,w=e.textWidth,k=e.color,A=e.id,S=e.placement,M=e.align,E=e.renderUI,z=e.shortcuts;if(d=[],y&&(f=[t(0,y)],u="",w&&(u+="width:"+w+"px"),(_={class:"pav pj"}).style=u,_["mx-click"]=i+"\x1e__b_()",c=[t("div",f,_)],d.push.apply(d,c)),c=[t(0,"picker")],u="background:"+k+";",y||(u+="width:100%"),(_={class:"pau pj","mx-click":i+"\x1e__b_()"}).style=u,d.push(t("div",c,_)),c=[],E){h=[];for(var I=0,T=z,C=T.length;I<C;I++){var $=T[I];g=[t("li",0,{class:"paz",id:"sc_"+$+"_"+A,style:"background:#"+$,"mx-click":i+"\x1e__aX({color:'#"+s($)+"'})"})],h.push.apply(h,g)}f=[t("ul",h,{class:"pay pi",id:"scs_"+A})],(v=[t("stop",0,{mxs:"pm:_",offset:"0%","stop-color":"#000000","stop-opacity":"1"})]).push(t("stop",0,{mxs:"pm:a",offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})),m=[t("lineargradient",v,{id:"gb_"+A,x1:"0%",y1:"100%",x2:"0%",y2:"0%"})],(v=[t("stop",0,{mxs:"pm:b",offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"})]).push(t("stop",0,{mxs:"pm:a",offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})),m.push(t("lineargradient",v,{id:"gw_"+A,x1:"0%",y1:"100%",x2:"100%",y2:"100%"})),(x=[t("defs",m)]).push(t("rect",0,{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gw_"+A+")"}),t("rect",0,{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gb_"+A+")"})),(g=[t("svg",x,{mxa:"pm:d",xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"})]).push(t("div",0,{class:"paD",id:"ci_"+A})),h=[t("div",g,{class:"paC",id:"cz_"+A,"mx-mousedown":i+"\x1e__aU()"})],(v=[t("stop",0,{mxs:"pm:c",offset:"0%","stop-color":"#FF0000","stop-opacity":"1"})]).push(t("stop",0,{mxs:"pm:d",offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),t("stop",0,{mxs:"pm:e",offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),t("stop",0,{mxs:"pm:f",offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),t("stop",0,{mxs:"pm:g",offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),t("stop",0,{mxs:"pm:h",offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),t("stop",0,{mxs:"pm:i",offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),t("stop",0,{mxs:"pm:j",offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),t("stop",0,{mxs:"pm:k",offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})),(x=[t("defs",m=[t("lineargradient",v,{id:"ghsv_"+A,x1:"0%",y1:"100%",x2:"0%",y2:"0%"})])]).push(t("rect",0,{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#ghsv_"+A+")"})),(g=[t("svg",x,{mxa:"pm:f",xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"})]).push(t("div",0,{class:"paF",id:"si_"+A})),h.push(t("div",g,{mxa:"pm:e",class:"paE","mx-mousedown":i+"\x1e__aV()"})),f.push(t("div",h,{mxa:"pm:c",class:"paB"})),(h=[t("span",0,{class:"paI",id:"bc_"+A})]).push(t("input",0,{class:"pu paH",readonly:!0,id:"v_"+A,value:k},1)),g=[t(0,"\u786e\u5b9a")],h.push(t("button",g,{mxs:"pm:l",class:"pn po",type:"button","mx-click":i+"\x1e__aW();"})),f.push(t("div",h,{mxa:"pm:g",class:"paG"})),c.push.apply(c,f)}return d.push(t("div",c,{id:"bd_"+A,class:"paw pax-"+S,style:M+":-1px"})),b.push(t("div",d,{mxa:"pm:_",class:"pat","mx-contextmenu":i+"\x1e__B()"})),t(i,b)},mixins:[a.default],init:function(e){var t=this;this.set({shortcuts:o}),n.default.__aM(),this.on("destroy",function(){n.default.__aA(t),n.default.__aN()}),this.assign(e)},assign:function(e){return this.__W=e.color||"#ffffff",this.__aO={h:0,s:1,v:1},this.set({text:e.text||"",disabled:e.disabled+""=="true",align:e.align||"left",textWidth:e.textWidth||0,placement:e.placement||"bottom"}),!0},render:function(){this.digest({color:this.__W})},__aR:function(e,t){var i=this,a=i.__aO;a.h=e.h,a.s=e.s,a.v=e.v;var n=x(e.h,e.s,e.v).hex,o=g.default.node("cz_"+i.id),r=o.clientWidth,s=x(e.h,1,1);if(o.style.background=s.hex,i.__aP=n,i.__aQ(),!t){var l=g.node("scs_"+i.id).querySelector('li[class$="paA"]');l&&l.classList.remove("paA");var p=g.node("si_"+i.id),d=p.clientHeight/2,c=Math.round(a.h*r/360-d),u=g.node("ci_"+i.id),_=u.clientWidth/2;p.style.top=c+"px",c=Math.round((1-a.v)*r-_);var f=Math.round(a.s*r-_);u.style.left=f+"px",u.style.top=c+"px"}var h=g.node("sc_"+n.substr(1,6)+"_"+i.id);h&&h.classList.add("paA")},__aT:function(e){var t=parseInt(e.substr(1,2),16),i=parseInt(e.substr(3,2),16),a=parseInt(e.substr(5,2),16),n=parseInt(e.substr(7,2),16);isNaN(n)&&(n=255),this.__aS=("0"+n.toString(16)).slice(-2);var o,r,s,l,p,d=(o=t,r=i,s=a,o/=255,r/=255,s/=255,{h:(0==(p=(l=Math.max(o,r,s))-Math.min(o,r,s))?null:l==o?(r-s)/p+(r<s?6:0):l==r?(s-o)/p+2:(o-r)/p+4)%6*60,s:0===p?0:p/l,v:l});this.__aR(d)},__aQ:function(){var e=this.__aP;g.node("bc_"+this.id).style.background=e,g.node("v_"+this.id).value=e},"__B<contextmenu>":function(e){e.preventDefault()},"__aU<mousedown>":function(e){var o=this,r=g.node("cz_"+o.id).clientWidth,s=g.node("ci_"+o.id).clientWidth/2,t=e.eventTarget.getBoundingClientRect(),i=e.pageX-t.left-window.pageXOffset,a=e.pageY-t.top-window.pageYOffset,n=i/r,l=(r-a)/r;o.__aR({h:o.__aO.h,s:n,v:l});var p=g.node("ci_"+o.id),d=getComputedStyle(p),c=d.left,u=d.top,_=parseInt(c,10),f=parseInt(u,10),h=e;o.__x(e,function(e){var t=e.pageY-h.pageY,i=e.pageX-h.pageX;(t+=f)<=-s?t=-s:r-s<=t&&(t=r-s),(i+=_)<=-s?i=-s:r-s<=i&&(i=r-s),p.style.left=i+"px",p.style.top=t+"px";var a=(i+s)/r,n=(r-(t+s))/r;o.__aR({h:o.__aO.h,s:a,v:n})})},"__aV<mousedown>":function(a){var n=this,e=a.eventTarget,o=g.node("si_"+n.id),r=g.node("cz_"+n.id).clientWidth,s=o.clientHeight/2,t=e.getBoundingClientRect(),i=(a.pageY-t.top-window.scrollY)/r*360;n.__aR({h:i,s:n.__aO.s,v:n.__aO.v});var l=parseInt(getComputedStyle(o).top,10);n.__x(a,function(e){var t=e.pageY-a.pageY;(t+=l)<=-s?t=-s:r-s<=t&&(t=r-s),o.style.top=t+"px";var i=(t+s)/r*360;n.__aR({h:i,s:n.__aO.s,v:n.__aO.v},!0)})},"__aW<click>":function(){var e=this,t=g.node("v_"+e.id).value;e.__z(),t!=e.__W&&(e.digest({color:t}),g.default.fire(g.node(e.id),"input",{color:e.__W=t}))},"__aX<click>":function(e){this.__aT(e.params.color),e.eventTarget.classList.add("paA")},__aY:function(e){return g.default.inside(e,this.id)},__y:function(){var e=this,t=g.node("bd_"+this.id);"none"==getComputedStyle(t).display&&(t.style.display="block",n.default.__az(this),this.__aZ||(this.digest({renderUI:!0},null,function(){e.__aT(e.__W)}),this.__aZ=1))},__z:function(){var e=g.node("bd_"+this.id);"none"!=getComputedStyle(e).display&&(e.style.display="none",n.default.__aA(this))},"__b_<click>":function(){var e=g.node("bd_"+this.id);"none"==getComputedStyle(e).display?this.__y():this.__z()}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=e("../../i18n/index");t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c=[],u=e.title,_=e.body,f=e.i18n;return d=[t("h5",[t(0,u)])],c.push(t("div",d,{mxa:"pn:_",class:"pp"})),d=[t(0,_)],c.push(t("div",d,{mxa:"pn:a",class:"pq",style:"word-break:break-all;"})),d=[t("button",[t(0,f("_J"))],{mxa:"pn:c","mx-click":i+"\x1e__aW();",class:"pn po pd",type:"button"})],c.push(t("div",d,{mxa:"pn:b",class:"pr pi"})),t(i,c)},init:function(e){this.__ba=e.dialog,this.__bb=e.body,this.__bc=e.title||n.default("__I"),this.__bd=e.enterCallback},render:function(){this.digest({body:this.__bb,title:this.__bc})},"__aW<click>":function(){this.__ba.close(),this.__bd&&a.default.toTry(this.__bd)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=e("../../i18n/index");t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u=[],_=e.title,f=e.body,h=e.i18n;return d=[t("h5",c=[t(0,_)])],u.push(t("div",d,{mxa:"po:_",class:"pp"})),d=[t(0,f)],u.push(t("div",d,{mxa:"po:a",class:"pq",style:"word-break:break-all;"})),d=[t("button",c=[t(0,h("_K"))],{mxa:"po:c",type:"button","mx-click":i+"\x1e__bf()",class:"pn pd"})],c=[t(0,h("_J"))],d.push(t("button",c,{mxa:"po:d",type:"button","mx-click":i+"\x1e__aW()",class:"pn po pa pd"})),u.push(t("div",d,{mxa:"po:b",class:"pr pi"})),t(i,u)},init:function(e){var t=this;t.__ba=e.dialog,t.__bb=e.body,t.__bc=e.title||n.default("__I"),t.__bd=e.enterCallback,t.__be=e.cancelCallback},render:function(){this.digest({body:this.__bb,title:this.__bc})},"__aW<click>":function(){this.__ba.close(),this.__bd&&a.default.toTry(this.__bd)},"__bf<click>":function(){this.__ba.close(),this.__be&&a.default.toTry(this.__be)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],function(e,t,i){"use strict";t.__esModule=!0;var l=e("magix");e("./alert"),e("./confirm"),l.default.applyStyle("ph",".paJ{position:absolute}.paK{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.paL{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.paL:focus,.paL:hover{opacity:.5}.paM{font-size:22px;font-weight:400}.paN{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.paO{-webkit-filter:blur(3px);filter:blur(3px)}.paP{-webkit-animation:pc .3s;animation:pc .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.paQ{position:absolute;right:10px;top:0;width:1px;height:0}.paR{padding:80px 0}@-webkit-keyframes pc{0%{opacity:0}to{opacity:.2}}@keyframes pc{0%{opacity:0}to{opacity:.2}}.paS{-webkit-animation:pd .2s;animation:pd .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pd{0%{opacity:.2}to{opacity:0}}@keyframes pd{0%{opacity:.2}to{opacity:0}}.paT{margin-bottom:50px;min-height:60px}.paU{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.paV{-webkit-animation:pe .3s;animation:pe .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pe{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes pe{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.paW{-webkit-animation:pf .2s;animation:pf .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pf{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes pf{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");var n=500,o=[];t.default=l.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h=[],g=e.removeClass,x=e.zIndex,m=e.id,v=e.left,b=e.top,y=e.width,w=e.closable;return d="paN",g||(d+=" paP"),(c={}).class=d,c.style="z-index:"+(x-1),c.id="mask_"+m,h.push(t("div",0,c)),_=[t("input",0,{id:"focus_"+m,class:"paQ"},1)],f=[t(0,"\ue67f")],_.push(t("span",f,{class:"p_ paM paL "+(w?"":"ph"),"mx-click":i+"\x1e__bh()"})),f=[t("div",[t("span",0,{class:"pt"})],{mxs:"pp:_",class:"ps paR"})],_.push(t("div",f,{class:"paK paT",id:"cnt_"+m})),d="paJ",g||(d+=" paV"),(c={}).class=d,c.id="body_"+m,c.style="left:"+v+"px;top:"+b+"px;width:"+y+"px;",u=[t("div",_,c)],h.push(t("div",u,{class:"paU",style:"z-index:"+x+";"})),t(i,h)},init:function(e){var t=this,i=l.default.node("app"),a=l.default.node(t.id);t.on("destroy",function(){!function(e){for(var t=o.length-1;0<=t;t--)if(o[t].id==e.id){o.splice(t,1);break}}(t),500==(n-=2)&&i.classList.remove("paO"),l.default.fire(a,"close"),a.parentNode.removeChild(a)}),l.default.has(e,"closable")||(e.closable=!0),t.set(e),500==n&&i.classList.add("paO"),n+=2,o.push(t)},render:function(){var t=this;t.digest({zIndex:n},null,function(){var e=t.get();setTimeout(t.wrapAsync(function(){l.default.node(t.id).style.display="block",l.default.node("focus_"+t.id).focus()}),30),t.owner.mountVframe("cnt_"+t.id,e.view,e),setTimeout(t.wrapAsync(function(){t.digest({removeClass:!0})}),300)})},__bg:function(e){l.default.Vframe.get("cnt_"+this.id).invoke("fire",["unload",e])},"__bh<click>":function(){l.default.fire(l.default.node(this.id),"dlg_close")},"$doc<keyup>":function(e){if(27==e.keyCode){var t=o[o.length-1];t==this&&t.updater.get("closable")&&l.default.fire(l.default.node(this.id),"dlg_close")}}},{__bj:function(i,e){var a=l.default.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+a+'" style="display:none" />');var n,o=i.owner.mountVframe(a,"gallery/mx-dialog/index",e),r=l.default.node(a);return r.addEventListener("dlg_close",function(){if(!r.__bi&&!n){var e=function(){r.__bi=1,(r=l.default.node("body_"+a)).classList.add("paW"),(r=l.default.node("mask_"+a)).classList.add("paS"),setTimeout(function(){i.owner&&i.owner.unmountVframe(a)},200)},t={p:0,prevent:function(){n=1},resolve:function(){t.p=1,n=0,e()},reject:function(){t.p=1,n=0}};o.invoke("__bg",[t]),n||t.p||e()}}),r},alert:function(e,t,i){this.confirm(e,t,null,i,"alert")},confirm:function(e,t,i,a,n){this.mxDialog("gallery/mx-dialog/"+(n||"confirm"),{body:e,cancelCallback:i,enterCallback:t,title:a,modal:!0,width:300,closable:!1,left:(window.innerWidth-300)/2,top:Math.max((window.innerHeight-220)/2,0)})},mxDialog:function(i,a){var n,o,r=this,s={view:i};return l.default.use(i,r.wrapAsync(function(e){var t="$dlg_"+i;r[t]||(r[t]=1,l.default.mix(s,e.dialogOptions),l.default.mix(s,a),s.width||(s.width=500),s.left||(s.left=(window.innerWidth-s.width)/2),s.top||(s.top=100),s.dialog={close:function(){n&&l.default.fire(n,"dlg_close")}},(n=r.__bj(r,s)).addEventListener("close",function(){delete r[t],o&&o()}))})),{close:function(){n&&l.default.fire(n,"dlg_close")},whenClose:function(e){o=e}}}})}),define("gallery/mx-dragdrop/index",[],function(e,t,i){"use strict";t.__esModule=!0;var a=window.getComputedStyle,_=function(e){(e=window.getSelection)&&e().removeAllRanges()},f=function(e){e.preventDefault()},h=["mousemove","touchmove","pointermove"],g=["mouseup","touchend","pointercancel","touchcancel"],x=["keydown","mousewheel","DOMMouseScroll"];t.default={ctor:function(){var e=this;e.on("destroy",function(){e.__bk()})},__bk:function(e){var t=this,i=t.__bl;if(i){delete t.__bl;for(var a=void 0,n=0,o=h;n<o.length;n++)a=o[n],document.removeEventListener(a,t.__bm);for(var r=0,s=g;r<s.length;r++)a=s[r],document.removeEventListener(a,t.__bn);for(var l=0,p=x;l<p.length;l++)a=p[l],document.removeEventListener(a,f);window.removeEventListener("blur",t.__bn);var d=i.__bo,c=i.__bp,u=i.__bq;d.releaseCapture?d.releaseCapture():d.releasePointerCapture&&e.pointerId&&d.releasePointerCapture(e.pointerId),u&&c(e)}},__x:function(e,t,i){var a=this;if(a.__bk(),e){_();var n=e.eventTarget||e.target;n.setCapture?n.setCapture():n.setPointerCapture&&e.pointerId&&n.setPointerCapture(e.pointerId),a.__bl={__bp:i,__bo:n,__bq:!!i};var o=!!t;a.__br=0,a.__bn=function(e){a.__br=1,a.__bk(e)},a.__bm=function(e){o&&t(e)};for(var r=void 0,s=0,l=h;s<l.length;s++)r=l[s],document.addEventListener(r,a.__bm);for(var p=0,d=g;p<d.length;p++)r=d[p],document.addEventListener(r,a.__bn);for(var c=0,u=x;c<u.length;c++)r=u[c],document.addEventListener(r,f);window.addEventListener("blur",a.__bn)}},__J:function(e,t){var i=null;if(document.elementFromPoint)for(!f.__bs&&a&&(f.__bs=!0,f.__bt=null!==document.elementFromPoint(-1,-1)),f.__bt&&(e+=window.pageXOffset,t+=window.pageYOffset),i=document.elementFromPoint(e,t);i&&3==i.nodeType;)i=i.parentNode;return i},__bu:_}}),define("gallery/mx-dropdown/index",["magix","../mx-monitor/index"],function(e,t,i){"use strict";t.__esModule=!0;var d=e("magix"),a=e("../mx-monitor/index");d.default.applyStyle("pi",'.paX{outline:0;position:relative;width:140px;background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;display:inline-block;vertical-align:middle;height:22px;transition:all .25s}.paX:hover{border-color:#ccc}.paY{color:#333;position:relative;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 20px 0 3px}.paZ{cursor:not-allowed;background-color:#fbfbfb}.paZ:hover{border-color:#e6e6e6}.paZ .paY{cursor:not-allowed}.pb_{position:absolute;right:0;top:0;font-size:20px;color:#ccc;transition:all .25s}.pba .pb_{-webkit-transform:rotate(180deg);transform:rotate(180deg);top:0}.paX[tabindex="0"]:focus,.pba,.pba:hover{border-color:#f96447}.pbb{height:20px;line-height:21px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.pbc{color:#999}.pbd{position:absolute;top:100%;left:-1px;right:-1px;margin-top:4px;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pba .pbd{display:block}.pbe{overflow:auto;max-height:196px;padding:2px 0}.pbf{padding:0 2px;margin:2px 0}.pbg{cursor:pointer;color:#666;display:block;width:100%;padding:0 5px;height:20px;line-height:20px;border-radius:2px}.pbg:hover{color:#333;background-color:#f0f0f0}.pbh,.pbh:active,.pbh:focus,.pbh:hover{color:#fff;background-color:#f96447}'),t.default=d.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h,g,x,m,v,b=[],y=e.disabled,w=e.id,k=e.selectedText,A=e.selected,S=e.emptyText,M=e.rList,E=e.list,z=e.textKey,I=e.valueKey;if(_=[],h=[t(0,k)],c="pbb",""!==A&&A!=S||(c+=" pbc"),(u={}).class=c,f=[t("span",h,u)],h=[t(0,"\ue692")],f.push(t("span",h,{mxs:"pq:_",class:"p_ pb_"})),_.push(t("div",f,{class:"paY","mx-click":i+"\x1e__b_()",title:k})),M){g=[];for(var T=0,C=E,$=C.length;T<$;T++){var L=C[T];x=[];var j=L,D=L;z&&I&&("",j=L[z]," ",D=L[I]);var N=D+""==A+"";v=[t(0,j)],c="pbg pl",N&&(c+=" pbh"),(u={}).class=c,u["mx-click"]=i+"\x1e__bv({item:'"+r(a,L)+"'})",m=[t("span",v,u)],x.push(t("li",m,{title:j,active:(d=N)?d:null,class:"pbf"})),g.push.apply(g,x)}f=[t("div",h=[t("ul",g,{class:"pbe",id:"list_"+w})],{mxa:"pq:a",class:"pbd"})],_.push.apply(_,f)}return c="paX",y&&(c+=" paZ"),(u={}).class=c,u.id="dd_"+w,b.push(t("div",_,u)),t(i,b)},init:function(e){var t=this;a.default.__aM(),this.on("destroy",function(){a.default.__aA(t),a.default.__aN()}),this.assign(e)},assign:function(e){var t=e.selected,i=e.textKey||"",a=e.valueKey||"",n=e.emptyText||"",o=e.disabled+""=="true",r=e.list||[];r=r.slice();var s=d.default.toMap(r,a);if(n)if(i&&a){if(!s[""]){var l={};l[i]=n,l[a]="",r.unshift(l),s[""]=l}}else s[n]||(r.unshift(n),s[n]=n);t||!n||i||a||(t=n),t&&s[t]||(t=s[t]||r[0],i&&a&&(t=t[a]));var p=i&&a?s[t][i]:t;return this.set({selected:t,selectedText:p,list:r,textKey:i,valueKey:a,emptyText:n,disabled:o}),!0},render:function(){this.digest()},__aY:function(e){return d.default.inside(e,this.id)},__y:function(){var t=this,i=d.default.node("dd_"+t.id);if(!i.classList.contains("pba")){i.classList.add("pba");var e=function(){var e=(i=d.default.node("list_"+t.id)).querySelector("li[active]");e&&e.scrollIntoViewIfNeeded&&e.scrollIntoViewIfNeeded()};t.get("rList")?e():t.digest({rList:!0},null,e),a.default.__az(t)}},__z:function(){var e=d.default.node("dd_"+this.id);e.classList.contains("pba")&&(e.classList.remove("pba"),a.default.__aA(this))},"__b_<click>":function(){var e=d.default.node("dd_"+this.id);e.classList.contains("pba")?this.__z():e.classList.contains("paZ")||this.__y()},"__bv<click>":function(e){var t=this;t.__z();var i=t.get("valueKey"),a=t.get("textKey"),n=t.get("selected"),o=e.params.item,r=o,s=o;if(a&&i&&(s=o[a],r=o[i]),n!==r){t.digest({selected:r,selectedText:s});var l=d.default.node(t.id);d.default.fire(l,"change",{item:o,value:i?o[i]:o,text:a?o[a]:o})}}})}),define("gallery/mx-menu/index",["magix","../mx-monitor/index"],function(e,t,i){"use strict";t.__esModule=!0;var r=e("magix"),s=e("../mx-monitor/index");r.default.applyStyle("pj",".pbi{z-index:400}.pbj{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;cursor:default;padding:2px 0;box-shadow:0 1px 3px 1px rgba(0,0,0,.06)}.pbk{height:22px;line-height:22px;cursor:default;border-radius:2px;padding:0 2px;margin:0 2px}.pbl{color:#fff;background-color:#f96447}.pbm{height:1px;background:#eee;margin:4px 0}.pbn{color:#ccc;cursor:not-allowed}"),t.default=r.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h,g,x=[],m=e.width,v=e.id,b=e.list,y=e.disabled,w=e.textKey;c=[];for(var k=0,A=b,S=A.length;k<S;k++){var M=A[k];u=[],_=M.spliter?[t("li",0,{class:"pbm"})]:(g=[t(0,M[w])],h={},f="pl pbk ",y[M.id]&&(f+=" pbn"),h.class=f,h["mx-mouseover"]=i+"\x1e__bD({d:"+(y[M.id]||0)+"})",h["mx-mouseout"]=i+"\x1e__bD({d:"+(y[M.id]||0)+"});",h["mx-click"]=i+"\x1e__bv({item:'"+r(a,M)+"',d:"+(y[M.id]||0)+"})",h.title=M[w],[t("li",g,h)]),u.push.apply(u,_),c.push.apply(c,u)}return d=[t("ul",c,{mxa:"pr:_",class:"pbj pj"})],x.push(t("div",d,{style:"width:"+m+"px;position:absolute;left:-10000px;top:-10000px",class:"pbi",id:"cnt_"+v,"mx-contextmenu":i+"\x1e__B()"})),t(i,x)},init:function(e){var t=this;t.assign(e),s.default.__aM(),t.on("destroy",function(){s.default.__aA(t),s.default.__aN()})},assign:function(e){var t=this,i=e.width||140,a=e.valueKey||"id",n=e.textKey||"text";return t.__bw=e.list,t.__bx=i,t.__by=a,t.__bz=n,t.__bA=e.disabled||{},t.__bB=e.picked,!0},render:function(){var e=this;e.digest({disabled:e.__bA,list:e.__bw,width:e.__bx,valueKey:e.__by,textKey:e.__bz})},__aY:function(e){return r.default.inside(e,this.id)},__y:function(e){if(!this.__bC){this.__bC=1;var t=r.node("cnt_"+this.id),i=t.clientWidth,a=t.clientHeight,n=e.pageX,o=e.pageY;n+i>window.innerWidth&&(n-=i)<0&&(n=0),o+a>window.innerHeight&&(o-=a)<0&&(o=0),t.style.left=n+"px",t.style.top=o+"px",s.default.__az(this)}},__z:function(){this.__bC&&(this.__bC=!1,r.node("cnt_"+this.id).style.left="-10000px",s.default.__aA(this))},"__bD<mouseover,mouseout>":function(e){if(!e.params.d){var t=e.eventTarget;!r.default.inside(e.relatedTarget,t)&&t.classList["mouseout"==e.type?"remove":"add"]("pbl")}},"__bv<click>":function(e){if(!e.params.d){this.__z();var t=this.__bB;t&&t(e.params.item)}},"__B<contextmenu>":function(e){e.preventDefault()}},{show:function(e,t,i){var a="ctx_"+e.id,n=r.default.Vframe.get(a);n?(n.invoke("assign",[i]),n.invoke("render"),n.invoke("__y",[t])):(document.body.insertAdjacentHTML("beforeend",'<div id="'+a+'"></div>'),(n=e.owner.mountVframe(a,"gallery/mx-menu/index",i)).invoke("__y",[t]))}})}),define("gallery/mx-monitor/index",[],function(e,t,i){"use strict";t.__esModule=!0;var a=0,n=[],o=["mousedown","keyup","touchstart","pointerstart"],r=function(e){for(var t=n.length;t--;){var i=n[t];if(i.__bE)n.splice(t,1);else{var a=i.__bF;"resize"!=e.type&&a.__aY(e.target)||a.__z()}}},s=function(e){var t=n[e.id];t&&(t.__bE=!0),delete n[e.id]};t.default={__az:function(e){s(e);var t={__bF:e};n.push(t),n[e.id]=t},__aA:s,__aM:function(){if(!a){for(var e=0,t=o;e<t.length;e++){var i=t[e];document.addEventListener(i,r)}window.addEventListener("resize",r)}a++},__aN:function(){if(0<a&&!--a){for(var e=0,t=o;e<t.length;e++){var i=t[e];document.removeEventListener(i,r)}window.removeEventListener("resize",r)}}}}),define("gallery/mx-number/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var r=e("magix");r.default.applyStyle("pk",'.pbo{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}.pbp,.pbq{width:20px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:2px;cursor:pointer}.pbp:hover,.pbq:hover{background-color:#f0f0f0}.pbq{top:1px}.pbp{bottom:1px}.pbr:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:4px solid transparent;border-right:4px solid transparent;content:"";display:block;margin:auto}.pbp:after{border-top:4px solid #ccc}.pbq:after{border-bottom:4px solid #ccc}.pbp.pbs,.pbq.pbs{cursor:not-allowed;border-color:transparent}.pbp.pbs:hover,.pbq.pbs:hover{background-color:transparent}'),t.default=r.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u=[],_=e.id,f=e.disabled;return u.push(t("input",0,{class:"pbo",id:"ipt_"+_,"mx-focusin":i+"\x1e__bZ()","mx-focusout":i+"\x1e__ca()","mx-change":i+"\x1e__bY()","mx-keydown":i+"\x1e__cf()",disabled:!!f||null,autocomplete:"off","mx-input":i+"\x1e__cg()"},1)),d="pbq pbr pj",f&&(d+=" pbs"),(c={}).class=d,c["mx-click"]=i+"\x1e__bU({i:1})",c["mx-mousedown"]=i+"\x1e__ce({i:1})",c["mx-contextmenu"]=i+"\x1e__B()",u.push(t("span",0,c)),d="pbp pbr pj",f&&(d+=" pbs"),(c={}).class=d,c["mx-click"]=i+"\x1e__bU()",c["mx-mousedown"]=i+"\x1e__ce()",c["mx-contextmenu"]=i+"\x1e__B()",u.push(t("span",0,c)),t(i,u)},init:function(e){this.__bG=r.node(this.id),this.assign(e)},assign:function(e){var t=this,i=e.value,a=t.__bG;void 0===i&&(i=""),""!==i&&(i=+i);var n=t.__bH!==i,o=t.__bI;return t.__bH=i,t.__bJ=+e.step||1,t.__bK=e.empty+""=="true",t.__bL=e.format+""=="true",t.__bI=a.hasAttribute("disabled"),t.__bM=r.default.has(e,"max")?+e.max:Number.MAX_VALUE,t.__bN=r.default.has(e,"min")?+e.min:-Number.MAX_VALUE,t.__bO=+e.ratio||10,t.__bP=e.fixed||0,n||o!=t.__bI},render:function(){var e=this;e.digest({disabled:e.__bI},null,function(){e.__bQ()})},__bQ:function(){var e=this,t=e.__bH;""!==t&&(t=e.__bR(t),e.__bL&&(t=t.toFixed(e.__bP))),e.__bS=r.node("ipt_"+e.id),e.__bS.value=t},__bR:function(e){if((e=+e)||0===e){var t=this.__bM,i=this.__bN;t<e?e=t:e<i&&(e=i),e=+e.toFixed(this.__bP)}return isNaN(e)?this.__bK?"":0:e},__bT:function(e,t){var i=this;if(""!==e||!i.__bK)return(e=i.__bR(e))!==i.__bH&&(t||(i.__bS.value=e),r.default.fire(i.__bG,"input",{value:i.__bH=e})),i.__bH;r.default.fire(i.__bG,"input",{value:i.__bH=e})},__bU:function(e,t){var i=this.__bH;""===i&&(i=0);var a=this.__bJ,n=i;t&&(a*=this.__bO),e?n+=a:n-=a,this.__bT(n)},__bV:function(){var e=this.__bS;e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},__bX:function(){this.__bG.classList.add("pw"),r.default.has(this,"__bW")||(this.__bW=this.__bH)},"__bY<change>":function(e){e.stopPropagation()},"__bZ<focusin>":function(){this.__bX()},"__ca<focusout>":function(e){var t=this;t.__c_||(t.__bG.classList.remove("pw"),t.__bQ(),t.__bW!=t.__bH&&r.default.fire(t.__bG,"change",{value:t.__bH}),delete t.__bW)},"__bU<click>":function(e){this.__bI||this.__cb||(this.__bU(e.params.i,e.shiftKey),this.__bV())},"__ce<mousedown>":function(e){var t=this;t.__bI||(t.__c_=!0,t.__bX(),t.__cc=setTimeout(t.wrapAsync(function(){t.__cd=setInterval(t.wrapAsync(function(){t.__cb=!0,t.__bU(e.params.i),t.__bV()}),50)}),300))},"__cf<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();var t=this;if(!t.__bI){var i=e.eventTarget.value;if(""===i)t.__bH="";else{var a=Number(i);(a||0===a)&&a!=t.__bH&&(t.__bH=a)}t.__bU(38==e.keyCode,e.shiftKey)}}},"__B<contextmenu>":function(e){e.preventDefault()},"__cg<input>":function(e){e.stopPropagation();var t=e.eventTarget;this.__bT(t.value,!0)},"$doc<mouseup>":function(){var e=this;clearTimeout(e.__cc),clearInterval(e.__cd),delete e.__c_,setTimeout(e.wrapAsync(function(){delete e.__cb}),0)}})}),define("gallery/mx-pointer/cursor",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=a.default.guid("cursor_");a.default.applyStyle("pl",".pbt{opacity:0;background:#fff;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10000}"),t.default={__y:function(e){var t=getComputedStyle(e);this.__ad(t.cursor)},__ad:function(e){var t=a.node(n);t||(document.body.insertAdjacentHTML("beforeend",'<div class="pbt" id="'+n+'"/>'),t=a.node(n)),t.style.cursor=e,t.style.display="block"},__z:function(){a.node(n).style.display="none"}}}),define("gallery/mx-pointer/follower",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix");a.default.applyStyle("pm",".pbu{background:#f96447;position:absolute;opacity:.6;left:-1000px;top:-1000px;width:30px;height:30px;text-align:center;line-height:30px;color:#fff;border-radius:2px;z-index:5000}");var n=a.default.guid("de_");t.default={__H:function(e){var t=a.node(n);t||(document.body.insertAdjacentHTML("beforeend",'<div class="pbu px" id="'+n+'"/>'),t=a.node(n)),t.innerHTML=e},__y:function(e){var t=a.node(n).style;t.left=e.pageX+10+"px",t.top=e.pageY+18+"px"},__z:function(){var e=a.node(n).style;e.left="-1000px",e.top="-1000px"}}}),define("gallery/mx-pointer/select",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var o=e("magix");o.default.applyStyle("pn",".pbv{position:absolute;border:1px dashed #f96447;display:none}");var r=o.default.guid("set_");t.default={__ab:function(){o.node(r)||document.body.insertAdjacentHTML("beforeend",'<div id="'+r+'" class="pbv"></div>')},__H:function(e,t,i,a){var n=o.node(r).style;n.left=e+"px",n.top=t+"px",n.width=i+"px",n.height=a+"px",n.display="block"},__z:function(){o.node(r).style.display="none"}}}),define("gallery/mx-runner/fx",["magix","./index"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=e("./index"),o=function(e){return e},r=Date.now,s=function(e,i){var a=this;a.__ch&&!i||(i=i||o,a.__ch=function(e,t){return e+(t-e)*i(a.__ci/a.__cj)}),a.__ck=[],a.__cl=e};a.default.mix(s.prototype,{__cq:function(e,t){this.__bE||(this.__ck.push({__cm:e,__cn:t}),this.__co||this.__cp())},__cp:function(){var e=this,t=e.__ck.shift();t?(e.__cj=t.__cm,e.__cr=t.__cn,e.__cs=r(),e.__co||n.default.__ct(e.__cl,e.__co=function(t){e.__ci=Date.now()-e.__cs,e.__ci>e.__cj&&(e.__ci=e.__cj,t=1);try{e.__cr(e.__ch)}catch(e){t=e}t&&e.__cp()})):e.__cu()},__cu:function(){this.__co&&(n.default.__cv(this.__co),delete this.__co)},destroy:function(){this.__cu(),this.__ck=[],this.__bE=1}}),t.default={__cx:function(e,t){var i=new s(e,t);return this.capture(a.default.guid("__cw"),i),i}}}),define("gallery/mx-runner/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var r=e("magix"),s=window.requestAnimationFrame||function(e){return setTimeout(e,16)},l=window.cancelAnimationFrame||clearTimeout,p=Date.now;t.default={__ck:[],__ct:function(e,t){this.__ck.push({i:e||15,f:t,n:p()}),this.__cp()},__cv:function(e){for(var t=this.__ck,i=void 0,a=0;a<t.length;a++)if(!(i=t[a]).r&&i.f==e){i.r=1;break}},__cp:function(){var n=this;if(!n.__cy){var o=function(){for(var e=n.__ck,t=0,i=void 0,a=void 0;t<e.length;t++)(i=e[t]).r?e.splice(t--,1):(a=p())-i.n>=i.i&&(i.n=a,r.default.toTry(i.f));e.length?n.__cy=s(o):(l(n.__cy),delete n.__cy)};n.__cy=s(o)}}}}),define("i18n/index",["magix","./zh-cn"],function(e,t,i){"use strict";t.__esModule=!0;var r=e("magix"),s={"zh-cn":e("./zh-cn").default},l=r.default.has,p=/\{(\d+)\}/g;t.default=function(e){for(var a=[],t=1;t<arguments.length;t++)a[t-1]=arguments[t];var i=(r.default.config("lang")||navigator.language).toLowerCase();l(s,i)||(i="zh-cn");var n=s[i],o=l(n,e)?n[e]:e;return a.length&&(o=o.replace(p,function(e,t,i){return t|=0,a.length>t?(i=a[t],l(n,i)?n[i]:i):e})),o}}),define("i18n/zh-cn",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={_k:"\u62a5\u8868\u8bbe\u8ba1\u5668",__I:"\u63d0\u793a",_J:"\u786e\u5b9a",_K:"\u53d6\u6d88",_w:"\u653e\u5927",_v:"\u7f29\u5c0f",__:"\u5220\u9664\u8f85\u52a9\u7ebf",_a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",_r:"\u64a4\u9500(Ctrl+Z)",_s:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",__L:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",__M:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",__N:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",__O:"\u5143\u7d20",__P:"\u5c5e\u6027",__Q:"\u6570\u636e\u6e90",_u:"\u6253\u5f00{0}\u9762\u677f",_t:"\u5173\u95ed{0}\u9762\u677f",__R:"\u5c55\u5f00{0}\u9762\u677f",__S:"\u6298\u53e0{0}\u9762\u677f",_x:"\u6309\u4e0b\u62d6\u52a8\u65cb\u8f6c\u5143\u7d20",_y:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6",_z:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u9ad8\u5ea6",_A:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6\u548c\u9ad8\u5ea6",__T:"\u7c7b\u578b\uff1a",__B:"X\u5750\u6807\uff1a",__C:"Y\u5750\u6807\uff1a",__D:"\u5bbd\uff1a",__E:"\u9ad8\uff1a",__F:"\u65cb\u8f6c\u89d2\u5ea6\uff1a",__G:"\u80cc\u666f\u989c\u8272\uff1a",__H:"\u6587\u5b57\u989c\u8272\uff1a",__b:"\u5168\u9009",__e:"\u7c98\u8d34",__c:"\u590d\u5236",__d:"\u526a\u5207",__j:"\u5220\u9664",__f:"\u4e0a\u79fb\u4e00\u5c42",__h:"\u79fb\u81f3\u9876\u5c42",__g:"\u4e0b\u79fb\u4e00\u5c42",__i:"\u79fb\u81f3\u5e95\u5c42",_l:"\u5de6\u5bf9\u9f50",_n:"\u53f3\u5bf9\u9f50",_o:"\u4e0a\u5bf9\u9f50",_q:"\u4e0b\u5bf9\u9f50",_p:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",_m:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50"}}),define("util/converter",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix");t.default={__X:function(e){var t=e.x,i=e.y,a=n.node("stage_canvas").getBoundingClientRect();return{x:t-=a.left,y:i-=a.top}},__cz:function(e){var t=e.x,i=e.y,a=n.node("stage_canvas").getBoundingClientRect();return{x:t+=a.left,y:i+=a.top}}}}),define("util/transform",[],function(e,t,i){"use strict";t.__esModule=!0;var n={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7};t.default={__aC:function(e,t){var i=e.x,a=e.y,n=e.width,o=e.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(o,2))/2,s=n?Math.round(180*Math.atan(o/n)/Math.PI):0,l=180-t-s,p=s-t,d=90-t,c=t,u=n/2,_=o/2,f=i+u,h=a+_,g={x:f+r*Math.cos(l*Math.PI/180),y:h-r*Math.sin(l*Math.PI/180)},x={x:f+_*Math.cos(d*Math.PI/180),y:h-_*Math.sin(d*Math.PI/180)},m={x:f+r*Math.cos(p*Math.PI/180),y:h-r*Math.sin(p*Math.PI/180)},v={x:f+u*Math.cos(c*Math.PI/180),y:h+u*Math.sin(c*Math.PI/180)},b={x:f-r*Math.cos(l*Math.PI/180),y:h+r*Math.sin(l*Math.PI/180)},y={x:f-_*Math.sin(c*Math.PI/180),y:h+_*Math.cos(c*Math.PI/180)},w={x:f-r*Math.cos(p*Math.PI/180),y:h+r*Math.sin(p*Math.PI/180)},k={x:f-u*Math.cos(c*Math.PI/180),y:h-u*Math.sin(c*Math.PI/180)},A=Math.min(g.x,m.x,b.x,w.x),S=Math.max(g.x,m.x,b.x,w.x),M=Math.min(g.y,m.y,b.y,w.y),E=Math.max(g.y,m.y,b.y,w.y);return{point:[g,x,m,v,b,y,w,k],width:S-A,height:E-M,left:A,right:S,top:M,bottom:E}},__aJ:function(e,t){var i=n[t],a=i-4;return a<0&&(a=i+4),{current:{index:i,point:e[i]},opposite:{index:a,point:e.slice(a,a+1)[0]}}},__cP:function(e,t){var i=e.x,a=e.y,n=e.width,o=e.height,r=e.scale,s={x:0,y:0},l=n*(r.x-1),p=o*(r.y-1),d=n+l,c=o+p,u=i-l/2,_=a-p/2;if(t){var f=[{x:i,y:a},{x:i+n,y:a},{x:i+n,y:a+o},{x:i,y:a+o}],h=[{x:u,y:_},{x:u+d,y:_},{x:u+d,y:_+c},{x:u,y:_+c}];s.x=f[t].x-h[t].x,s.y=f[t].y-h[t].y}return{x:u+s.x,y:_+s.y,width:d,height:c}},__aK:function(e,t,i,a){var n=this.__cP({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),o=n.width,r=n.height,s=this.__aC(n,e.rotate),l=i.point[a].x-s.point[a].x+s.left,p=i.point[a].y-s.point[a].y+s.top;return{left:l+s.width/2-o/2,top:p+s.height/2-r/2,width:o,height:r}},__cM:function(e,t){var i=e.x,a=e.y,n=e.width,o=e.height;if(0==n)return{x:i,y:a};var r=i+n/2,s=a+o/2,l=Math.sqrt(n*n/2/2+o*o/2/2),p=180*Math.atan(o/n)/Math.PI+t+180;return{x:r+l*Math.cos(p*Math.PI/180),y:s+l*Math.sin(p*Math.PI/180)}}}}),define("panels/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var o=e("magix"),a=[{title:"__O",icon:"&#xe629;",width:100,height:120,left:25,top:90,show:!1,resizeY:!0,id:"p-elements",view:"panels/elements/index"},{title:"__P",icon:"&#xe7a1;",width:210,height:220,right:10,top:90,show:!0,resizeY:!0,id:"p-props",view:"panels/props/index"},{title:"__Q",icon:"&#xe609;",width:200,height:120,show:!1,right:230,top:90,id:"p-data",view:"panels/data/index"}],r=o.default.toMap(a,"id");t.default={__U:function(){for(var e=0,t=a;e<t.length;e++){var i=t[e];i.show&&this.__cC(i.id,!0)}o.State.fire("__k")},__cC:function(e,t){var i=this,a=r[e];if(!a.opened){if(a.opened=1,a.eId)o.node(a.eId).style.display="block";else{a.eId=o.default.guid("panel_"),o.node("app").insertAdjacentHTML("beforeend",'<div id="'+a.eId+'"></div>');var n=o.Vframe.get(o.default.config("rootId"));a.close=function(){i.__cD(a.id)},n.mountVframe(a.eId,"panels/panel",a)}if(!t)o.State.fire("__k"),o.Vframe.get(a.eId).invoke("__y")}},__cD:function(e){var t=r[e];t.opened&&(t.opened=0,o.node(t.eId).style.display="none",o.State.fire("__k"),o.Vframe.get(t.eId).invoke("__z"))},__ax:function(e){r[e].opened?this.__cD(e):this.__cC(e)},__aw:function(){return a}}}),define("panels/panel",["magix","../gallery/mx-pointer/cursor","../gallery/mx-dragdrop/index"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),f=e("../gallery/mx-pointer/cursor"),n=e("../gallery/mx-dragdrop/index");a.default.applyStyle("pp",".pbA{background:hsla(0,0%,100%,.93);position:absolute;box-shadow:0 2px 4px 0 rgba(0,0,0,.3)}.pbB{font-size:12px;height:18px;line-height:18px;background:#f96447;color:#fff}.pbC{padding:0 5px;cursor:move;width:calc(100% - 36px)}.pbD{width:16px;height:14px;margin:0 1px;font-size:11px;cursor:pointer;display:inline-flex;justify-content:center;align-items:center;border-radius:2px}.pbD:hover{background:#b6270b}.pbE{overflow:hidden;transition:height .25s}.pbF{transition:none}.pbG{width:calc(100% - 2px);overflow:auto;float:left}.pbH{width:2px;float:right;cursor:ew-resize}.pbI,.pbH{background:#fafafa}.pbI{height:2px;cursor:ns-resize}.pbJ::-webkit-scrollbar,.pbJ::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}");var o=[],r={__az:function(e){o.push(e)},__aA:function(e){for(var t=o.length;t--;)if(o[t]==e){o.splice(t,1);break}this.__cE()},__cE:function(){for(var e=o.length;e--;)o[e].__cF(300+e)},__cG:function(e){if(o[o.length-1]!=e){for(var t=o.length;t--;)if(o[t]==e){o.splice(t,1);break}o.push(e),this.__cE()}}};t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h,g,x=[],m=e.width,v=e.left,b=e.right,y=e.top,w=e.zIndex,k=e.id,A=e.i18n,S=e.icon,M=e.title,E=e.shrink,z=e.height,I=e.resizeX,T=e.view,C=e.resizeY;return(f=[t("i",0,{class:"px py pz","x-html":S})]).push(t(0,A(M))),_=[t("div",f,{class:"pbC pc",title:A("__L"),"mx-mousedown":i+"\x1e__cI()"})],g=[t(0,"\ue73a")],h="px pbD",E&&(h+=" pA"),(c={}).class=h,c["mx-click"]=i+"\x1e__cK()",c.title=A(E?"__R":"__S",M),f=[t("i",g,c)],g=[t(0,"\ue635")],f.push(t("i",g,{class:"px pbD","mx-click":i+"\x1e__bh()",title:A("_t",M)})),_.push(t("div",f,{mxa:"pv:a",class:"pd pE pb"})),u=[t("div",_,{mxa:"pv:_",class:"pbB pj pi"})],(_=[]).push(t("div",0,{style:"width:"+(I?"calc(100% - 2px)":"100%"),class:"pbG pk pbJ pb","mx-view":T})),I||(f=[t("div",0,{class:"pbH pj pb",title:A("__M"),"mx-mousedown":i+"\x1e__aL({w:1})"})],_.push.apply(_,f)),u.push(t("div",_,{class:"pbE",id:"c_"+k,style:"height:"+(E?0:"calc(100vh - "+z+"px)")})),h="pbI pj",!E&&C||(h+=" ph"),(c={}).class=h,c.title=A("__N"),c["mx-mousedown"]=i+"\x1e__aL({h:1})",u.push(t("div",0,c)),d="width:"+m+"px;",d+=0===v||v?"left:"+v:"right:"+b,(c={class:"pbA"}).style=d+="px;top:"+y+"px;z-index:"+w+";",c.id="p_"+k,c["mx-mousedown"]=i+"\x1e__cJ()",x.push(t("div",u,c)),t(i,x)},mixins:[n.default],init:function(e){var t=this;r.__az(this),this.on("destroy",function(){r.__aA(t)}),this.__cH=e.close,this.set({icon:e.icon,title:e.title,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,view:e.view,resizeX:e.resizeX,resizeY:e.resizeY})},render:function(){this.digest({zIndex:300+o.length})},"__cI<mousedown>":function(n){var o=this,r=a.node("p_"+this.id).style,s=this.get("left"),l=this.get("width"),p=0;void 0===s&&(p=1,s=this.get("right"));var d=this.get("top"),c=p?"right":"left",u=0,_=n.eventTarget;this.__x(n,function(e){u||(u=1,f.default.__y(_));var t=(p?n.pageX-e.pageX:e.pageX-n.pageX)+s;t<0?t=0:t+l>window.innerWidth&&(t=window.innerWidth-l);var i,a=e.pageY-n.pageY+d;a<0?a=0:a+18>window.innerHeight&&(a=window.innerHeight-18),r[c]=t+"px",r.top=a+"px",o.set(((i={})[c]=t,i.top=a,i))},function(){f.default.__z()})},"__aL<mousedown>":function(n){var o=this,r=n.params.w,s=this.get("width"),l=this.get("height"),p=this.get("right"),e=a.node("c_"+this.id);e.classList.add("pbF");var d=e.style,c=a.node("p_"+this.id).style,u=0,_=n.eventTarget;this.__x(n,function(e){if(u||(u=1,f.default.__y(_)),r){var t=e.pageX-n.pageX;t+s<100&&(t=100-s);var i=t+s;c.width=i+"px",(p||0===l)&&(c.right=p-t+"px",o.set({right:p-t})),o.set({width:i})}else{var a=n.pageY-e.pageY+l;d.height="calc(100vh - "+a+"px)",o.digest({height:a})}},function(){f.default.__z(),e.classList.remove("pbF")})},__cF:function(e){a.node("p_"+this.id).style.zIndex=e},"__cJ<mousedown>":function(){r.__cG(this)},__y:function(){r.__cG(this)},__z:function(){},"__cK<click>":function(){this.digest({shrink:!this.get("shrink")})},"__bh<click>":function(){var e=this.__cH;e&&a.default.toTry(e)}})}),define("panels/data/index",["magix"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix");t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d=[];return d.push(t(0,"data source panel")),t(i,d)},render:function(){this.digest()}})}),define("panels/elements/index",["magix","../../util/converter"],function(e,t,i){"use strict";t.__esModule=!0;var o=e("magix"),r=e("../../util/converter");o.default.applyStyle("po",".pbw{padding:5px 2px}.pbx{display:flex;align-items:center;padding:0 2px;color:#333;height:22px;line-height:22px;cursor:pointer}.pbx:hover{background:#f0f0f0}.pby{margin:0 4px 0 2px;font-size:12px}.pbz{border:2px solid #f96447}");var s=o.default.guid("rp_"),a=function(){o.node(s)||document.body.insertAdjacentHTML("beforeend",'<div class="pf pbz" id="'+s+'"></div>')},n=function(e){var t=o.node(s).style,i=e.props,a=r.default.__cz(i);t.left=a.x+"px",t.top=a.y+"px",t.width=i.width+"px",t.height=i.height+"px",t.borderWidth=2*o.State.get("__c")+"px";var n=i.rotate||0;t.transform="rotate("+n+"deg)"},l=function(){o.node(s).style.left="-10000px"};t.default=o.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f=[],h=e.elements;d=[];for(var g=h.length;g--;){var x=h[g];u=[t("i",0,{class:"px pby","x-html":x.ctor.icon})],_=[t(0,x.ctor.title)],u.push(t("div",_,{mxa:"pu:b",class:"pl"})),c=[t("div",u,{class:"pbx","mx-mouseover":i+"\x1e__cA({element:'"+r(a,x)+"'})","mx-mouseout":i+"\x1e__cB()"})],d.push.apply(d,c)}return f.push(t("div",d,{mxa:"pu:_",class:"pbw"})),t(i,f)},init:function(){a();var e=this.render.bind(this);o.State.on("___",e),o.State.on("__f",e)},render:function(){var e=o.State.get("__L");this.digest({elements:e})},"__cA<mouseover>":function(e){if(!o.default.inside(e.relatedTarget,e.eventTarget)){var t=e.params.element;n(t)}},"__cB<mouseout>":function(e){o.default.inside(e.relatedTarget,e.eventTarget)||l()}})}),define("panels/props/index",["magix","../../designer/props","../../designer/history","../../util/transform","gallery/mx-number/index","gallery/mx-color/index","./page"],function(e,t,i){e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("./page"),t.__esModule=!0;var f=e("magix"),a=e("../../designer/props"),h=e("../../designer/history"),g=e("../../util/transform");f.default.applyStyle("pq",".pbK{padding:4px;min-width:200px}.pbL{height:28px;line-height:28px;display:flex;align-items:center}.pbM{width:80px;text-align:right}.pbN{width:110px}"),t.default=f.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h,g,x,m=[],v=e.elements,b=e.i18n,y=e.scale,w=e.props;if(1==v.length){var k=v[0];u=[],_=[t("span",f=[t(0,b("__T"))],{mxa:"pw:c",class:"pbM"})],f=[t(0,k.ctor.title)],_.push(t("span",f)),u.push(t("li",_,{mxa:"pw:b",class:"pbL"}));for(var A=0,S=k.ctor.props,M=S.length;A<M;A++){var E=S[A];f=[],h=[t(0,b(E.tip))],f.push(t("span",h,{mxa:"pw:e",class:"pbM"}));var z=k.props[E.key];E.scale&&(z/=y),E.type==w.__V?(x={mxv:"scale",class:"pbN pu pg","mx-input":i+"\x1e__cN({key:'"+s(E.key)+"',scale:"+(E.scale||0)+",use:'value',element:'"+r(a,k)+"'})"},g="gallery/mx-number/index?value="+r(a,z),(d=E.max)&&(g+="&max="+o(d)),(d=E.min)&&(g+="&min="+o(d)),x["mx-view"]=g,h=[t("div",0,x)],f.push.apply(f,h)):E.type==w.__W&&(h=[t("div",0,{mxv:"scale",class:"pbN","mx-input":i+"\x1e__cN({key:'"+s(E.key)+"',use:'color',element:'"+r(a,k)+"'})","mx-view":"gallery/mx-color/index?color="+r(a,z)+"&align=right"})],f.push.apply(f,h)),_=[t("li",f,{mxa:"pw:d",class:"pbL"})],u.push.apply(u,_)}c=[t("ul",u,{mxa:"pw:a",class:"pbK"})],m.push.apply(m,c)}else c=[t("div",0,{"mx-view":"panels/props/page"})],m.push.apply(m,c);return t(i,m)},init:function(){var e=this.__cL(this.render.bind(this),100);f.State.on("__j",e),f.State.on("__i",e),f.State.on("___",e)},render:function(){this.digest({scale:f.State.get("__c"),props:a.default,elements:f.State.get("__M")})},"__cN<input>":function(e){var t,i=e.params,a=i.scale,n=i.key,o=i.use,r=i.element,s=i.refresh,l=r.props,p="width"==n||"height"==n;p&&(t=g.default.__cM(l,l.rotate));var d=f.State.get("__c"),c=e[o];if(a&&(c*=d),l[n]=c,p){var u=g.default.__cM(l,l.rotate);l.x+=t.x-u.x,l.y+=t.y-u.y,s=!0}s&&this.render();var _=f.Vframe.get(r.id);_&&_.invoke("__H",[r]),h.default.__t("__a"+n,500)}})}),define("panels/props/page",["magix","../../designer/history","gallery/mx-number/index","gallery/mx-color/index"],function(e,t,i){e("gallery/mx-number/index"),e("gallery/mx-color/index"),t.__esModule=!0;var o=e("magix"),r=e("../../designer/history");t.default=o.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u=[],_=e.page;return(c=[t("span",[t(0,"\u9875\u9762\u5bbd\u5ea6\uff1a")],{mxs:"px:_",class:"pbM"})]).push(t("div",0,{mxv:"page",class:"pbN pu pg","mx-input":i+"\x1e__cO({use:'width'})","mx-view":"gallery/mx-number/index?min=0&value="+r(a,_.width)})),d=[t("li",c,{mxa:"px:a",class:"pbL"})],(c=[t("span",[t(0,"\u9875\u9762\u9ad8\u5ea6\uff1a")],{mxs:"px:a",class:"pbM"})]).push(t("div",0,{mxv:"page",class:"pbN pu pg","mx-input":i+"\x1e__cO({use:'height'})","mx-view":"gallery/mx-number/index?min=0&value="+r(a,_.height)})),d.push(t("li",c,{mxa:"px:b",class:"pbL"})),(c=[t("span",[t(0,"\u80cc\u666f\u989c\u8272\uff1a")],{mxs:"px:b",class:"pbM"})]).push(t("div",0,{mxv:"page",class:"pbN","mx-input":i+"\x1e__cO({use:'background',from:'color'})","mx-view":"gallery/mx-color/index?color="+r(a,_.background)+"&align=right"})),d.push(t("li",c,{mxa:"px:c",class:"pbL"})),u.push(t("ul",d,{mxa:"px:_",class:"pbK"})),t(i,u)},init:function(){var e=this.render.bind(this);o.State.on("___",e)},render:function(){this.digest({page:o.State.get("__d")})},"__cO<input>":function(e){var t=e.params,i=t.use,a=t.from,n=void 0===a?"value":a;o.State.get("__d")[i]=e[n],r.default.__t("__b",500),o.State.fire("__g")}})}),define("designer/axis",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","./history"],function(e,t,i){"use strict";t.__esModule=!0;var v=e("magix"),a=e("../gallery/mx-dragdrop/index"),f=e("../gallery/mx-pointer/cursor"),h=e("./history");v.default.applyStyle("pa",".pF{height:20px;border-bottom:1px solid #ccc;overflow:hidden;width:100%;background:#fff;z-index:200;position:relative}.pG{top:0;width:1px}.pG,.pH{position:absolute;background:#f96447;z-index:200;display:none;pointer-events:none}.pH{left:0;height:1px}.pI{float:left;overflow:hidden;z-index:200;position:relative}.pJ,.pI{width:20px;border-right:1px solid #ccc;background:#fff}.pJ{position:absolute;left:0;top:0;height:20px;border-bottom:1px solid #ccc;z-index:201}.pK{left:5px;top:22px}.pK,.pL{cursor:default;position:absolute;font-size:10px}.pL{top:2px;left:24px}.pM,.pN{position:relative;z-index:100}.pM{top:20px}.pN{left:20px}.pO{width:4px;border-left:1px solid #f96447}.pO,.pP{position:absolute;pointer-events:none}.pP{height:1px;background:#f96447}.pQ{position:absolute;left:-15px;top:4px;font-size:10px;color:#666;cursor:pointer;pointer-events:all}.pR{top:2px;cursor:default}.pR,.pS{position:absolute;left:4px;font-size:10px;color:#666}.pS{top:-15px;cursor:pointer;pointer-events:all}.pT{position:absolute;left:4px;top:2px;font-size:10px;color:#666;cursor:default}.pU{width:25px;top:-1px;height:3px;left:30px;cursor:ns-resize}.pV,.pU{position:absolute;overflow:hidden;background:#f96447;pointer-events:all}.pV{width:3px;left:-2px;height:25px;top:20px;cursor:ew-resize}");var b={.5:{space:200,step:10},1:{space:100,step:10},1.5:{space:80,step:10},2:{space:60,step:10},2.5:{space:48,step:8},3:{space:40,step:8},3.5:{space:32,step:8},4:{space:24,step:8},4.5:{space:16,step:8},5:{space:16,step:8}};t.default=v.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h,g,x,m=[],v=e.sTop,b=e.id,y=e.yHelpers,w=e.yStart,k=e.scale,A=e.vWidth,S=e.i18n,M=e.sLeft,E=e.xHelpers,z=e.xStart,I=e.vHeight,T=e.width,C=e.step,$=e.space,L=e.hbar,j=e.barColor,D=e.bar,N=e.xEnd,Y=e.height,B=e.yEnd;d=[];for(var H=0,V=y,F=V.length;H<F;H++){var R=V[H],X=Math.abs(w)+R.mm*k+20;u=[t("i",_=[t(0,"\ue600")],{class:"px pS",title:S("__"),"mx-click":i+"\x1e__w({type:'y',id:'"+s(R.id)+"'})"})],_=[t(0,R.mm)],u.push(t("span",_,{mxa:"p_:_",class:"pT"}),t("span",0,{class:"pU","mx-mousedown":i+"\x1e__A({type:'y',id:'"+s(R.id)+"',c:"+X+"})",title:S("_a")})),c=[t("div",u,{class:"pP",style:"width:"+A+"px;top:"+X+"px;"})],d.push.apply(d,c)}m.push(t("div",d,{class:"pN",style:"top:-"+v+"px",id:b+"_y_help","mx-contextmenu":i+"\x1e__B()"})),d=[];for(var P=0,G=E,U=G.length;P<U;P++){R=G[P],X=Math.abs(z)+R.mm*k;u=[t("i",_=[t(0,"\ue600")],{class:"px pQ",title:S("__"),"mx-click":i+"\x1e__w({type:'x',id:'"+s(R.id)+"'})"})],_=[t(0,R.mm)],u.push(t("span",_,{mxa:"p_:a",class:"pR"}),t("span",0,{class:"pV","mx-mousedown":i+"\x1e__A({type:'x',id:'"+s(R.id)+"',c:"+X+"})",title:S("_a")})),c=[t("div",u,{class:"pO",style:"height:"+I+"px;left:"+X+"px;"})],d.push.apply(d,c)}m.push(t("div",d,{class:"pM",style:"left:-"+M+"px",id:b+"_x_help","mx-contextmenu":i+"\x1e__B()"})),_=[];for(var W=0;W<z;W+=C)f=[],W&&(h=[],(O=W/k)%$==0?(g=[t("rect",0,{width:"1",height:L,x:z-W,y:20-L-1,style:"fill:"+j+";"},1)],x=[t(0,-O)],g.push(t("text",x,{x:z-W+2,y:"14",style:"font-size:10px;fill:#999;"}))):g=[t("rect",0,{width:"1",height:D,x:z-W,y:20-D-1,style:"fill:"+j+";"},1)],h.push.apply(h,g),f.push.apply(f,h)),_.push.apply(_,f);for(W=0;W<N;W+=C){var O;f=[],(O=W/k)%$==0?(h=[t("rect",0,{width:"1",height:L,x:z+W,y:20-L-1,style:"fill:"+j+";"},1)],g=[t(0,O)],h.push(t("text",g,{x:z+W+2,y:"14",style:"font-size:10px;fill:#999;"}))):h=[t("rect",0,{width:"1",height:D,x:z+W,y:20-D-1,style:"fill:"+j+";"},1)],f.push.apply(f,h),_.push.apply(_,f)}d=[t("div",c=[t("div",u=[t("svg",_,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+T+" 19",style:"cursor:default;"})],{style:"width:"+T+"px;height:100%"})],{class:"pF",id:b+"_x"})],c=[t("span",u=[t(0,"-")],{class:"pK",id:b+"_x_tip"})],d.push(t("div",c,{class:"pG",id:b+"_x_line",style:"height:"+(I+20)+"px"})),m.push(t("div",d,{mxa:"p_:b","mx-mousemove":i+"\x1e__p()","mx-mouseout":i+"\x1e__q()","mx-click":i+"\x1e__u()"})),_=[];for(W=0;W<w;W+=C)f=[],W&&(h=[],(O=W/k)%$==0?(g=[t("rect",0,{width:L,height:"1",x:20-L,y:w-W,style:"fill:"+j+";"},1)],x=[t(0,-O)],g.push(t("text",x,{x:"14",y:w-W+2,style:"font-size:10px;fill:#999;",transform:"rotate(-90,13,"+(w-W)+")"}))):g=[t("rect",0,{width:D,height:"1",x:20-D,y:w-W,style:"fill:"+j+";"},1)],h.push.apply(h,g),f.push.apply(f,h)),_.push.apply(_,f);for(W=0;W<B;W+=C)f=[],(O=W/k)%$==0?(h=[t("rect",0,{width:L,height:"1",x:20-L,y:w+W,style:"fill:"+j+";"},1)],g=[t(0,O)],h.push(t("text",g,{x:"14",y:w+W,style:"font-size:10px;fill:#999;;",transform:"rotate(-90,13,"+(w+W-2)+")"}))):h=[t("rect",0,{width:D,height:"1",x:20-D,y:w+W,style:"fill:"+j+";"},1)],f.push.apply(f,h),_.push.apply(_,f);return d=[t("div",c=[t("div",u=[t("svg",_,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 "+Y,style:"cursor:default"})],{style:"height:"+Y+"px;"})],{class:"pI",style:"height:"+I+"px;",id:b+"_y"})],c=[t("span",u=[t(0,"-")],{class:"pL",id:b+"_y_tip"})],d.push(t("div",c,{class:"pH",id:b+"_y_line",style:"width:"+(A+20)+"px"})),m.push(t("div",d,{mxa:"p_:j","mx-mousemove":i+"\x1e__r()","mx-mouseout":i+"\x1e__s()","mx-click":i+"\x1e__v()"}),t("div",0,{mxs:"p_:_",class:"pJ"})),t(i,m)},mixins:[a.default],init:function(e){var t=this,i=v.node(e.scroll);i.addEventListener("scroll",function(){t.___()},{passive:!0}),this.__a=i,this.set({bar:4,hbar:12,barColor:"#aaa"});var a=function(e){(e.scale||e.step)&&t.render()};v.State.on("___",a),v.State.on("__a",a)},__m:function(){var e=this;if(this.__b){var t,i,a,n,o,r,s=this.__a,l=v.State.get("__c"),p=v.State.get("__d"),d=p.width,c=p.height,u=Math.max(d*l,window.innerWidth)+500,_=Math.max(c*l,window.innerHeight)+300,f=v.node("stage_canvas"),h=v.node("stage_outer"),g=f.getBoundingClientRect(),x=h.getBoundingClientRect();i=u-(t=Math.round(g.left-x.left)+20),n=_-(a=Math.round(g.top-x.top)),o=s.offsetHeight,r=s.offsetWidth;var m=b[l];this.digest({sTop:s.scrollTop,sLeft:s.scrollLeft,width:u,scale:l,space:m.space,step:m.step,height:_,xStart:t,xEnd:i,yStart:a,vHeight:o,vWidth:r,yEnd:n},null,function(){e.__e=v.node(e.id+"_x"),e.__f=v.node(e.id+"_y"),e.__g=v.node(e.id+"_x_line"),e.__h=v.node(e.id+"_y_line"),e.__i=v.node(e.id+"_x_tip"),e.__j=v.node(e.id+"_y_tip"),e.__k=v.node(e.id+"_x_help"),e.__l=v.node(e.id+"_y_help")})}},___:function(){var e=this.__e,t=this.__f,i=this.__l,a=this.__k,n=this.__a,o=n.scrollTop,r=n.scrollLeft;e&&(e.scrollLeft=r),t&&(t.scrollTop=o),a&&(a.style.left=-r+"px"),i&&(i.style.top=-o+"px"),this.set({sLeft:r,sTop:o})},render:function(){var e=this;this.set({xHelpers:v.State.get("__n"),yHelpers:v.State.get("__o")});var t=function(){v.node("stage_canvas")?(e.__b=1,e.__m()):setTimeout(t,30)};t()},"__p<mousemove>":function(e){var t=this.__e,i=e.pageX,a=this.get("xStart"),n=this.__g.style;n.display="block",n.left=i+"px";var o=i-a+t.scrollLeft,r=this.get("scale");this.__i.innerHTML=(o/r).toFixed(0)},"__q<mouseout>":function(e){v.default.inside(e.relatedTarget,e.eventTarget)||(this.__g.style.display="none")},"__r<mousemove>":function(e){var t=v.node(this.id).getBoundingClientRect(),i=e.pageY-t.top,a=this.get("yStart"),n=this.__f,o=this.__h.style;o.display="block",o.top=i+"px";var r=i-a-20+n.scrollTop,s=this.get("scale");this.__j.innerHTML=(r/s).toFixed(0)},"__s<mouseout>":function(e){v.default.inside(e.relatedTarget,e.eventTarget)||(this.__h.style.display="none")},"__u<click>":function(e){var t=(e.pageX-this.get("xStart")+this.__e.scrollLeft)/this.get("scale")|0,i=this.get("xHelpers");i.push({mm:t,id:v.default.guid("x_")}),this.digest({xHelpers:i}),h.default.__t()},"__v<click>":function(e){var t=v.node(this.id).getBoundingClientRect(),i=(e.pageY-t.top-this.get("yStart")-20+this.__f.scrollTop)/this.get("scale")|0,a=this.get("yHelpers");a.push({mm:i,id:v.default.guid("x_")}),this.digest({yHelpers:a}),h.default.__t()},"__w<click>":function(e){for(var t,i=e.params,a=i.type,n=i.id,o=a+"Helpers",r=this.get(o),s=r.length;s--;){if(r[s].id==n){r.splice(s,1);break}}this.digest(((t={})[o]=r,t)),h.default.__t()},"__A<mousedown>":function(a){var n=this;if(a.target==a.eventTarget){for(var o,e=a.params,r=e.type,t=e.id,s=e.c,l=r+"Helpers",p=this.get(l),i=0,d=p;i<d.length;i++){var c=d[i];if(c.id==t){o=c;break}}if(o){var u=this.get(r+"Start"),_=0;this.__x(a,function(e){var t,i;_||(_=1,f.default.__y(a.eventTarget)),t="x"==r?e.pageX-a.pageX+s:e.pageY-a.pageY+s-20,o.mm=(t-u)/n.get("scale")|0,n.digest(((i={})[l]=p,i))},function(){_&&(f.default.__z(),h.default.__t())})}}},"__B<contextmenu>":function(e){e.preventDefault()},"$win<resize>":function(){this.__m()}})}),define("designer/const",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={__C:50,__c:1,__D:900,__E:500}}),define("designer/contextmenu",["magix","../i18n/index"],function(e,t,i){"use strict";t.__esModule=!0;var s=e("magix"),l=e("../i18n/index"),a={spliter:!0},n={id:0,text:"__b",short:" (Ctrl+A)"},o={id:1,text:"__c",short:" (Ctrl+C)"},r={id:14,text:"__d",short:" (Ctrl+X)"},p={id:2,text:"__e",short:" (Ctrl+V)"},d={id:5,text:"__f"},c={id:6,text:"__g"},u={id:3,text:"__h"},_={id:4,text:"__i"},f={id:7,text:"__j",short:" (Delete)"},h={},g=function(r){return function(e){r.__F||(r.__F=s.default.guid("_m"));var t=e+r.__F;if(!h[t]){for(var i=[],a=0,n=r;a<n.length;a++){var o=n[a];o.spliter?i.push(o):i.push({id:o.id,text:l.default(o.text)+(o.short||"")})}h[t]=i}return h[t]}};t.default={allId:n.id,pasteId:p.id,topId:u.id,upId:d.id,bottomId:_.id,downId:c.id,cutId:r.id,copyId:o.id,deleteId:f.id,singleElement:g([o,r,f,a,d,u,a,c,_]),multipleElement:g([o,r,f]),stage:g([n,p])}}),define("designer/header",["magix","../elements/index","../gallery/mx-dragdrop/index","../gallery/mx-pointer/follower"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),a=e("../elements/index"),o=e("../gallery/mx-dragdrop/index"),r=e("../gallery/mx-pointer/follower");n.default.applyStyle("pb",".pW,.pX{width:60px;height:40px;display:grid;grid-template-rows:25px 12px;justify-items:center;align-items:center;cursor:pointer;margin:0 2px}.pX{float:left;border-radius:2px}.pX:hover{background:#d43b1c}.pY{display:none;position:absolute;cursor:default;top:100%;left:0;width:264px;padding:4px}.pY,.pW:hover{background:#b6270b}.pW:hover .pY{display:block}.pZ{font-size:12px;font-weight:400;line-height:12px}.pa_{height:30px;width:1px;background:#eee;margin:2px 12px;float:left}"),t.default=n.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_,f,h,g,x,m=[],v=e.i18n,b=e.elements;(d=[t("i",c=[t(0,"\ue64b")],{mxs:"pa:_",class:"px pa"})]).push(t(0,v("_k")+"\u2122")),m.push(t("div",d,{mxa:"pa:_",class:"pE pc"})),d=[];for(var y=0,w=b,k=w.length;y<k;y++){var A=w[y];if(c=[],A.subs){_=[t("i",0,{class:"px","x-html":A.icon})],f=[t(0,A.title)],_.push(t("b",f,{mxa:"pa:d",class:"pZ"})),f=[];for(var S=0,M=A.subs,E=M.length;S<E;S++){var z=M[S];g=[t("i",0,{class:"px","x-html":z.icon})],x=[t(0,z.title)],g.push(t("b",x,{mxa:"pa:f",class:"pZ"})),h=[t("div",g,{class:"pX","mx-mousedown":i+"\x1e__K({ctor:'"+r(a,z)+"'})"})],f.push.apply(f,h)}_.push(t("div",f,{mxa:"pa:e",class:"pY"})),u=[t("div",_,{mxa:"pa:c",class:"pW pg"})],c.push.apply(c,u)}else _=[t("i",0,{class:"px","x-html":A.icon})],f=[t(0,A.title)],_.push(t("b",f,{mxa:"pa:h",class:"pZ"})),u=[t("div",_,{class:"pW pg","mx-mousedown":i+"\x1e__K({ctor:'"+r(a,A)+"'})"})],c.push.apply(c,u);d.push.apply(d,c)}return m.push(t("div",d,{mxa:"pa:a",class:"pE pc pC pj"})),c=[t("i",u=[t(0,"\ue64a")],{class:"px"})],u=[t(0,"\u9884\u89c8")],c.push(t("b",u,{class:"pZ"})),d=[t("div",c,{class:"pW"})],c=[t("i",u=[t(0,"\ue6b0")],{class:"px"})],u=[t(0,"\u4fdd\u5b58")],c.push(t("b",u,{class:"pZ"})),d.push(t("div",c,{class:"pW"})),m.push(t("div",d,{mxs:"pa:a",class:"pE pd pD pj"})),t(i,m)},mixins:[o.default],render:function(){this.digest({elements:a.default.__G()})},"__K<mousedown>":function(e){var t=e.params.ctor;r.default.__H(t.icon);var i=!1,a=null;n.State.set({__I:t}),this.__x(e,function(e){r.default.__y(e),i=!0},function(e){r.default.__z(),i?e&&(a=o.default.__J(e.clientX,e.clientY),n.State.fire("__c",{node:a,pageX:e.pageX,pageY:e.pageY})):n.State.fire("__b",{pageX:50*Math.random()|0,pageY:50*Math.random()|0})})}})}),define("designer/history",["magix","./const"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),a=e("./const"),o=[],r=[],s=null,l=-1,p="",d=null,c=function(){return JSON.stringify({page:n.State.get("__d"),scale:n.State.get("__c"),elements:n.State.get("__L"),select:n.State.get("__M"),xLines:n.State.get("__n"),yLines:n.State.get("__o")})},u=function(e){var t=JSON.parse(e),i=n.State.get("__c"),a=t.scale||i;n.State.fire("__d",{json:t}),n.State.fire("___",{scale:i!==a})};t.default={__N:function(){d||(d=c())},__O:function(){return{canRedo:r.length,canUndo:o.length}},__P:function(){o.length=0,r.length=0},__Q:function(){if(0<o.length){var e=o.pop();r.push(e);var t=o[o.length-1]||d;u(t)}},__R:function(){var e=r.pop();e&&(o.push(e),u(e))},__t:function(e,t){void 0===e&&(e="_save"),void 0===t&&(t=0);var i=c();e!=p&&s&&(o.push(s),s=null,p=e),r.length=0,t?(s=i,clearTimeout(l),l=setTimeout(function(){o.push(s),s=null},t)):o.push(i),o.length>a.default.__C&&(d=o.shift()),n.State.fire("__e")}}}),define("designer/index",["magix","../elements/index","../gallery/mx-dialog/index","./const","./history","../panels/index","./header","./toolbar","./axis","./stage"],function(e,t,i){e("./header"),e("./toolbar"),e("./axis"),e("./stage"),t.__esModule=!0;var _=e("magix"),f=e("../elements/index"),a=e("../gallery/mx-dialog/index"),n=e("./const"),o=e("./history"),r=e("../panels/index");_.default.applyStyle("pc",".paa{background:#f96447;height:40px;line-height:40px;font-size:16px;padding:0 10px;color:#fff;z-index:201}.paa,.pab{position:relative}.pab{padding:0 26px;background:#fafafa;color:#333;height:26px;z-index:200;border-bottom:1px solid #eee}.pac{width:calc(100% - 20px);overflow:scroll;height:calc(100% - 85px);background-color:#edeef3;transition:all .3s;margin-left:20px}.pad{box-shadow:inset 1px 1px 6px 2px #dadada}");t.default=_.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d=[],c=e.id;return d.push(t("div",0,{mxs:"pb:_","mx-view":"designer/header",class:"paa"}),t("div",0,{mxs:"pb:a","mx-view":"designer/toolbar",class:"pab pj"}),t("div",0,{"mx-view":"designer/axis?scroll=s_"+o(c),class:"pj pg"}),t("div",0,{"mx-view":"designer/stage",id:"s_"+c,class:"pac pk pad"})),t(i,d)},mixins:[a.default],init:function(){_.State.on("__d",function(e){!function(e){var t=_.State.get("__d"),i=_.State.get("__L"),a=_.State.get("__M"),n=_.State.get("__n"),o=_.State.get("__o"),r=f.default.__S(e.elements),s=r.elements,l=r.map;i.length=0,i.push.apply(i,s),n.length=0,e.xLines&&n.push.apply(n,e.xLines),o.length=0,e.yLines&&o.push.apply(o,e.yLines);var p={};if(a.length=0,e.select)for(var d=0,c=e.select;d<c.length;d++){var u=l[c[d].id];u&&(p[u.id]=1,a.push(u))}_.default.mix(t,e.page),_.State.set({__c:e.scale||1,__T:p})}(e.json)}),_.State.set({__d:{width:n.default.__D,height:n.default.__E,background:"#ffffff"},__c:n.default.__c,__L:[],__M:[],__T:{},__n:[],__o:[]}),o.default.__N()},render:function(){this.digest(null,null,function(){r.default.__U()})}})}),define("designer/keys",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={UP:38,DOWN:40,LEFT:37,RIGHT:39,DELETE:8,TAB:9,C:67,V:86,A:65,N:78,X:88,Z:90,Y:89}}),define("designer/props",[],function(e,t,i){"use strict";t.__esModule=!0,t.default={__V:1,__W:2}}),define("designer/stage",["magix","../gallery/mx-dragdrop/index","./history","./keys","./workspace","../util/converter","../gallery/mx-pointer/select","../gallery/mx-pointer/cursor","../gallery/mx-menu/index","./contextmenu"],function(e,t,i){"use strict";t.__esModule=!0;var _=e("magix"),a=e("../gallery/mx-dragdrop/index"),f=e("./history"),l=e("./keys"),h=e("./workspace"),g=e("../util/converter"),x=e("../gallery/mx-pointer/select"),m=e("../gallery/mx-pointer/cursor"),v=e("../gallery/mx-menu/index"),b=e("./contextmenu");_.default.applyStyle("pd",".pae{outline:0;display:flex;position:relative}.paf{padding:50px 240px 50px 120px}.pag{background:#fff;box-shadow:0 3px 6px 0 rgba(0,0,0,.3)}"),t.default=_.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_=[],f=e.page,h=e.scale,g=e.elements,x=e.id;c=[];for(var m=0,v=g,b=v.length;m<b;m++){var y=v[m];u=[t("div",0,{mxv:"elements",id:y.id,"mx-view":"elements/"+y.type+"/designer?element="+r(a,y),"mx-mousedown":i+"\x1e__Z({element:'"+r(a,y)+"'})"})],c.push.apply(c,u)}return d=[t("div",[t("div",c,{class:"pag pg",style:"width:"+f.width*h+"px;height:"+f.height*h+"px;background:"+f.background,id:"stage_canvas"})],{mxa:"pc:a",class:"paf"})],_.push(t("div",d,{mxa:"pc:_",class:"pae",id:"stage_outer","mx-contextmenu":i+"\x1e__B()","mx-mousedown":i+"\x1e__ah()",tabindex:"0","mx-focusin":i+"\x1e__ar()","mx-focusout":i+"\x1e__as()","mx-keydown":i+"\x1e__ao()"}),t("div",0,{id:"pole_"+x,style:"margin-top:-"+(f.height*h+100)+"px;display:none;"})),t(i,_)},mixins:[a.default],init:function(){var o=this,e=function(e){if(e.node){if(!_.default.inside(e.node,"stage_canvas"))return;var t=g.default.__X({x:e.pageX,y:e.pageY});e.pageX=t.x,e.pageY=t.y}h.StageElements.__K(e,!0)&&(_.State.fire("__f"),f.default.__t())},t=function(e){var t=_.State.get("__L");e?o.digest({elements:t}):o.set({elements:t})},i=function(e){if(e.step){for(var t=_.State.get("__L"),i=0,a=t;i<a.length;i++){var n=a[i].props;n.x*=e.step,n.y*=e.step,n.width*=e.step,n.height*=e.step}o.set({elements:t})}o.render()};_.State.on("___",i),_.State.on("__a",i),_.State.on("__g",i),_.State.on("__b",e),_.State.on("__c",e),_.State.on("__f",t),_.State.on("__h",function(e){var t=_.node(o.id),i=_.node("pole_"+o.id).style;e.show?(i.width=t.scrollWidth+"px",i.height=t.scrollHeight+"px",i.display="block"):i.display="none"}),t()},render:function(){var e=_.State.get("__d");this.digest({scale:_.State.get("__c"),page:e})},"__Z<mousedown>":function(e){h.StageElements.__Y(e,this)},"__ah<mousedown>":function(l){var p=this,e=l.target;if("stage_canvas"==e.id||_.default.inside("stage_canvas",e)){var d=null,t=0,i=_.State.get("__T");if(l.shiftKey){d={};for(var a=0,n=_.State.get("__M");a<n.length;a++){var o=n[a];d[o.id]=1,t++}}else h.StageSelectElements.__a_();this.__aa=t,x.default.__ab();var c=0,u=h.StageElements.__ac();this.__x(l,function(e){c||(c=1,m.default.__ad("default"));var t=Math.abs(l.pageX-e.pageX),i=Math.abs(l.pageY-e.pageY),a=Math.min(l.pageX,e.pageX),n=Math.min(l.pageY,e.pageY);x.default.__H(a,n,t,i);var o=g.default.__X({x:a,y:n});if(o.width=t,o.height=i,u.length){var r=h.StageElements.__ae(u,o,d),s=r.length;s!==p.__aa&&(p.__aa=s,h.StageSelectElements.__af(r))}},function(){c&&(x.default.__z(),m.default.__z()),h.StageSelectElements.__ag(i)&&f.default.__t()})}},"__ao<keydown>":function(e){if(e.metaKey||e.ctrlKey)e.keyCode==l.default.Z?(e.preventDefault(),e.shiftKey?f.default.__R():f.default.__Q()):e.keyCode==l.default.Y?(e.preventDefault(),f.default.__R()):e.keyCode==l.default.A?(e.preventDefault(),h.StageElements.__ai()):e.keyCode==l.default.X?(e.preventDefault(),h.Clipboard.__aj()):e.keyCode==l.default.C?(e.preventDefault(),h.Clipboard.__ak()):e.keyCode==l.default.V&&(e.preventDefault(),h.Clipboard.__al());else if(e.keyCode==l.default.TAB)e.preventDefault(),h.StageElements.__am(e);else if(e.keyCode==l.default.DELETE)e.preventDefault(),h.StageElements.__an()&&(_.State.fire("__f"),f.default.__t());else{var t=e.shiftKey?10:1;t*=_.State.get("__c");var i=_.State.get("__M");if(i.length){for(var a=!1,n=0,o=i;n<o.length;n++){var r=o[n];if(e.keyCode==l.default.UP?(a=!0,r.props.y-=t):e.keyCode==l.default.DOWN?(a=!0,r.props.y+=t):e.keyCode==l.default.LEFT?(a=!0,r.props.x-=t):e.keyCode==l.default.RIGHT&&(a=!0,r.props.x+=t),a){var s=_.Vframe.get(r.id);s&&s.invoke("assign",[{element:r}])&&s.invoke("render")}}a&&(e.preventDefault(),_.State.fire("__i"),f.default.__t("___",500))}}},"__B<contextmenu>":function(i){if(i.preventDefault(),_.default.inside(i.target,"stage_canvas")){var e=_.default.config("lang"),t=b.default.stage(e),a={},n=_.State.get("__L"),o=_.State.get("__M"),r=h.Clipboard.__ap();a[b.default.allId]=!n.length,a[b.default.pasteId]=!r;var s=o.length,l=o[0];if(1==s){t=b.default.singleElement(e);var p=n[n.length-1],d=n[0],c=p.id==l.id,u=d.id==l.id;a[b.default.upId]=c,a[b.default.topId]=c,a[b.default.bottomId]=u,a[b.default.downId]=u}else 1<s&&(t=b.default.multipleElement(e));v.default.show(this,i,{list:t,disabled:a,picked:function(e){if(e.id==b.default.allId)h.StageElements.__ai();else if(e.id==b.default.copyId)h.Clipboard.__ak();else if(e.id==b.default.pasteId){var t=g.default.__X({x:i.pageX,y:i.pageY});h.Clipboard.__al(t)}else e.id==b.default.cutId?h.Clipboard.__aj():e.id==b.default.deleteId?h.StageElements.__an()&&(_.State.fire("__f"),f.default.__t()):3<=e.id&&e.id<=6&&h.StageElements.__aq(e.id,l)&&(_.State.fire("__f"),f.default.__t())}})}},"__ar<focusin>":function(){_.node(this.id).classList.remove("pad")},"__as<focusout>":function(){_.node(this.id).classList.add("pad")}})}),define("designer/toolbar-align",["magix","./history"],function(e,t,i){"use strict";t.__esModule=!0;var b=e("magix"),y=e("./history");t.default=b.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_=[],f=e.elements,h=e.i18n,g=f.length;return _.push(t("i",0,{mxs:"pd:_",class:"pak"})),u=[t(0,"\ue70b")],d="px pai",g<2&&(d+=" pal"),(c={}).class=d,c.title=h("_l"),c["mx-click"]=i+"\x1e__at({to:'left'})",_.push(t("i",u,c)),u=[t(0,"\ue711")],d="px pai",g<2&&(d+=" pal"),(c={}).class=d,c.title=h("_m"),c["mx-click"]=i+"\x1e__at({to:'center'})",_.push(t("i",u,c)),u=[t(0,"\ue70c")],d="px pai",g<2&&(d+=" pal"),(c={}).class=d,c.title=h("_n"),c["mx-click"]=i+"\x1e__at({to:'right'})",_.push(t("i",u,c)),u=[t(0,"\ue70d")],d="px pai",g<2&&(d+=" pal"),(c={}).class=d,c.title=h("_o"),c["mx-click"]=i+"\x1e__at({to:'top'})",_.push(t("i",u,c)),u=[t(0,"\ue712")],d="px pai",g<2&&(d+=" pal"),(c={}).class=d,c.title=h("_p"),c["mx-click"]=i+"\x1e__at({to:'middle'})",_.push(t("i",u,c)),u=[t(0,"\ue70e")],d="px pai",g<2&&(d+=" pal"),(c={}).class=d,c.title=h("_q"),c["mx-click"]=i+"\x1e__at({to:'bottom'})",_.push(t("i",u,c)),t(i,_)},init:function(){var e=this.render.bind(this);b.State.on("___",e),b.State.on("__j",e)},render:function(){this.digest({elements:b.State.get("__M")})},"__at<click>":function(e){for(var t=e.params.to,i=b.State.get("__M"),a=-Number.MAX_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,r=-Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,p=0,d=i;p<d.length;p++){var c=d[p],u=b.node("mask_"+c.id).getBoundingClientRect();if("right"==t)u.right>a&&(a=u.right);else if("left"==t)u.left<n&&(n=u.left);else if("top"==t)u.top<o&&(o=u.top);else if("bottom"==t)u.bottom>r&&(r=u.bottom);else if("middle"==t){var _=(u.bottom-u.top)/2;u.top+_<s&&(s=u.top+_)}else if("center"==t){_=(u.right-u.left)/2;u.left+_<l&&(l=u.left+_)}}for(var f=0,h=0,g=i;h<g.length;h++){c=g[h],u=b.node("mask_"+c.id).getBoundingClientRect();var x=0;if("right"==t)0!=(m=a-u.right)&&(x=f=1,c.props.x+=m);else if("left"==t){0!=(m=n-u.left)&&(x=f=1,c.props.x+=m)}else if("top"==t){0!=(m=o-u.top)&&(x=f=1,c.props.y+=m)}else if("bottom"==t){0!=(m=r-u.bottom)&&(x=f=1,c.props.y+=m)}else if("middle"==t){0!=(m=s-(u.top+(u.bottom-u.top)/2))&&(x=f=1,c.props.y+=m)}else if("center"==t){var m;0!=(m=l-(u.left+(u.right-u.left)/2))&&(x=f=1,c.props.x+=m)}if(x){var v=b.Vframe.get(c.id);v&&v.invoke("assign",[{element:c}])&&v.invoke("render")}}f&&(b.State.fire("__i"),y.default.__t())}})}),define("designer/toolbar-del",["magix","./workspace","./history"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=e("./workspace"),o=e("./history");t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_=[],f=e.elements,h=e.i18n,g=f.length;return _.push(t("i",0,{mxs:"pe:_",class:"pak"})),u=[t(0,"\ue600")],d="px pai",g<1&&(d+=" pal"),(c={}).class=d,c.title=h("__j")+"(Delete)",c["mx-click"]=i+"\x1e__au()",_.push(t("i",u,c)),t(i,_)},init:function(){var e=this.render.bind(this);a.State.on("___",e),a.State.on("__j",e)},render:function(){this.digest({elements:a.State.get("__M")})},"__au<click>":function(){n.StageElements.__an()&&(a.State.fire("__f"),o.default.__t())}})}),define("designer/toolbar-do",["magix","./history"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=e("./history");t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_=[],f=e.status,h=e.i18n;return u=[t(0,"\ue682")],c={},d="px pai",f.canUndo||(d+=" pal"),c.class=d,c.title=h("_r"),c["mx-click"]=i+"\x1e__av({s:'-',b:"+f.canUndo+"})",_.push(t("i",u,c)),u=[t(0,"\ue682")],c={},d="px pai pB",f.canRedo||(d+=" pal"),c.class=d,c.title=h("_s"),c["mx-click"]=i+"\x1e__av({s:'+',b:"+f.canRedo+"})",_.push(t("i",u,c)),t(i,_)},init:function(){var e=this.render.bind(this);a.State.on("___",e),a.State.on("__e",e)},render:function(){this.digest({status:n.default.__O()})},"__av<click>":function(e){var t=e.params,i=t.s;t.b&&("-"==i?n.default.__Q():n.default.__R())}})}),define("designer/toolbar-layer",["magix","./history","./workspace"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=e("./history"),o=e("./workspace");t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c,u,_=[],f=e.elements,h=e.top,g=e.i18n,x=e.bottom;var m=f.length;var v=f[0];return _.push(t("i",0,{mxs:"pg:_",class:"pak"})),u=[t(0,"\ue632")],c={},d="px pai",1==m&&h.id!=v.id||(d+=" pal"),c.class=d,c.title=g("__f"),c["mx-click"]=i+"\x1e__aq({to:5})",_.push(t("i",u,c)),u=[t(0,"\ue607")],c={},d="px pai",1==m&&h.id!=v.id||(d+=" pal"),c.class=d,c.title=g("__h"),c["mx-click"]=i+"\x1e__aq({to:3})",_.push(t("i",u,c)),u=[t(0,"\ue632")],c={},d="px pai pA",1==m&&x.id!=v.id||(d+=" pal"),c.class=d,c.title=g("__g"),c["mx-click"]=i+"\x1e__aq({to:6})",_.push(t("i",u,c)),u=[t(0,"\ue607")],c={},d="px pai pA",1==m&&x.id!=v.id||(d+=" pal"),c.class=d,c.title=g("__i"),c["mx-click"]=i+"\x1e__aq({to:4})",_.push(t("i",u,c)),t(i,_)},init:function(){var e=this.render.bind(this);a.State.on("___",e),a.State.on("__f",e),a.State.on("__j",e)},render:function(){var e=a.State.get("__L");this.digest({top:e[e.length-1],bottom:e[0],elements:a.State.get("__M")})},"__aq<click>":function(e){var t=e.params.to,i=this.get("elements")[0];o.StageElements.__aq(t,i)&&(a.State.fire("__f"),n.default.__t())}})}),define("designer/toolbar-panels",["magix","../panels/index"],function(e,t,i){"use strict";t.__esModule=!0;var a=e("magix"),n=e("../panels/index");t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){for(var d,c,u,_=[],f=e.panels,h=e.i18n,g=0,x=f,m=x.length;g<m;g++){var v=x[g];u={},c="px pai",v.opened&&(c+=" paj"),u.class=c,u["x-html"]=v.icon,u["mx-click"]=i+"\x1e__ax({id:'"+s(v.id)+"'})",u.title=h(v.opened?"_t":"_u",v.title),d=[t("i",0,u)],_.push.apply(_,d)}return t(i,_)},init:function(){var e=this;a.State.on("__k",function(){e.render()})},render:function(){this.digest({panels:n.default.__aw()})},"__ax<click>":function(e){var t=e.params.id;n.default.__ax(t)}})}),define("designer/toolbar-scale",["magix","./history"],function(e,t,i){"use strict";t.__esModule=!0;var n=e("magix"),o=e("./history");t.default=n.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c=[],u=e.i18n,_=e.scale;return d=[t(0,"\ue602")],c.push(t("i",d,{class:"px pai","mx-click":i+"\x1e__ay({s:'-'})",title:u("_v")})),d=[t(0,100*_+"%")],c.push(t("b",d,{mxa:"pi:_",class:"pam"})),d=[t(0,"\ue699")],c.push(t("i",d,{class:"px pai","mx-click":i+"\x1e__ay({s:'+'})",title:u("_w")})),t(i,c)},init:function(){var e=this.render.bind(this);n.State.on("__a",e),n.State.on("___",e)},render:function(){this.digest({scale:n.State.get("__c")})},"__ay<click>":function(e){var t=e.params.s,i=this.get("scale"),a=i;"+"==t?5<(i+=.5)&&(i=5):(i-=.5)<.5&&(i=.5),a!=i&&(n.State.set({__c:i}),n.State.fire("__a",{step:i/a}),o.default.__t())}})}),define("designer/toolbar",["magix","./toolbar-do","./toolbar-align","./toolbar-layer","./toolbar-del","./toolbar-scale","./toolbar-panels"],function(e,t,i){e("./toolbar-do"),e("./toolbar-align"),e("./toolbar-layer"),e("./toolbar-del"),e("./toolbar-scale"),e("./toolbar-panels"),t.__esModule=!0;var a=e("magix");a.default.applyStyle("pe",".pah{height:22px}.pai{cursor:pointer;height:22px;width:22px;margin:0 2px;display:inline-flex;align-items:center;justify-content:center;border-radius:2px}.pai:hover{background:#e6e6e6;color:#333}.paj,.paj:hover{background:#c4c4c4}.pak{height:16px;width:1px;background:#eee;margin:3px 12px;float:left}.pal{color:#aaa;cursor:not-allowed}.pal:hover{color:#aaa;background:transparent}.pam{font-weight:400;font-size:14px;width:40px;display:inline-block;text-align:center}"),t.default=a.default.View.extend({tmpl:function(e,t,i,a,n,o,r,s,l,p){var d,c=[];return(d=[t("div",0,{class:"pah","mx-view":"designer/toolbar-do"})]).push(t("div",0,{class:"pah","mx-view":"designer/toolbar-align"}),t("div",0,{class:"pah","mx-view":"designer/toolbar-layer"}),t("div",0,{class:"pah","mx-view":"designer/toolbar-del"})),c.push(t("div",d,{mxs:"pj:_",class:"pc pE pb"})),(d=[t("div",0,{class:"pah","mx-view":"designer/toolbar-scale"})]).push(t("i",0,{class:"pak"}),t("div",0,{class:"pah","mx-view":"designer/toolbar-panels"})),c.push(t("div",d,{mxs:"pj:a",class:"pd pb pE"})),t(i,c)},render:function(){this.digest()}})}),define("designer/workspace",["magix","./history","../gallery/mx-pointer/cursor","../util/transform"],function(e,f,t){"use strict";f.__esModule=!0;var v=e("magix"),l=e("./history"),_=e("../gallery/mx-pointer/cursor"),b=e("../util/transform");f.StageSelectElements={__a_:function(e){var t=v.State.get("__M"),i=t.length;if(i||e){var a=1<i?null:t[0];t.length=0;var n=!1;if(e?(t.push(e),n=e!=a):i&&(n=!0),n)return v.State.set({__T:v.toMap(t,"id")}),v.State.fire("__j"),!0}},__az:function(e){for(var t=v.State.get("__M"),i=!1,a=0,n=t;a<n.length;a++){if(n[a].id===e.id){i=!0;break}}if(!i)return t.push(e),v.State.set({__T:v.toMap(t,"id")}),v.State.fire("__j"),!0},__aA:function(e){for(var t=v.State.get("__M"),i=!1,a=-1,n=0,o=t;n<o.length;n++){if(a++,o[n].id===e.id){i=!0;break}}if(i)return t.splice(a,1),v.State.set({__T:v.toMap(t,"id")}),v.State.fire("__j"),!0},__af:function(e){var t=v.State.get("__M");t.length=0,e&&t.push.apply(t,e),v.State.set({__T:v.toMap(t,"id")}),v.State.fire("__j")},__ag:function(e){var t=v.State.get("__T"),i=0;for(var a in e)if(!t[a]){i=1;break}if(!i)for(var a in t)if(!e[a]){i=1;break}return i}},f.StageElements={__K:function(e,t){var i=v.State.get("__I");if(i){var a=v.State.get("__L"),n=i.getProps(e.pageX,e.pageY),o=v.State.get("__c");n.width*=o,n.height*=o;var r={id:v.default.guid("e_"),ctor:i,type:i.type,props:n};return a.push(r),t&&f.StageSelectElements.__a_(r),a}},__aB:function(e,t){if(e.shiftKey||e.ctrlKey||e.metaKey){for(var i=v.State.get("__M"),a=!1,n=i.length;n--;){i[n].id==t.id&&(a=!0)}if(a&&1<i.length)return void(f.StageSelectElements.__aA(t)&&l.default.__t());f.StageSelectElements.__az(t)&&l.default.__t()}else f.StageSelectElements.__a_(t)&&l.default.__t()},__Y:function(p,e){var t=p.params.element,d=v.State.get("__M");if(void 0===p.button||0==p.button)if(p.shiftKey||p.ctrlKey||p.metaKey)f.StageElements.__aB(p,t);else{_.default.__ad("move");for(var c=[],i=(o=!1,0),a=d;i<a.length;i++){var n=a[i];t.id==n.id&&(o=!0),c.push({x:n.props.x,y:n.props.y})}o||(f.StageSelectElements.__a_(t)&&l.default.__t(),c.length=0,c.push({x:t.props.x,y:t.props.y}),d.length=0,d.push(t));var u=!1;v.State.fire("__h",{show:1}),e.__x(p,function(e){for(var t=e.pageX-p.pageX,i=e.pageY-p.pageY,a=0,n=0,o=d;n<o.length;n++){var r=o[n];u=!0;var s=c[a++];r.props.x=s.x+t,r.props.y=s.y+i;var l=v.Vframe.get(r.id);l&&l.invoke("assign",[{element:r}])&&l.invoke("render")}v.State.fire("__i")},function(){u&&l.default.__t(),_.default.__z(),v.State.fire("__h")})}else{for(var o=!1,r=0,s=d;r<s.length;r++){if(s[r].id===t.id){o=!0;break}}o||f.StageSelectElements.__a_(t)&&l.default.__t()}},__an:function(){var e=v.State.get("__M"),t=v.State.get("__L"),i=!1;if(e.length){for(var a=v.toMap(e,"id"),n=t.length;n--;)a[t[n].id]&&(i=!0,t.splice(n,1));i&&f.StageSelectElements.__a_()}return i},__ac:function(){for(var e,t,i=[],a=0,n=v.State.get("__L");a<n.length;a++){var o=n[a];t=(e=o.props).rotate||0;for(var r={x:e.x,y:e.y,width:e.width,height:e.height},s=b.default.__aC(r,t),l=s.point[0],p=s.point[2],d=s.point[6],c=s.point[4],u=l,_=l,f=l,h=l,g=0,x=[p,d,c];g<x.length;g++){var m=x[g];m.x<u.x&&(u=m),m.x>f.x&&(f=m),m.y<_.y&&(_=m),m.y>h.y&&(h=m)}i.push({element:o,left:u,top:_,right:f,bottom:h,points:[l,p,d,c],lines:[{start:l,end:p},{start:p,end:c},{start:c,end:d},{start:d,end:l}]})}return i},__ae:function(e,t,i){for(var a,n,o,r,s,l,p,d,c,u=[],_=[{start:{x:t.x,y:t.y},end:{x:t.x+t.width,y:t.y}},{start:{x:t.x+t.width,y:t.y},end:{x:t.x+t.width,y:t.y+t.height}},{start:{x:t.x+t.width,y:t.y+t.height},end:{x:t.x,y:t.y+t.height}},{start:{x:t.x,y:t.y+t.height},end:{x:t.x,y:t.y}}],f=0,h=e;f<h.length;f++){var g=h[f];if(a=!1,i&&i[g.element.id])i&&u.push(g.element);else{for(var x=0,m=g.points;x<m.length;x++){var v=m[x];if(v.x>=t.x&&v.y>=t.y&&v.x<=t.x+t.width&&v.y<=t.y+t.height){u.push(g.element),a=!0;break}}if(!a)for(var b=0,y=g.lines;b<y.length;b++){for(var w=y[b],k=0,A=_;k<A.length;k++){if(o=A[k],void 0,r=(n=w).start,s=n.end,l=o.start,p=o.end,d=((s.x-r.x)*(l.y-r.y)-(s.y-r.y)*(l.x-r.x))*((s.x-r.x)*(p.y-r.y)-(s.y-r.y)*(p.x-r.x)),c=((p.x-l.x)*(r.y-l.y)-(p.y-l.y)*(r.x-l.x))*((p.x-l.x)*(s.y-l.y)-(p.y-l.y)*(s.x-l.x)),d<0&&c<0){a=!0,u.push(g.element);break}}if(a)break}}}return u},__aD:function(e,t){for(var i=v.State.get("__L"),a=i.length;a--;){e==i[a].id&&i.splice(a,1)}t||f.StageSelectElements.__af()},__ai:function(){var e=v.State.get("__T"),t=v.State.get("__L");f.StageSelectElements.__af(t),f.StageSelectElements.__ag(e)&&l.default.__t()},__aq:function(e,t){for(var i=v.State.get("__L"),a=-1,n=i.length;n--;){if(i[n].id===t.id){i.splice(a=n,1);break}}return 3==e?i.push(t):4==e?i.unshift(t):5==e?i.splice(a+1,0,t):6==e&&(0===a&&(a=1),i.splice(a-1,0,t)),!0},__am:function(e){var t=v.State.get("__M"),i=v.State.get("__L"),a=t.length,n=t[0];if(0===a||1<a)n=i[e.shiftKey?0:i.length-1];else{for(var o=void 0,r=void 0,s=i.length;s--;){var l=i[s];if(l.id==n.id){o=i[s-1];break}r=l}var p=null;(p=e.shiftKey?(o||(o=i[i.length-1]),o):(r||(r=i[0]),r)).id!=n.id&&f.StageSelectElements.__a_(p)}}};var h=function(e){if(Array.isArray(e)){for(var t=[],i=0,a=e;i<a.length;i++){var n=a[i];t.push(h(n))}e=t}else if("[object Object]"==Object.prototype.toString.call(e)){t={};for(var n in e)t[n]=h(e[n]);e=t}return e};f.Clipboard={__ap:function(){return(this.__aE||[]).length},__aF:function(){return this.__aE||[]},__ak:function(){for(var e=[],t=0,i=v.State.get("__M");t<i.length;t++){var a=i[t];e.push(a)}this.__aE=e},__aj:function(){this.__ak(),this.__aG=!0},__al:function(a){var e=this,t=e.__aE,n=v.State.get("__L");if(t){for(var i=[],o=0,r=0,s=0,l=function(e){for(var t=0,i=n;t<i.length;t++){var a=i[t];if(a.props.x==e.x&&a.props.y==e.y)return 1}return 0},p=function(e){if(0===o)if(a)r=e.x-a.x,s=e.y-a.y,e.x=a.x,e.y=a.y;else{for(var t=e.x,i=e.y;l(e);)e.x+=20,e.y+=20;for(e.x+e.width<0&&(e.x=-e.width/2),e.y+e.height<0&&(e.y=-e.height/2);l(e);)e.x-=4,e.y-=4;r=t-e.x,s=i-e.y}else e.x-=r,e.y-=s},d=0,c=t;d<c.length;d++){var u=c[d],_=h(u);p(_.props),o++,_.id=v.default.guid("e_"),n.push(_),i.push(_),e.__aG&&f.StageElements.__aD(u.id,!0)}e.__aG&&(delete e.__aG,delete e.__aE),v.State.fire("__f"),f.StageSelectElements.__af(i)}}}});