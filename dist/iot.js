(function(e,t){if(!e.seajs){var i=e.seajs={version:"2.2.3"},a=i.data={},r=V("Object"),d=V("String"),l=Array.isArray||V("Array"),s=V("Function"),o=V("Undefined"),n=0,p=a.events={};i.on=function(e,t){return(p[e]||(p[e]=[])).push(t),i},i.off=function(e,t){if(!e&&!t)return p=a.events={},i;var r=p[e];if(r)if(t)for(var d=r.length-1;d>=0;d--)r[d]===t&&r.splice(d,1);else delete p[e];return i};var u,c=i.emit=function(e,t){var a,r=p[e];if(r)for(r=r.slice();a=r.shift();)a(t);return i},h=/[^?#]*\//,f=/\/\.\//g,g=/\/[^/]+\/\.\.\//,x=/([^:/])\/\//g,_=/^([^/:]+)(\/.+)$/,b=/{([^{]+)}/g,m=/^\/\/.|:\//,y=/^.*?\/\/.*?\//,w=document,v=F(w.URL),k=w.scripts,A=F(((u=w.getElementById("seajsnode")||k[k.length-1]).hasAttribute?u.src:u.getAttribute("src",4))||v);i.resolve=function(e,t){if(!e)return"";var i,r,l;r=(i=e=function(e){var t=a.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(b,function(e,i){return d(t[i])?t[i]:e})),e}(e=function(e){var t,i=a.paths;return i&&(t=e.match(_))&&d(i[t[1]])&&(e=i[t[1]]+t[2]),e}(e=function(e){var t=a.alias;return t&&d(t[e])?t[e]:e}(e)))).length-1;var o=D(e="#"===(l=i.charAt(r))?i.substring(0,r):".js"===i.substring(r-2)||i.indexOf("?")>0||".css"===i.substring(r-3)||"/"===l?i:i+".js",t);return function(e){var t=a.map,i=e;if(t)for(var r=0,d=t.length;r<d;r++){var l=t[r];if((i=s(l)?l(e)||e:e.replace(l[0],l[1]))!==e)break}return i}(o)};var S,M,z=w.head||w.getElementsByTagName("head")[0]||w.documentElement,j=z.getElementsByTagName("base")[0],Y=/\.css(?:\?|$)/i,T=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;i.request=function(e,t,i,r){var d=Y.test(e),l=w.createElement(d?"link":"script");i&&(l.charset=i),o(r)||l.setAttribute("crossorigin",r),function(e,t,i,r){var d="onload"in e;function l(){e.onload=e.onerror=e.onreadystatechange=null,i||a.debug||z.removeChild(e),e=null,t()}!i||!T&&d?d?(e.onload=l,e.onerror=function(){c("error",{uri:r,node:e}),l()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&l()}:setTimeout(function(){!function e(t,i){var a,r=t.sheet;if(T)r&&(a=!0);else if(r)try{r.cssRules&&(a=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(a=!0)}setTimeout(function(){a?i():e(t,i)},20)}(e,t)},1)}(l,t,d,e),d?(l.rel="stylesheet",l.href=e):(l.async=!0,l.src=e),S=l,j?z.insertBefore(l,j):z.appendChild(l),S=null};var Q,P,I,R=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,O=/\\\\/g,X=i.cache={},E={},C={},L={},N=H.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};H.prototype.resolve=function(){for(var e=this.dependencies,t=[],i=0,a=e.length;i<a;i++)t[i]=H.resolve(e[i],this.uri);return t},H.prototype.load=function(){if(!(this.status>=N.LOADING)){this.status=N.LOADING;var e=this.resolve();c("load",e);for(var t,i=this._remain=e.length,a=0;a<i;a++)(t=H.get(e[a])).status<N.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0!==this._remain){var r={};for(a=0;a<i;a++)(t=X[e[a]]).status<N.FETCHING?t.fetch(r):t.status===N.SAVED&&t.load();for(var d in r)r.hasOwnProperty(d)&&r[d]()}else this.onload()}},H.prototype.onload=function(){this.status=N.LOADED,this.callback&&this.callback();var e,t,i=this._waitings;for(e in i)i.hasOwnProperty(e)&&((t=X[e])._remain-=i[e],0===t._remain&&t.onload());delete this._waitings,delete this._remain},H.prototype.fetch=function(e){var t=this.uri;this.status=N.FETCHING;var r={uri:t};c("fetch",r);var d=r.requestUri||t;function l(){i.request(r.requestUri,r.onRequest,r.charset,r.crossorigin)}d&&!C[d]?E[d]?L[d].push(this):(E[d]=!0,L[d]=[this],c("request",r={uri:t,requestUri:d,onRequest:function(){delete E[d],C[d]=!0,Q&&(H.save(t,Q),Q=null);var e,i=L[d];for(delete L[d];e=i.shift();)e.load()},charset:s(a.charset)?a.charset(d):a.charset,crossorigin:s(a.crossorigin)?a.crossorigin(d):a.crossorigin}),r.requested||(e?e[r.requestUri]=l:l())):this.load()},H.prototype.exec=function(){var e=this;if(e.status>=N.EXECUTING)return e.exports;e.status=N.EXECUTING;var t=e.uri;function i(e){return H.get(i.resolve(e)).exec()}i.resolve=function(e){return H.resolve(e,t)},i.async=function(e,a){return H.use(e,a,t+"_async_"+B()),i};var a=e.factory,r=s(a)?a(i,e.exports={},e):a;return void 0===r&&(r=e.exports),delete e.factory,e.exports=r,e.status=N.EXECUTED,c("exec",e),r},H.resolve=function(e,t){var a={id:e,refUri:t};return c("resolve",a),a.uri||i.resolve(a.id,t)},H.define=function(e,t,i){var a,r,d=arguments.length;1===d?(i=e,e=void 0):2===d&&(i=t,l(e)?(t=e,e=void 0):t=void 0),!l(t)&&s(i)&&(a=i.toString(),r=[],a.replace(O,"").replace(R,function(e,t,i){i&&r.push(i)}),t=r);var o={id:e,uri:H.resolve(e),deps:t,factory:i};if(!o.uri&&w.attachEvent){var n=function(){if(S)return S;if(M&&"interactive"===M.readyState)return M;for(var e=z.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var i=e[t];if("interactive"===i.readyState)return M=i}}();n&&(o.uri=n.src)}c("define",o),o.uri?H.save(o.uri,o):Q=o},H.save=function(e,t){var i=H.get(e);i.status<N.SAVED&&(i.id=t.id||e,i.dependencies=t.deps||[],i.factory=t.factory,i.status=N.SAVED)},H.get=function(e,t){return X[e]||(X[e]=new H(e,t))},H.use=function(t,i,a){var r=H.get(a,l(t)?t:[t]);r.callback=function(){for(var t=[],a=r.resolve(),d=0,l=a.length;d<l;d++)t[d]=X[a[d]].exec();i&&i.apply(e,t),delete r.callback},r.load()},H.preload=function(e){var t=a.preload,i=t.length;i?H.use(t,function(){t.splice(0,i),H.preload(e)},a.cwd+"_preload_"+B()):e()},i.use=function(e,t){return H.preload(function(){H.use(e,t,a.cwd+"_use_"+B())}),i},H.define.cmd={},e.define=H.define,i.Module=H,a.fetchedList=C,a.cid=B,i.require=function(e){var t=H.get(H.resolve(e));return t.status<N.EXECUTING&&(t.onload(),t.exec()),t.exports},a.base=(A.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",A])[1],a.dir=A,a.cwd=v,a.charset="utf-8",a.history={},a.preload=(P=[],I=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(I+=" "+w.cookie).replace(/(seajs-\w+)=1/g,function(e,t){P.push(t)}),P),i.config=function(e){for(var t in e){var d=e[t],s=a[t];if(a.history[t]=a.history[t]||[],a.history[t].push(W(d)),s&&r(s))for(var o in d)s[o]=d[o];else l(s)?d=s.concat(d):"base"===t&&("/"!==d.slice(-1)&&(d+="/"),d=D(d)),a[t]=d}return c("config",e),i}}function V(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function B(){return n++}function F(e){return e.match(h)[0]}function D(e,t){var i,r=e.charAt(0);if(m.test(e))i=e;else if("."===r)i=function(e){for(e=e.replace(f,"/");e.match(g);)e=e.replace(g,"/");return e.replace(x,"$1/")}((t?F(t):a.cwd)+e);else if("/"===r){var d=a.cwd.match(y);i=d?d[0]+e.substring(1):e}else i=a.base+e;return 0===i.indexOf("//")&&(i=location.protocol+i),i}function H(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function W(e){if(r(e)){var t={};for(var i in e)t[i]=e[i];return t}return e}})(this),(e=>{window.define?define("magix5",e):window.Magix=e()})(()=>{let e=0,t=[],i=window,a=document,r=i.setTimeout,d=encodeURIComponent;function l(){}let s,o=JSON.stringify,n=a.head,p=i.performance,u=p.now.bind(p),c="prototype",h=Object[c].toString,f=e=>h.call(e).slice(8,-1),g=e=>"Object"==f(e),x=Array.isArray,_=t=>(t||"_")+e++,b=e=>a.getElementById(e),m=(e,t)=>e.innerHTML=t,y={rootId:_(),error(e){throw e}},w=e=>!e||"object"!=typeof e,v=(e,t,i)=>{if(e&&t&&!(i=e==t))try{i=16==(16&t.compareDocumentPosition(e))}catch(e){}return i},k=e=>{e["\x1ea"]=null},{assign:A,keys:S,hasOwnProperty:M}=Object,z=n.getAttribute,j=(e,t)=>z.call(e,t),Y=(e,t,i)=>{t&&!Y[e]&&(Y[e]=1,i=a.createElement("style"),m(i,t),n.appendChild(i))},T=(e,t,i,a)=>{try{a=x(t)?e.apply(i,t):e.call(i,t)}catch(e){y.error(e)}return a},Q=(e,t)=>e&&M.call(e,t),P=(e,t)=>{let i,a;if(w(t))"\x1e"==(i=t+"")[0]&&(t=e[i]);else for(i in t)a=t[i],a=P(e,a),t[i]=a;return t},I=(e,t)=>t.a-e.a;function R(e,t,i){(i=this).a=[],i.b=t||5,i.c=i.b+(e||20)}A(R[c],{get(e){let t=this.a["\x1e"+e];return t&&(t.a++,t=t.c),t},set(e,t){let i=this,a=i.a,r="\x1e"+e,d=a[r],l=i.b;if(!d){if(a.length>=i.c)for(a.sort(I);l--;)(d=a.pop()).a>0&&i.del(d.o);d={d:e},a.push(d),a[r]=d}d.c=t,d.a=1},del(e){e="\x1e"+e;let t=this.a,i=t[e];i&&(i.a=-1,i.c="",t[e]=null)},has(e){return Q(this.a,"\x1e"+e)}});let O,X={bubbles:!0,cancelable:!0},E=[],C=(e,t,i,a,r,d)=>{let l={a:a,b:i,c:t,d:e,e(e){a?T(i,e,d):i(e)}};E.push(l),e.addEventListener(t,l.e,r)},L=(e,t,i,a,r)=>{for(let d,l=E.length;l--;)if((d=E[l]).c==t&&d.a==a&&d.d==e&&d.b===i){E.splice(l,1),e.removeEventListener(t,d.e,r);break}},N=new R,V=(e,t,i)=>(N.has(e)?i=N.get(e):(i=T(Function(`return ${e}`)),t&&N.set(e,i)),i),B=decodeURIComponent,F=new R,D=e=>{let t,i,a,r,d,l,s=F.get(e);if(!s){if(r={},-1==(d=e.indexOf("?"))?(t=e,l=""):(t=e.substring(0,d),l=e.substring(d+1)),l)for(d of l.split("&"))[i,a]=d.split("="),r[B(i)]=B(a||"");F.set(e,s={a:t,b:r})}return{path:s.a,params:A({},s.b)}},H=new R,W=(e,t,i)=>(H.has(e)?i=H.get(e):(i=V(e,null),e.includes("\x1e")?P(t,i):H.set(e,i)),i),U=0,K=[],G=()=>{let e,t,i,a=u();try{for(;;){if(e=K[U],i=K[U-1],t=K[U+1],K[U]=null,K[U-1]=null,K[U+1]=null,K[U+2]=null,U+=4,!e){K.length=U=0;break}if(e!=l&&(x(t)?e.apply(i,t):e.call(i,t)),u()-a>8&&K.length>U){r(G);break}}}catch(e){y.error(e),r(G)}},q=(e,t,i,a)=>{if(U||(U=1,r(G)),a)for(let e=K.length-1;e>=U;e-=4)K[e]==a&&(K[e-3]=null,K[e-2]=l,K[e-1]=null,K[e]=null);K.push(i,e,t,a)},J=_();y.views={},y.defaultView=J;let Z=e=>e.__esModule||window.Symbol&&"Module"===e[Symbol.toStringTag],$=e=>"Function"==f(e),ee=(e,t)=>{if(e&&e.prototype&&e.prototype instanceof it)return t(e);if(J==e)return O||(O=it.extend()),t(O);let i,a=y.views,r=[],d=0,l=()=>{d||q(t,r)},s=(e,t)=>{let i=e=>{r[t]||(d--,r[t]=Z(e)?e.default:e,l())};(e=e(i))&&e.then&&e.then(i)},o=e=>t=>{d--,r[e]=Z(t)?t.default:t,l()};if(e){x(e)||(e=[e]);for(let t=0;t<e.length;t++)(i=a[e[t]])?($(i)&&!i.extend?(d++,s(i,t)):r[t]=Z(i)?i.default:i,l()):window.seajs?(d++,seajs.use(e[t],o(t))):window.require&&(i=require(e[t]),r[t]=Z(i)?i.default:i,l())}else l()};function te(){}let ie,ae,re=(e,t,i,a,r)=>(te[c]=t[c],r=new te,A(r,i),A(e,a),r.constructor=e,e[c]=r,e),de={fire(e,t){let i,a,r=this,d=r["\x1e"+e],l=0;if(t||(t={}),t.type=e,d)for(i=d.length;l<i;l++)(a=d[l]).a?(a.b=1,T(a.a,t,r),a.b=""):a.b||(d.splice(l--,1),i--);(d=r[`on${e}`])&&T(d,t,r)},on(e,t){let i="\x1e"+e;(this[i]||(this[i]=[])).push({a:t})},off(e,t){let i,a="\x1e"+e,r=this,d=r[a];if(t){if(d)for(i of d)if(i.a==t){i.a="";break}}else r[a]=null,r[`on${e}`]=null}},le={},se=(e,t,i,a)=>{t.includes("\x1e")&&(a=le[e])&&P(a.a,i)},oe=(e,t)=>{Q(le,e)||(le[e]=t,ue.fire("add",{vframe:t}))},ne=(e,t,i,a,r,d,l)=>{for(t=e.c,r=e.d;t.length;)[i,l,a]=t.shift(),q(a,(d=r[i])&&T(d,l,r))},pe=e=>e.b||(e.b=_(ae));function ue(e,t){let i=this,a=pe(e);i.id=a,i.root=e,i.e=1,i.b={},i.pId=t,i.c=[],i.a={},oe(a,i)}A(ue,{root:()=>ie,all:()=>le,byId:e=>le[e],byNode:e=>le[e.b]},de),A(ue[c],{mountView(e,t){let i,a,r,d,l,s=this,{id:o,root:n,pId:p}=s;!s.f&&n&&(s.f=1,s.g=n.innerHTML),s.unmountView(),n&&e&&(i=D(e),r=i.path,s.path=e,d=i.params,se(p,e,d),s.h=r,(p=d["\x1e"])&&g(p)?d=p:A(d,t),a=s.e,ee(r,e=>{if(a==s.e){if(!e)return;l=tt(e),r=new e(o,n,s,d,l),s.d=r,qe(r),T(r.init,d,r),q(r.f,d,r),q(()=>{r.g(),r.tmpl||r.h||Ge(r)})}}))},unmountView(){let e=this,{d:t,root:i}=e;e.c=[],t&&(e.d=0,t.c&&(t.c=0,k(t),e.unmountZone(),t.fire("destroy"),qe(t,1),i&&e.f&&m(i,e.g))),e.e++},mountVframe(e,t,i){let a,r=this,d=r.id,l=r.b,s=pe(e);return(a=le[s])||(Q(l,s)||(r.i=0),l[s]=s,a=new ue(e,d)),a.mountView(t,i),a},mountZone(e){let t,i=this,a=(e=e||i.root).querySelectorAll("[mx5-view]");for(t of a)t.a||(t.a=1,i.mountVframe(t,j(t,"mx5-view")))},unmountVframe(e,t){let i,a;var r,d,l;e=e?this.b[t?e:e.b]:this.id,(i=le[e])&&(i.unmountView(),a=i.pId,(d=le[r=e])&&(delete le[r],(l=d.root).a=0,l.b=0,ue.fire("remove",{vframe:d}),d.id=d.root=d.pId=d.b=null),(i=le[a])&&Q(i.b,e)&&(delete i.b[e],i.i=0))},unmountZone(e){let t,i,a,r=this;for(t in r.b)(a=e?(i=le[t])&&v(i.root,e):1)&&r.unmountVframe(t,1)},children(e){return(e=this).i||(e.i=S(e.b))},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=le[t.pId];return t},invoke(e,t){let i,a,r=this,d=r.c;return new Promise(l=>{(i=r.d)&&i.h?l((a=i[e])&&T(a,t,i)):d.push([e,t,l])})}});let ce=new R(30,10),he=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,fe={},ge={},xe={},_e=(e,i)=>{let a,r,d,l,o,n,p,u,c=[],h=e,f=j(e,"mx5-"+i),g=0;if(f&&((o=ce.get(f))||(o={v:(o=f.match(he)||t)[1],n:o[2],i:o[3]},ce.set(f,o)),o=A({},o,{r:f})),o&&!o.v||ge[i]){if(!(u=h.c)){for(p=[h];h!=s&&(h=h.parentNode);){if(le[r=h.b]||(r=h.c)){u=r;break}p.push(h)}if(u)for(f of p)f.c=u}if(u){h=e.b,le[h]&&(g=u=h);do{if((a=le[u])&&(n=a.d)){if(l=(d=n.i)[i])for(h=l.length;h--;)d={r:r=l[h],v:u,n:r},r?!g&&e.matches(r)&&c.push(d):g&&c.unshift(d);if(n.tmpl&&!g)break;g=0}}while(a&&(u=a.pId))}}return o&&c.push(o),c},be=e=>{let t,i,a,r,d,l,s,o,{target:n,type:p}=e,u=[];for(;n&&1==n.nodeType&&!(e.cancelBubble||(i=n.d)&&i[p]);){if(u.push(n),(t=_e(n,p)).length){u=[];for(let{v:i,r:u,n:c,i:h}of t){if(s!=i){if(s&&e.cancelBubble)break;s=i}if(!(r=(a=le[i])&&a.d))break;r.h&&(l=r[d=c+"\x1e"+p])&&(e.eventTarget=n,o=h?W(h,a.a):xe,e.params=o,T(l,e,r))}}n=n.parentNode}for(s of u)(i=s.d||(s.d={}))[p]=1},me=(e,t,i)=>{let a=0|fe[e],r=i?-1:1;a&&i!==a||(i?L:C)(s,e,be),fe[e]=a+r,t&&(ge[e]=(0|ge[e])+r)},ye={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},we=/[&<>"'\`]/g,ve=e=>null==e?"":""+e,ke=e=>ye[e],Ae=e=>ve(e).replace(we,ke),Se={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Me=e=>Se[e],ze=/[!')(*]/g,je=e=>d(ve(e)).replace(ze,Me),Ye=/[\\'"]/g,Te=e=>ve(e).replace(Ye,"\\$&"),Qe=(e,t,i)=>(e[i]=t,i),Pe=(e,i,a)=>{if(e.c&&(a=e.tmpl)){let r,d=e.j,l=e.id,s=le[l],o={a:[],b:0},n=e.d,p=s.a;e.k=0,e.j={},i&&e.fire("dompatch"),r=a(n,Re,l,ve,je,p,Qe,Te,x);let u=()=>{if(e.l=r,e.m>1)e.m=1,Pe(e);else{for(r of(e.m=0,a=o.c||!e.h,o.a))q(r.g,t,r,"\x1e"+r.id);for(r of(a&&Ge(e),e.fire("domready"),e.n))r()}};q(Fe,[e.root,e.l,r,o,s,d,e,u])}},Ie={},Re=(e,t,i,a,r)=>{let d;if(e){t=t||Ie;let l,s,o,n,p,u,c="",h={},f=0,g="<"+e,x="",_=[];if(i)for(n of i){if(o=n.a,n.b==Xe){if(!o)continue;o=Ae(o)}x+=o,u&&n.b==Xe&&u.b==Xe?u.a+=n.a:(n.d&&(h[n.d]=(h[n.d]||0)+1,f++),l=l||n.e,u=n,_.push(n))}for(s in a=a||Ie,t)!1!==(o=t[s])&&null!=o?(!0===o&&(t[s]=o=a[s]?o:""),"id"==s?c=o:"_"!=s||c?"mx5-view"==s&&o&&!c&&(c=e+"\x1e"+D(o).path):c=o,"value"==s&&"textarea"==e?x=o:Q(Oe,s)||(g+=` ${s}="${o&&Ae(o)}"`)):a[s]||delete t[s];p=g,d={a:g+=r?"/>":`>${x}</${e}>`,c:x,d:c,b:e,e:l||t.$,f:a,g:p,h:t,i:_,j:h,k:f,l:r}}else d={b:t?"\x1e":Xe,a:i+""};return d},Oe={_:1,$:1},Xe=e,Ee="http://www.w3.org/",Ce={svg:`${Ee}2000/svg`,math:`${Ee}1998/Math/MathML`},Le=(e,t,i)=>{let a,r,d,l=0,s=i.f,o=t.f,n=i.h,p=t.h;if(t)for(a in p)Q(n,a)||(l=1,(d=o[a])?e[d]="":e.removeAttribute(a));for(a in n)Q(Oe,a)||(r=n[a],(d=s[a])?t&&e[d]==r||(l=1,e[d]=r):t&&p[a]==r||(l=1,e.setAttribute(a,r)));return l&&delete e.d,l},Ne=(e,t)=>{let i,r=e.b;return r==Xe?i=a.createTextNode(e.a):(i=a.createElementNS(Ce[r]||t.namespaceURI,r),Le(i,0,e),m(i,e.c)),i},Ve=(e,t,i,a,r)=>{let d,l,s,o,n={};for(d=a;d>=i;d--,r--)(s=(l=e[d]).d)&&(n[o="\x1e"+s]=(n[o]||0)+1,(l=n[s]||(n[s]=[])).push(t[r]));return n},Be=(e,t)=>!e.d&&!t.d&&e.b==t.b||e.b==Xe&&t.b==Xe||"\x1e"==e.b||"\x1e"==t.b||e.d&&t.d==e.d,Fe=(e,t,i,a,r,d,l,s)=>{if(l.c){if(t){if(t.e||t.c!=i.c){let o,n,p,u,c,h=t.i,f=i.i,g=i.j,x=i.k,_=t.k,b=e.childNodes,y=0,w=h.length-1,v=0,k=f.length-1,A=h[y],S=h[w],M=f[v],z=f[k],j=y,Y=w;for(;y<=w&&v<=k;)if(A)if(S)if(Be(A,M))a.b++,q(De,[b[j],e,A,M,a,r,d,l,s]),g[A.d]&&(g[A.d]--,x--,(u=c&&c[A.d])&&--c["\x1e"+A.d]),j++,A=h[++y],M=f[++v];else if(Be(S,z))a.b++,q(De,[b[Y],e,S,z,a,r,d,l,s]),g[S.d]&&(g[S.d]--,x--),Y--,S=h[--w],z=f[--k];else if(Be(A,z))e.insertBefore(b[j],b[Y+1]),a.b++,q(De,[b[Y],e,A,z,a,r,d,l,s]),g[A.d]&&(g[A.d]--,x--),Y--,A=h[++y],z=f[--k];else if(Be(M,S))e.insertBefore(b[Y],b[j++]),a.b++,q(De,[b[Y],e,S,M,a,r,d,l,s]),g[S.d]&&(g[S.d]--,x--),S=h[--w],M=f[++v];else{if(!c&&x>0&&_>0&&(c=Ve(h,b,y,w,Y)),(u=c&&c[M.d])&&(u=u[--c["\x1e"+M.d]])){if(p=A,u!=b[j]){for(n=y+1,o=j+1;n<=w;n++)if((p=h[n])&&b[o++]==u){h[n]=null;break}y--,e.insertBefore(u,b[j])}g[p.d]&&g[p.d]--,a.b++,q(De,[u,e,p,M,a,r,d,l,s])}else c&&c[A.d]&&g[A.d]?(a.c=1,e.insertBefore(Ne(M,e),b[j]),y--,Y++):(a.b++,q(De,[b[j],e,A,M,a,r,d,l,s]));++j,A=h[++y],M=f[++v]}else S=h[--w];else A=h[++y];for(o=v,n=1;o<=k;o++,n++)"\x1e"==(p=f[o]).b?m(e,p.a):e.insertBefore(Ne(p,e),b[Y+n]),a.c=1;for(o=j;o<=Y;o++)1==(p=b[j]).nodeType&&r.unmountZone(p),e.removeChild(p),a.c=1}}else a.c=1,m(e,i.c);a.b||s()}},De=(e,t,i,a,r,d,l,s,o)=>{if(s.c){let n=i.h,p=a.h;if(i.e||i.a!=a.a)if("\x1e"==i.b||"\x1e"==a.b)r.c=1,m(t,a.a);else if(i.b==a.b){if(i.b==Xe)r.c=1,e.nodeValue=a.a;else if(!n._||n._!=p._){let t,u,c,h,f,g,x,_=p["mx5-view"],b=a.c,m=i.g!=a.g,y=i.f||m,w=le[e.b],v=_&&D(_);if(y&&(y=Le(e,i,a))&&(r.c=1),_&&w&&w.h==v.path&&(h=w.d)){if(g=b!=i.c,x=_!=w.path,c=n.$,!g&&!x&&c)for(c of f=c.split(","))if("#"==c||Q(l,c)){x=1;break}(x||g)&&(c=h.f,f=v.params,se(w.pId,_,f),w.path=_,w.g=b,!1!==T(c,f,h)&&r.a.push(h),t=!h.tmpl)}else t=1,u=w;u&&(r.c=1,w.unmountVframe()),t&&!a.l&&Fe(e,i,a,r,d,l,s,o)}}else r.c=1,d.unmountZone(e),t.replaceChild(Ne(a,t),e);--r.b||o()}},He={},We=A({get:e=>e?He[e]:He,set(e){A(He,e)}},de),Ue=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,Ke=(e,t,i)=>(e.a?i=e:((i=function(e,t){for(t of i.a)T(t,e,this)}).a=[e],i.b=1),i.a=i.a.concat(t.a||t),i),Ge=e=>{let t,i;e.c&&(i=e.h,e.h=1,(t=e.owner).mountZone(),i||q(ne,t))},qe=(e,t)=>{let i,{o:a,i:r,p:d,id:l}=e;for(i in a)me(i,r[i],t);for(i of(a=t?L:C,d))a(i.a,i.b,i.c,l,i.d,e)},Je={win:i,doc:a},Ze=(e,t,i)=>{let a,r,d,l,s={};for(r of e)for(a in r)d=r[a],l=s[a],"ctor"!=a?(Ue.test(a)&&(l?d=Ke(l,d):d.b=1),s[a]=d):i.push(d);for(a in s)Q(t,a)||(t[a]=s[a])};function $e(...e){let t=this.a||(this.a=[]);return Ze(e,this[c],t),this}let et=e=>(function(...t){return T(e,t,this)}),tt=e=>{if(!e["\x1e"]){e["\x1e"]=[];let t,i,a,r,d,l,s,o,n,p,u,h=e[c],f={},g=[],x={};for(s in(i=h.mixins)&&Ze(i,h,e["\x1e"]),h)if(t=h[s],i=s.match(Ue))for(o of([,l,a,r,u]=i,p=u?V(u):{},r=r.split(","))){if(d=Je[a],n=1,l){if(d){g.push({c:t,a:d,b:o,d:p});continue}n=2,(d=x[o])||(d=x[o]=[]),d[a]||(d[a]=1,d.push(a))}f[o]=f[o]|n,(d=h[o=a+"\x1e"+o])?d.b&&(t.b?h[o]=Ke(t,d):Q(h,s)&&(h[o]=t)):h[o]=t}h.g=h.render=et(h.render),h.o=f,h.p=g,h.i=x,h.f=h.assign}return e["\x1e"]};function it(e,t,i,a){(a=this).root=t,a.owner=i,a.id=e,a.c=1,a.k=1,a.d={},a.j={},a.m=0,a.n=[]}function at(){this.id=_("b"),this.a={}}A(it,{merge:$e,extend:function e(t,i){let a=this,r=(t=t||{}).ctor;function d(e,t,i,d,l,s,o,n){if(a.call(n=this,e,t,i,d),s=a.a)for(o of s)T(o,d,n);if(l)for(o of l)T(o,d,n);r&&T(r,d,n)}return d.merge=$e,d.extend=e,re(d,a,t,i)}}),A(it[c],de,{init:l,render:l,assign:l,observeLocation(e,t){let i;(i=this.a).a=1,g(e)&&(t=e.path,e=e.params),i.b=t,e&&(i.c=(e+"").split(","))},get(e,t){return t=this.d,e&&(t=t[e]),t},set(e,t){let i,a,r,d=this,l=d.d,s=d.j,o=d.k;for(r in e)i=e[r],a=l[r],w(i)&&a==i||Q(t,r)||(s[r]=1,o=1),l[r]=i;return d.k=o,d},digest(e,t){let i=this.set(e,t);return new Promise(e=>{i.k?(i.m++,i.n.push(e),1==i.m&&Pe(i,1)):e()})}}),A(at[c],{get(e,t){let i,a=this.a;if(e){let t,i=x(e)?e.slice():(e+"").split(".");for(;(t=i.shift())&&a;)a=a[t];t&&(a=void 0)}return void 0!==t&&(i=f(t))!=f(a)&&(a=t),a},set(e,t){g(e)||(e={[e]:t}),A(this.a,e)}});let rt=(e,t,i)=>a=>{if(i=e[t]){delete e[t];for(let e of i)T(e,a,i.a)}},dt=(e,t,i,a,r)=>{if(e.a)return e;if(e.b)return e.enqueue(dt.bind(e,e,t,i,a,r));e.b=1,x(t)||(t=[t]);let d=e.constructor,l=0,s=d.d,o=((e,t,i,a,r,d)=>{let l=[],s=null,o=0;return(n,p,c)=>{let h;o++;let f,g=n.b,x=g.a;if(l[p+1]=n,c?(s=c,h=1):d.has(x)||(x&&d.set(x,n),g.b=u(),(f=g.c)&&T(f,n,n),h=1),!i.a){let t=o==a;t&&(i.b=0,2==r&&(l[0]=s,T(e,l,i))),1==r&&T(e,[c||null,n,t,p],i)}h&&t.fire("end",{bag:n,error:c})}})(i,d,e,t.length,a,d.c);for(let e of t)if(e){let t,[i,a]=d.get(e,r),n=i.b.a,p=o.bind(i,i,l++);n&&s[n]?s[n].push(p):a?(n&&((t=[p]).a=i,s[n]=t,p=rt(s,n)),d.e(i,p)):p()}return e};function lt(){this.id=_("s"),this.f=[]}A(lt[c],{all(e,t){return dt(this,e,t,2)},save(e,t){return dt(this,e,t,2,1)},one(e,t){return dt(this,e,t,1)},enqueue(e){let t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue(...e){let t,i=this;i.b||i.a||(i.b=1,r(()=>{i.b=0,i.a||(t=i.f.shift())&&T(t,i.g=e)}))},destroy(e){(e=this).a=1,e.f=0}});let st=(e,t,i)=>[o(t),o(e)].join("\x1e"),ot=A({add(e){let t,i=this.h;for(t of(x(e)||(e=[e]),e))if(t){let{name:e,cache:a}=t;t.cache=0|a,i[e]=t}},create(e){let t=this.meta(e),i=0|e.cache||t.cache,a=new at;a.set(t),a.b={c:t.after,a:i&&st(t,e)},g(e)&&a.set(e);let r=t.before;return r&&T(r,a,a),this.fire("begin",{bag:a}),a},meta(e){return this.h[e.name||e]||e},get(e,t){let i,a;return t||(i=this.cached(e)),i||(i=this.create(e),a=1),[i,a]},cached(e){let t,i,a=this,r=a.c,d=a.meta(e),l=0|e.cache||d.cache;if(l&&(i=st(d,e)),i){let e=a.d[i];e?t=e.a:(t=r.get(i))&&u()-t.b.b>l&&(r.del(i),t=0)}return t}},de);lt.extend=((e,t,i)=>{function a(){lt.call(this)}return a.e=e,a.c=new R(t,i),a.d={},a.h={},re(a,lt,null,ot)});let nt=0,pt={config:(e,t)=>(t=y,e&&(t=g(e)?A(t,e):t[e]),t),boot(e){nt||(nt=1,A(y,e),((e,t)=>(ie||(s=a.body,e=ae=y.rootId,(t=b(e))||(t=s),ie=new ue(t)),ie))().mountView(y.defaultView))},unboot(){nt&&ie&&(ie.unmountVframe(),ie=null)},toMap:(e,t)=>{let i,a={};if(e)for(i of e)a[t&&i?i[t]:i]=t?i:1+(0|a[i]);return a},toTry:T,toUrl:(e,t,i)=>{let a,r,l,s=[];for(r in t)((a=t[r]+"")||Q(i,r))&&(a=d(a),s.push(l=r+"="+a));return l&&(e+=(e&&(e.includes("?")?"&":"?"))+s.join("&")),e},parseUrl:D,guid:_,use:ee,dispatch:(e,t,i)=>{let a=new Event(t,X);A(a,i),e.dispatchEvent(a)},guard:e=>e,type:f,has:Q,inside:v,applyStyle:Y,Cache:R,View:it,Vframe:ue,State:We,Service:lt,Event:de,mark:(e,t,i,a,r)=>(null!==e[r="\x1ea"]&&(i=e[r]||(e[r]={}),Q(i,t)||(i[t]=0),a=++i[t]),i=>(i=e[r],i&&a===i[t])),unmark:k,node:b,task:q};return pt.default=pt,pt});let Designer={init(e){let t=document.getElementById("boot").src.replace(/\/[^\/]+$/,"/");seajs.config({paths:{designer:t+"designer",i18n:t+"i18n",gallery:t+"gallery",util:t+"util",panels:t+"panels",elements:t+"elements"},alias:{magix:"magix5"}}),seajs.use(["magix","i18n/index"],(t,i)=>{t.applyStyle("rd-_",'body,h5,input,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto;resize:vertical}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}button:focus,input:focus,textarea:focus{outline:none;resize:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}@font-face{font-family:rd-_;src:url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAcsAAsAAAAACqQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZXOEjOY21hcAAAAYAAAACWAAACCs4hbhBnbHlmAAACGAAAAugAAAO0BG1azWhlYWQAAAUAAAAALwAAADYPpP4TaGhlYQAABTAAAAAcAAAAJAfeA4pobXR4AAAFTAAAABQAAAAkI+kAAGxvY2EAAAVgAAAAFAAAABQEcAVsbWF4cAAABXQAAAAfAAAAIAEYAF1uYW1lAAAFlAAAAUUAAAJtPlT+fXBvc3QAAAbcAAAATwAAAGizaRo4eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2Bk/ss4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVDy7z9zwv4EhhrmB4RRQmBEkBwA4Ig2aeJzFkbsNwzAMRE+RP0IQwEEG8AReyl1Kl+68g5Eqy7m7NZyj6EZI6viEJ4AnkRJIADWAKAZRAeGNANNLbsh+xDX7FZ6KH7jLuWBmYseeIxeu3PZdZ7+8UkH55TIvIql6raoNWhnNV97fFM57utQt79MRJTEf6ItMjk2OnWN32Ds2SY6OTZiLow6Dq6Neg5uD9gPbdC1VAAB4nH1SO2sUURi9370zd3Zmd+48dh77yr4mO7MmutlsxkkR3DQ2GgtBCAhaCBY2SrAwjUUw5CEo+A/EoAgR1LBpArEUQVBs3MrCYEAbY+xsMnpHV0ghDsM9936cj+9xDhIR+rlDtkkOZVETjaOT6CxCQEehzvAQ1IKwhUfBrom2azESeEFN8uotcgLcOrWcThT6LpWoBgzKMFHrREELB3A87OIp6DhDAPli4ZzZKJnkHii5oLwUn8ZrYFe8ktY9Fp86Om11qtnUfMY086Z5J0VFMYWxoDG46jqyKCs0fihqBXu7cgRXIJMPCmfOq9WieWk1vDbUcGWAhQXIFqvs8bRRMPh/s+Bkzbykq6lcQfWGLZjfTeeymSH/E+If5rNG5AfxURpNJVMiyUFuhCZ9RFzH0oDWx8CvDzCchigcYKcCTmeACc/CqB/vUgqlfh9KlMa7ZxYZa2gNbZH5bJFjg7FFVf1XkPic3j+UfrD3/4RDwT8z3CIH5AbKowZCYuAHXTjegoCBVAa3E006Sa9R2OCxLkzyGAPy9aMkj7bFvc3NPZGfM0uRIH00RqoHmys9Qnorv09vRxKipZneN0H41uPE9qgs7WjVkZecsNwThN7ySg8Br79AhskC9wuSsWPRegCuH062x/l6HIvY8Syss3JTizWPMXirNctkJJ6NZ/mFwXdPa+rwRis3uR6QiEIu4s9cDwQ1wzNqds2YMGrkQry/Gu+Dvgo69EEfvNDfHPwS9pL6v8UKfG7FSuK/KFEMvxBNae0+NTPicyKTtLghwhdRXFsTlaz0jAhAN4j5t/YsbCGCUJbXfYLXD/jz+sAn78lrMoJaaIxTJcpXym3uJbbg6rcwLzQGLegCv0xz6CRL5z1gKpGtR7oQYJpWtUz6nW2/UosOg7agP1Uk2WKfnPQV6pZcejntfGaWLCnw4K7h7Kp2SqZzijInYd1Wv7j6baVQNHBTsD5kNC3zwRKa2CgWFN7eL0lutBh4nGNgZGBgAGLnEJdv8fw2Xxm4WRhA4JrTXQME/d+MhYG5AcjlYGACiQIAFvYJkgB4nGNgZGBgbvjfwBDDwgACQJKRARVwAgBHDwJyeJxjYWBgYH7JwMDCgBsDAB8LAQ0AAAAAAHYA2AEYAT4BWAF8AYoB2nicY2BkYGDgZAhkYGUAASYg5gJCBob/YD4DABGZAXYAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbccxDoAgDAXQfkQEbsOR6gLVpAykCeH0xrj6tkeOPpn+JThs8NgRcCAiIRNmqMZ6ShjdhvU4hbUu6/4SLnE11pulvFM/RSvRA98yEWMA") format("woff")}.rd-_{font-family:rd-_;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rd-a{margin-right:10px}.rd-b{height:100%}.rd-c{text-align:center}.rd-d{float:left}.rd-e{float:right}.rd-f{position:absolute}.rd-g{position:relative}html .rd-h{display:none}.rd-i:after,.rd-i:before{content:" ";display:table}.rd-i:after{clear:both}.rd-j{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-k::-webkit-scrollbar,.rd-k::-webkit-scrollbar-corner{height:6px;width:6px;background:#fafafa}.rd-k::-webkit-scrollbar-thumb{background:silver}.rd-k::-webkit-scrollbar-thumb:hover{background:#949494}.rd-l{word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.rd-l,.rd-m{white-space:nowrap}.rd-m{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-m:focus,.rd-m:hover{background-color:#a0a0a0;color:#333}.rd-n{background-color:#fa742b;color:#fff}.rd-n:focus,.rd-n:hover{background-color:#bd361b;color:#fff}.rd-m[disabled]{background-color:#fbfbfb;color:#333}.rd-m[disabled]:hover{border-color:#e6e6e6;color:#333}.rd-o{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143;background:#fff}.rd-p{padding:18px 25px}.rd-q{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6;background:#fff}.rd-r{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.rd-r:after,.rd-r:before{content:""}.rd-r:after,.rd-r:before,.rd-s{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:rd-_ 1s ease-in-out infinite both;animation:rd-_ 1s ease-in-out infinite both}.rd-r:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.rd-s{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.rd-t,.rd-u{caret-color:#fa742b;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.rd-t:hover,.rd-u:hover{border-color:#ccc}.rd-t:focus,.rd-u:focus,.rd-v,.rd-v:hover{border-color:#fa742b!important}.rd-u{height:auto}.rd-t[disabled],.rd-u[disabled]{background-color:#fbfbfb}.rd-t[disabled]:hover,.rd-u[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}@font-face{font-family:rd-a;src:url(//at.alicdn.com/t/font_890516_eswgcdxwbm7.eot);src:url(//at.alicdn.com/t/font_890516_eswgcdxwbm7.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_eswgcdxwbm7.woff2) format("woff2"),url(//at.alicdn.com/t/font_890516_eswgcdxwbm7.woff) format("woff"),url(//at.alicdn.com/t/font_890516_eswgcdxwbm7.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_eswgcdxwbm7.svg#iconfont) format("svg")}.rd-w{font-family:rd-a;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{min-width:1100px}.rd-x{font-size:12px}.rd-y{margin-right:2px}.rd-z{transform:rotate(180deg)}.rd-A{transform:rotate(90deg)}.rd-B{transform:scaleX(-1)}.rd-C{margin-left:100px}.rd-D{margin-right:50px}.rd-E{display:flex;align-items:center}.rd-F{position:-webkit-sticky;position:sticky;top:0}');let a=navigator.language.toLowerCase();try{let e=window.localStorage;e&&(a=e.getItem("l.lang")||a)}catch(e){}t.config(e),t.config({lang:a});let r=i.default;t.View.merge({ctor(){this.set({i18n:r})},_b(e,t){t=t||150;let i,a=Date.now();return(...r)=>{let d=Date.now();clearTimeout(i),d-a>t?(a=d,e.apply(this,r)):i=setTimeout(()=>{e.apply(this,r)},t-(d-a))}}}),document.title=r("l"),t.boot({defaultPath:"/index",defaultView:"designer/index",rootId:"app",error(e){setTimeout(()=>{throw e},0)}})})}};define("gallery/mx-color/index",["magix","../mx-dragdrop/index","../mx-monitor/index"],(e,t,i)=>{let a,r,d={xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},l={offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"},s={class:"rd-aH"},o={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});const n=e("magix"),p=e("../mx-dragdrop/index"),u=e("../mx-monitor/index");n.default.applyStyle("rd-h",'.rd-at{position:relative;height:22px;border:1px solid #e6e6e6;border-radius:2px;display:flex;align-items:center;cursor:pointer;padding:1px;transition:border-color .25s}.rd-at:hover{border-color:#ccc}.rd-au,.rd-av{background:#fff;background-image:linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0),linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0);background-position:0 0,6px 6px;background-size:12px 12px}.rd-av{min-width:18px;height:18px;text-indent:-100000em;border:1px solid #ccc;position:relative}.rd-aw{padding:3px 4px}.rd-av:after{content:" ";display:block;right:0;bottom:0;position:absolute;border-color:transparent #ccc;border-style:solid;border-width:6px 6px 0 0}.rd-ax{position:absolute;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:2px}.rd-ay-bottom{top:100%;margin-top:4px}.rd-ay-top{bottom:100%;margin-bottom:4px}.rd-az{width:176px}.rd-aA{border:1px solid #000;float:left;width:12px;height:12px;margin:-1px 0 0 -1px;position:relative}.rd-aB:before{content:" ";position:absolute;left:2px;top:2px;border:1px inset #e8e8e8;width:6px;height:6px}.rd-aC{margin:5px 0;height:150px}.rd-aD{position:relative;float:left;width:148px;height:148px}.rd-aE{position:absolute;width:8px;height:8px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;left:-4px;top:-4px}.rd-aF{width:18px;height:148px;position:relative;float:left;margin-left:10px}.rd-aG{position:absolute;left:2px;top:-2px;height:4px;width:14px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.rd-aH{height:25px}.rd-aI{width:80px}.rd-aJ,.rd-aI{margin-right:5px;vertical-align:middle}.rd-aJ{width:30px;border-radius:2px;height:22px;display:inline-block;border:1px solid #ddd}.rd-aK{position:absolute;right:5px;top:4px;font-size:12px;opacity:.2}.rd-aK:hover{opacity:.5}.rd-au{width:174px;height:12px;margin-bottom:5px}.rd-aL{height:100%}.rd-aM{position:absolute;left:-2px;top:2px;height:8px;width:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.rd-aN{cursor:not-allowed;background-color:#fbfbfb}.rd-aN:hover{border-color:#e6e6e6}.rd-aN:hover .rd-aK{opacity:.1}.rd-aN .rd-av{opacity:.4}.rd-aN .rd-aK{opacity:.1}');let c=["d81e06","f4ea2a","1afa29","1296db","13227a","d4237a","ffffff","e6e6e6","dbdbdb","cdcdcd","bfbfbf","8a8a8a","707070","515151","2c2c2c","000000","ea986c","eeb174","f3ca7e","f9f28b","c8db8c","aad08f","87c38f","83c6c2","7dc5eb","87a7d6","8992c8","a686ba","bd8cbb","be8dbd","e89abe","e8989a","e16632","e98f36","efb336","f6ef37","afcd51","7cba59","36ab60","1baba8","17ace3","3f81c1","4f68b0","594d9c","82529d","a4579d","db649b","dd6572","d84e06","e0620d","ea9518","f4ea2a","8cbb1a","2ba515","0e932e","0c9890","1295db","0061b2","0061b0","004198","122179","88147f","d3227b","d6204b"],h=(e,t,i)=>{let a,r,d,l,s;e=e%360/60,a=r=d=i-(s=i*t);let o=255*(a+=[s,l=s*(1-Math.abs(e%2-1)),0,0,l,s][e=~~e]),n=255*(r+=[l,s,s,l,0,0][e]),p=255*(d+=[0,0,l,s,s,l][e]);return{r:o,g:n,b:p,hex:"#"+(16777216|p|n<<8|o<<16).toString(16).slice(1)}};t.default=n.default.View.extend({tmpl:(e,t,i,n,p,u,c,h)=>{let f,g,x,_,b,m,y,w,v,k,A,S=[],{disabled:M,text:z,textWidth:j,color:Y,clear:T,i18n:Q,placement:P,align:I,renderUI:R,shortcuts:O,alpha:X,current:E}=e;if(g=[],z&&(b=[t(0,0,n(z))],_="",j&&(_+="width:"+n(j)+"px"),x=[t("div",{class:"rd-aw rd-j","mx5-click":i+"\x1e_bg()",style:_},b)],g.push(...x)),x=[t(0,0,"picker")],_="",Y&&(_+="background:"+n(Y)+";"),z||(_+="width:100%"),g.push(t("div",{class:"rd-av rd-j","mx5-click":i+"\x1e_bg()",style:_},x)),T&&Y&&(b=[t(0,0,"\ue67f")],x=[t("i",{class:"rd-_ rd-aK","mx5-click":i+"\x1e_bh()",title:n(Q("aS"))},b)],g.push(...x)),x=[],R){b=[],m=[];for(let e=O.length,a=0;a<e;a+=1){let e=O[a];y=[t("li",{class:"rd-aA",id:"sc_"+n(e)+"_"+i,style:"background:#"+n(e),"mx5-click":i+"\x1e_bd({color:'#"+h(e)+"'})"})],m.push(...y)}b.push(t("ul",{class:"rd-az rd-i",id:"scs_"+i},m)),a?b.push(a):(k=[t("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"})],A?k.push(A):k.push(A=t("stop",l)),v=[t("lineargradient",{id:"gb_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},k)],k=[t("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"})],A?k.push(A):k.push(A=t("stop",l)),v.push(t("lineargradient",{id:"gw_"+i,x1:"0%",y1:"100%",x2:"100%",y2:"100%"},k)),w=[t("defs",0,v),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gw_"+i+")"}),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gb_"+i+")"})],y=[t("svg",d,w),t("div",{class:"rd-aE",id:"ci_"+i})],m=[t("div",{class:"rd-aD",id:"cz_"+i,"mx5-mousedown":i+"\x1e_b_()"},y)],k=[t("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),t("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),t("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),t("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),t("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),t("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),t("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),t("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),t("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})],v=[t("lineargradient",{id:"ghsv_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},k)],w=[t("defs",0,v),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#ghsv_"+i+")"})],y=[t("svg",d,w),t("div",{class:"rd-aG",id:"si_"+i})],m.push(t("div",{class:"rd-aF","mx5-mousedown":i+"\x1e_ba()"},y)),b.push(a=t("div",{_:"_",class:"rd-aC"},m))),X&&(r?m=[r]:(w=[t("div",{class:"rd-aM",id:"ai_"+i})],y=[t("div",{class:"rd-aL rd-g",id:"at_"+i,"mx5-mousedown":i+"\x1e_bb()"},w)],m=[r=t("div",{_:"a",class:"rd-au rd-g"},y)]),b.push(...m)),m=[t("span",{_:"b",class:"rd-aJ",id:"bc_"+i}),t("input",{class:"rd-aI rd-t",readonly:!0,id:"v_"+i,value:n(E)},0,o,1)],y=[t(0,0,"\u786e\u5b9a")],m.push(t("button",{_:"c",class:"rd-m rd-n",type:"button","mx5-click":i+"\x1e_bc();"},y)),b.push(t("div",s,m)),x.push(...b)}return g.push(t("div",{id:"bd_"+i,class:"rd-ax rd-ay-"+n(P),style:n(I)+":-1px"},x)),f="rd-at",M&&(f+=" rd-aN"),S.push(t("div",{"mx5-contextmenu":i+"\x1e_B()",id:"root_"+i,class:f},g)),t(i,0,S)},mixins:[p.default],init(e){this.set({shortcuts:c}),u.default._a0(),this.on("destroy",()=>{u.default._an(this),u.default._a1()})},assign(e){return this._2=e.color,this._a2=e.alpha+""=="true",this._a3={h:0,s:1,v:1},this.set({clear:e.clear+""=="true",text:e.text||"",disabled:e.disabled+""=="true",align:e.align||"left",textWidth:e.textWidth||0,placement:e.placement||"bottom"}),!0},render(){this.digest({alpha:this._a2,color:this._2,current:this._2})},_a6(e,t){let i=this,a=i._a3;a.h=e.h,a.s=e.s,a.v=e.v;let r=h(e.h,e.s,e.v).hex,d=n.default.node("cz_"+i.id),l=d.clientWidth,s=h(e.h,1,1);if(d.style.background=s.hex,i._a4=r,i._a5(),!t){let e=n.node("scs_"+i.id).querySelector('li[class$="@index.less:selected"]');e&&e.classList.remove("rd-aB");let t=n.node("si_"+i.id),r=t.clientHeight/2,d=Math.round(a.h*l/360-r),s=n.node("ci_"+i.id),o=s.clientWidth/2;t.style.top=d+"px",d=Math.round((1-a.v)*l-o);let p=Math.round(a.s*l-o);s.style.left=p+"px",s.style.top=d+"px"}let o=n.node("sc_"+r.substr(1,6)+"_"+i.id);o&&o.classList.add("rd-aB")},_a9(e){let t=this,i=parseInt(e.substr(1,2),16);isNaN(i)&&(i=255);let a=parseInt(e.substr(3,2),16);isNaN(a)&&(a=255);let r=parseInt(e.substr(5,2),16);isNaN(r)&&(r=255);let d=((e,t,i)=>{let a,r,d,l;return e/=255,t/=255,i/=255,{h:a=(a=0==(l=(d=Math.max(e,t,i))-Math.min(e,t,i))?null:d==e?(t-i)/l+(t<i?6:0):d==t?(i-e)/l+2:(e-t)/l+4)%6*60,s:r=0===l?0:l/d,v:d}})(i,a,r),l=parseInt(e.substr(7,2),16);isNaN(l)&&(l=255),t._a7=("0"+l.toString(16)).slice(-2),t._a6(d),t._a2&&t._a8(l)},_a8(e){let t=n.node("ai_"+this.id);e/=255,e*=n.node("at_"+this.id).clientWidth,e-=t.clientWidth/2,t.style.left=e+"px"},_a5(){let e=this,t=n.node("bc_"+e.id),i=e._a4;e._a2&&(n.node("at_"+e.id).style.background="linear-gradient(to right, "+i+"00 0%,"+i+" 100%)",i+=e._a7),t.style.background=i,n.node("v_"+e.id).value=i},"_B<contextmenu>"(e){e.preventDefault()},"_b_<mousedown>"(e){let t=this,i=n.node("cz_"+t.id).clientWidth,a=n.node("ci_"+t.id).clientWidth/2,r=e.eventTarget.getBoundingClientRect(),d=e.pageX-r.left-window.pageXOffset,l=e.pageY-r.top-window.pageYOffset,s=d/i,o=(i-l)/i;t._a6({h:t._a3.h,s:s,v:o});let p=n.node("ci_"+t.id),u=getComputedStyle(p),c=u.left,h=u.top,f=parseInt(c,10),g=parseInt(h,10),x=e;t._x(e,e=>{let r=e.pageY-x.pageY,d=e.pageX-x.pageX;(r+=g)<=-a?r=-a:r>=i-a&&(r=i-a),(d+=f)<=-a?d=-a:d>=i-a&&(d=i-a),p.style.left=d+"px",p.style.top=r+"px";let l=(d+a)/i,s=(i-(r+a))/i;t._a6({h:t._a3.h,s:l,v:s})})},"_ba<mousedown>"(e){let t=this,i=e.eventTarget,a=n.node("si_"+t.id),r=n.node("cz_"+t.id).clientWidth,d=a.clientHeight/2,l=i.getBoundingClientRect(),s=(e.pageY-l.top-window.scrollY)/r*360;t._a6({h:s,s:t._a3.s,v:t._a3.v});let o=parseInt(getComputedStyle(a).top,10);t._x(e,i=>{let l=i.pageY-e.pageY;(l+=o)<=-d?l=-d:l>=r-d&&(l=r-d),a.style.top=l+"px";let s=(l+d)/r*360;t._a6({h:s,s:t._a3.s,v:t._a3.v},!0)})},"_bb<mousedown>"(e){let t=e.eventTarget,i=this,a=n.node("ai_"+i.id),r=n.node("at_"+i.id).clientWidth,d=a.clientWidth/2,l=t.getBoundingClientRect(),s=(e.pageX-l.left)/r*255|0;i._a7=("0"+s.toString(16)).slice(-2),i._a8(s),i._a5();let o=getComputedStyle(a),p=parseInt(o.left,10);i._x(e,t=>{let l=t.pageX-e.pageX;(l+=p)<=-d?l=-d:l>=r-d&&(l=r-d),a.style.left=l+"px";let s=Math.round((l+d)/r*255);i._a7=("0"+s.toString(16)).slice(-2),i._a5()})},"_bc<click>"(){let e=this;e._z();let t=n.node("v_"+e.id).value;t!=e._2&&(e.digest({color:t,current:t}),n.default.dispatch(e.root,"input",{color:e._2=t}))},"_bd<click>"(e){this._a9(e.params.color),e.eventTarget.classList.add("rd-aB")},_be(e){return n.default.inside(e,this.root)},_y(){let e=n.node("bd_"+this.id);"none"==getComputedStyle(e).display&&(e.style.display="block",u.default._ao(this),n.node("root_"+this.id).classList.add("rd-v"),this._bf||(this.digest({renderUI:!0}),this._a9(this._2),this._bf=1))},_z(){let e=n.node("bd_"+this.id);"none"!=getComputedStyle(e).display&&(n.node("root_"+this.id).classList.remove("rd-v"),e.style.display="none",u.default._an(this))},"_bg<click>"(){if(this.get("disabled"))return;let e=n.node("bd_"+this.id);"none"==getComputedStyle(e).display?this._y():this._z()},"_bh<click>"(){if(this.get("disabled"))return;let e=this;if(e._bf){let t=n.node("v_"+e.id).value;e._z(),e.digest({color:"",current:t})}else e.digest({color:""});n.default.dispatch(e.root,"input",{color:e._2=""})}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],(e,t,i)=>{let a={class:"rd-o"},r={class:"rd-p",style:"word-break:break-all"},d={class:"rd-i rd-q"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../../i18n/index");t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n=[],{title:p,body:u,i18n:c}=e;return o=[t(0,0,l(p))],s=[t("h5",0,o)],n.push(t("div",a,s)),s=[t(0,0,l(u))],n.push(t("div",r,s)),o=[t(0,0,l(c("aU")))],s=[t("button",{"mx5-click":i+"\x1e_bc();",class:"rd-e rd-m rd-n",type:"button"},o)],n.push(t("div",d,s)),t(i,0,n)},init(e){this._bi=e.dialog,this._bj=e.body,this._bk=e.title||s.default("aT"),this._bl=e.enterCallback},render(){this.digest({body:this._bj,title:this._bk})},"_bc<click>"(){let e=this;e._bi.close(),e._bl&&l.default.toTry(e._bl)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],(e,t,i)=>{let a={class:"rd-o"},r={class:"rd-p",style:"word-break:break-all"},d={class:"rd-i rd-q"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../../i18n/index");t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n=[],{title:p,body:u,i18n:c}=e;return o=[t(0,0,l(p))],s=[t("h5",0,o)],n.push(t("div",a,s)),s=[t(0,0,l(u))],n.push(t("div",r,s)),o=[t(0,0,l(c("aV")))],s=[t("button",{type:"button","mx5-click":i+"\x1e_bn()",class:"rd-e rd-m"},o)],o=[t(0,0,l(c("aU")))],s.push(t("button",{type:"button","mx5-click":i+"\x1e_bc()",class:"rd-a rd-e rd-m rd-n"},o)),n.push(t("div",d,s)),t(i,0,n)},init(e){let t=this;t._bi=e.dialog,t._bj=e.body,t._bk=e.title||s.default("aT"),t._bl=e.enterCallback,t._bm=e.cancelCallback},render(){this.digest({body:this._bj,title:this._bk})},"_bc<click>"(){let e=this;e._bi.close(),e._bl&&l.default.toTry(e._bl)},"_bn<click>"(){let e=this;e._bi.close(),e._bm&&l.default.toTry(e._bm)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],(e,t,i)=>{let a={class:"rd-aV rd-r"},r={class:"rd-s"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix");e("./alert"),e("./confirm"),d.default.applyStyle("rd-i",".rd-aO{position:absolute}.rd-aP{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.rd-aQ{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.rd-aQ:focus,.rd-aQ:hover{opacity:.5}.rd-aR{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.rd-aS{-webkit-filter:blur(3px);filter:blur(3px)}.rd-aT{-webkit-animation:rd-a .3s;animation:rd-a .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.rd-aU{position:absolute;right:10px;top:0;width:1px;height:0}.rd-aV{padding:80px 0}@-webkit-keyframes rd-a{0%{opacity:0}to{opacity:.2}}@keyframes rd-a{0%{opacity:0}to{opacity:.2}}.rd-aW{-webkit-animation:rd-b .2s;animation:rd-b .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-b{0%{opacity:.2}to{opacity:0}}@keyframes rd-b{0%{opacity:.2}to{opacity:0}}.rd-aX{margin-bottom:50px;min-height:60px}.rd-aY{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.rd-aZ{-webkit-animation:rd-c .3s;animation:rd-c .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.rd-a0{-webkit-animation:rd-d .2s;animation:rd-d .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");let l=500,s=[];t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let l,s,o,n,p,u=[],{removeClass:c,zIndex:h,left:f,top:g,width:x,closable:_}=e;return l="rd-aR",c||(l+=" rd-aT"),u.push(t("div",{style:"z-index:"+d(h-1),id:"mask_"+i,class:l})),o=[t("input",{_:"_",id:"focus_"+i,class:"rd-aU"},0,0,1)],n=[t(0,0,"\ue67f")],o.push(t("span",{class:"rd-_ rd-aQ "+d(_?"":"rd-h"),"mx5-click":i+"\x1e_br()"},n)),p=[t("span",r)],n=[t("div",a,p)],o.push(t("div",{_:"a",class:"rd-aP rd-aX",id:"cnt_"+i},n)),l="rd-aO",c||(l+=" rd-aZ"),s=[t("div",{id:"body_"+i,style:"left:"+d(f)+"px;top:"+d(g)+"px;width:"+d(x)+"px",class:l},o)],u.push(t("div",{class:"rd-aY",style:"z-index:"+d(h)},s)),t(i,0,u)},init(e){let t=this,i=d.default.node("app"),a=t.root;t.on("destroy",()=>{(e=>{for(let t,i=s.length-1;i>=0;i--)if((t=s[i]).id==e.id){s.splice(i,1);break}})(t),500==(l-=2)&&i.classList.remove("rd-aS"),d.default.dispatch(a,"close"),a.parentNode.removeChild(a)}),d.default.has(e,"closable")||(e.closable=!0),t.set(e),500==l&&i.classList.add("rd-aS"),l+=2,s.push(t)},render(){let e=this;e.digest({zIndex:l});let t=e.get(),i=d.default.mark(e,"_bo");setTimeout(()=>{i()&&(e.root.style.display="block",d.default.node("focus_"+e.id).focus())},30),e.owner.mountVframe(d.default.node("cnt_"+e.id),t.view,t),setTimeout(()=>{i()&&e.digest({removeClass:!0})},300)},_bp(e){let t=d.default.node("cnt_"+this.id);d.default.Vframe.byNode(t).invoke("fire",["unload",e])},_bq(){let e,t=this.id;(e=d.default.node("body_"+t)).classList.add("rd-a0"),(e=d.default.node("mask_"+t)).classList.add("rd-aW")},"_br<click>"(){d.default.dispatch(this.root,"dlg_close")},"$doc<keyup>"(e){if(27==e.keyCode){let e=s[s.length-1];e==this&&e.get("closable")&&d.default.dispatch(this.root,"dlg_close")}}},{_bt(e,t){let i=d.default.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+i+'" style="display:none" />');let a,r=d.default.node(i),l=e.owner.mountVframe(r,"gallery/mx-dialog/index",t);return r.addEventListener("dlg_close",()=>{if(!r._bs&&!a){let e=()=>{r._bs=1,l.invoke("_bq"),setTimeout(()=>{l.unmountVframe()},200)},t={p:0,prevent(){a=1},resolve(){t.p=1,a=0,e()},reject(){t.p=1,a=0}};l.invoke("_bp",[t]),a||t.p||e()}}),r},alert(e,t,i){this.confirm(e,t,null,i,"alert")},confirm(e,t,i,a,r){this.mxDialog("gallery/mx-dialog/"+(r||"confirm"),{body:e,cancelCallback:i,enterCallback:t,title:a,modal:!0,width:300,closable:!1,left:(window.innerWidth-300)/2,top:Math.max((window.innerHeight-220)/2,0)})},mxDialog(e,t){let i,a,r=this,l={view:e},s=d.default.mark(this,"_bi");return d.default.use(e,o=>{let n="$dlg_"+e;!r[n]&&s()&&(r[n]=1,Object.assign(l,o.dialogOptions),Object.assign(l,t),l.width||(l.width=500),l.left||(l.left=(window.innerWidth-l.width)/2),l.top||(l.top=100),l.dialog={close(){i&&d.default.dispatch(i,"dlg_close")}},(i=r._bt(r,l)).addEventListener("close",()=>{delete r[n],a&&a()}))}),{close(){i&&d.default.dispatch(i,"dlg_close")},whenClose(e){a=e}}}})}),define("gallery/mx-dragdrop/index",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=window.getComputedStyle,r=e=>{(e=window.getSelection)&&e().removeAllRanges()},d=e=>{e.preventDefault()},l=["mousemove"],s=["mouseup"],o=["keydown","mousewheel","DOMMouseScroll","fullscreenchange"];t.default={ctor(){let e=this;e.on("destroy",()=>{e._bu()})},_bu(e){let t=this;if(t._bv){let i;for(i of l)document.removeEventListener(i,t._bv);for(i of s)document.removeEventListener(i,t._bw);for(i of o)document.removeEventListener(i,d);window.removeEventListener("blur",t._bw),delete t._bv;let a=t._bx;a&&a(e)}},_x(e,t,i){let a=this;if(a._bu(),e){let e;for(e of(r(),a._bx=i,a._bw=a._bu.bind(a),a._bv=(e=>{t&&t(e)}),l))document.addEventListener(e,a._bv);for(e of s)document.addEventListener(e,a._bw);for(e of o)document.addEventListener(e,d,{passive:!1});window.addEventListener("blur",a._bw)}},_L(e,t){let i=null;if(document.elementFromPoint)for(!d._by&&a&&(d._by=!0,d._bz=null!==document.elementFromPoint(-1,-1)),d._bz&&(e+=window.pageXOffset,t+=window.pageYOffset),i=document.elementFromPoint(e,t);i&&3==i.nodeType;)i=i.parentNode;return i},_bA:r}}),define("gallery/mx-dropdown/index",["magix","../mx-monitor/index"],(e,t,i)=>{let a,r={class:"rd-a8"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../mx-monitor/index");d.default.applyStyle("rd-j",".rd-a1{outline:0;position:relative;min-width:50px;width:100%;background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;display:inline-block;vertical-align:middle;height:22px;transition:all .25s}.rd-a1:hover{border-color:#ccc}.rd-a2{color:#333;position:relative;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 20px 0 3px}.rd-a3{cursor:not-allowed;background-color:#fbfbfb}.rd-a3:hover{border-color:#e6e6e6}.rd-a3 .rd-a2{cursor:not-allowed}.rd-a4{position:absolute;right:0;top:0;font-size:20px;color:#ccc;transition:all .25s}.rd-a5 .rd-a4{transform:rotate(180deg);top:0}.rd-a5,.rd-a5:hover{border-color:#fa742b}.rd-a6{height:20px;line-height:21px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.rd-a7{color:#999}.rd-a8{position:absolute;top:100%;left:-1px;right:-1px;margin-top:4px;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-a5 .rd-a8{display:block}.rd-a9{overflow:auto;max-height:196px;padding:2px 0}.rd-b_{padding:0 2px;margin:2px 0}.rd-ba{cursor:pointer;color:#666;display:block;width:100%;padding:0 5px;height:20px;line-height:20px;border-radius:2px}.rd-ba:hover{color:#333;background-color:#f0f0f0}.rd-bb,.rd-bb:active,.rd-bb:focus,.rd-bb:hover{color:#fff;background-color:#fa742b}"),t.default=d.default.View.extend({tmpl:(e,t,i,d,l,s,o)=>{let n,p,u,c,h,f,g,x,_,b=[],{disabled:m,selectedText:y,selected:w,emptyText:v,rList:k,list:A,textKey:S,valueKey:M}=e;if(p=[],c=[t(0,0,d(y))],n="rd-a6",""!==w&&w!=v||(n+=" rd-a7"),u=[t("span",{class:n},c)],a?u.push(a):(c=[t(0,0,"\ue692")],u.push(a=t("span",{_:"_",class:"rd-_ rd-a4"},c))),p.push(t("div",{class:"rd-a2","mx5-click":i+"\x1e_bg()",title:d(y)},u)),k){f=[];for(let e=A.length,a=0;a<e;a+=1){let e=A[a];g=[];let r=e,l=e;S&&M&&(h="",r=e[S],h+=" ",l=e[M]);let p=l+""==w+"";_=[t(0,0,d(r))],n="rd-ba rd-l",p&&(n+=" rd-bb"),x=[t("span",{"mx5-click":i+"\x1e_bB({item:'"+o(s,e,"\x1ef."+a)+"'})",class:n},_)],g.push(t("li",{title:d(r),active:p,class:"rd-b_"},x)),f.push(...g)}c=[t("ul",{class:"rd-a9",id:"list_"+i},f)],u=[t("div",r,c)],p.push(...u)}return n="rd-a1",m&&(n+=" rd-a3"),b.push(t("div",{id:"dd_"+i,class:n},p)),t(i,0,b)},init(e){l.default._a0(),this.on("destroy",()=>{l.default._an(this),l.default._a1()})},assign(e){let t=e.selected,i=e.textKey||"",a=e.valueKey||"",r=e.emptyText||"",l=e.disabled+""=="true",s=e.list||[];s=s.slice();let o=d.default.toMap(s,a);if(r)if(i&&a){if(!o[""]){let e={};e[i]=r,e[a]="",s.unshift(e),o[""]=e}}else o[r]||(s.unshift(r),o[r]=r);t||!r||i||a||(t=r),t&&o[t]||(t=o[t]||s[0],i&&a&&(t=t[a]));let n=i&&a?o[t][i]:t;return this.set({selected:t,selectedText:n,list:s,textKey:i,valueKey:a,emptyText:r,disabled:l}),!0},render(){this.digest()},_be(e){return d.default.inside(e,this.root)},_y(){let e=this,t=d.default.node("dd_"+e.id);if(!t.classList.contains("rd-a5")){t.classList.add("rd-a5"),e.get("rList")||e.digest({rList:!0});let i=(t=d.default.node("list_"+e.id)).querySelector("li[active]");i&&i.scrollIntoViewIfNeeded&&i.scrollIntoViewIfNeeded(),l.default._ao(e)}},_z(){let e=d.default.node("dd_"+this.id);e.classList.contains("rd-a5")&&(e.classList.remove("rd-a5"),l.default._an(this))},"_bg<click>"(){let e=this,t=d.default.node("dd_"+e.id);t.classList.contains("rd-a5")?e._z():t.classList.contains("rd-a3")||e._y()},"_bB<click>"(e){let t=this;t._z();let i=t.get("valueKey"),a=t.get("textKey"),r=t.get("selected"),l=e.params.item,s=l,o=l;a&&i&&(o=l[a],s=l[i]),r!==s&&(t.digest({selected:s,selectedText:o}),d.default.dispatch(t.root,"change",{item:l,value:i?l[i]:l,text:a?l[a]:l}))}})}),define("gallery/mx-font/align",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");a.default.applyStyle("rd-k",".rd-bc{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.rd-bd{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-bd:hover{background:#ccc}.rd-be,.rd-be:hover{background:#fa742b;color:#fff}.rd-bf,.rd-bf .rd-bd{cursor:not-allowed;opacity:.7}.rd-bf .rd-bd,.rd-bf .rd-bd:hover{background:#e9e9e9}.rd-bf .rd-be,.rd-bf .rd-be:hover{background:#fb955d}"),t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d,l,s=[],{disabled:o,i18n:n,value:p}=e;return l=[t(0,0,"\ue687")],r="rd-d rd-bd rd-w","flex-start"==p.h&&(r+=" rd-be"),d=[t("li",{title:a(n("aW")),"mx5-click":i+"\x1e_am({type:'h',v:'flex-start'})",class:r},l)],l=[t(0,0,"\ue68a")],r="rd-d rd-bd rd-w","center"==p.h&&(r+=" rd-be"),d.push(t("li",{title:a(n("aX")),"mx5-click":i+"\x1e_am({type:'h',v:'center'})",class:r},l)),l=[t(0,0,"\ue686")],r="rd-d rd-bd rd-w","flex-end"==p.h&&(r+=" rd-be"),d.push(t("li",{title:a(n("aY")),"mx5-click":i+"\x1e_am({type:'h',v:'flex-end'})",class:r},l)),l=[t(0,0,"\ue614")],r="rd-d rd-bd rd-w","flex-start"==p.v&&(r+=" rd-be"),d.push(t("li",{title:a(n("aZ")),"mx5-click":i+"\x1e_am({type:'v',v:'flex-start'})",class:r},l)),l=[t(0,0,"\ue613")],r="rd-d rd-bd rd-w","center"==p.v&&(r+=" rd-be"),d.push(t("li",{title:a(n("a0")),"mx5-click":i+"\x1e_am({type:'v',v:'center'})",class:r},l)),l=[t(0,0,"\ue612")],r="rd-d rd-bd rd-w","flex-end"==p.v&&(r+=" rd-be"),d.push(t("li",{title:a(n("a1")),"mx5-click":i+"\x1e_am({type:'v',v:'flex-end'})",class:r},l)),r="rd-j rd-bc",o&&(r+=" rd-bf"),s.push(t("ul",{class:r},d)),t(i,0,s)},assign(e){return this._bC=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render(){this.digest()},"_am<click>"(e){let t=this;if(t.get("disabled"))return;let i=t._bC,{type:r,v:d}=e.params;i[r]=d,t._bC=i,t.digest({value:i}),a.default.dispatch(t.root,"input",{value:i})}})}),define("gallery/mx-font/style",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");a.default.applyStyle("rd-k",".rd-bc{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.rd-bd{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-bd:hover{background:#ccc}.rd-be,.rd-be:hover{background:#fa742b;color:#fff}.rd-bf,.rd-bf .rd-bd{cursor:not-allowed;opacity:.7}.rd-bf .rd-bd,.rd-bf .rd-bd:hover{background:#e9e9e9}.rd-bf .rd-be,.rd-bf .rd-be:hover{background:#fb955d}"),t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d,l,s=[],{disabled:o,i18n:n,value:p}=e;return l=[t(0,0,"\ue749")],r="rd-d rd-bd rd-w",p.bold&&(r+=" rd-be"),d=[t("li",{title:a(n("a2")),"mx5-click":i+"\x1e_am({key:'bold'})",class:r},l)],l=[t(0,0,"\ue65f")],r="rd-d rd-bd rd-w",p.italic&&(r+=" rd-be"),d.push(t("li",{title:a(n("a3")),"mx5-click":i+"\x1e_am({key:'italic'})",class:r},l)),l=[t(0,0,"\ue62e")],r="rd-d rd-bd rd-w",p.underline&&(r+=" rd-be"),d.push(t("li",{title:a(n("a4")),"mx5-click":i+"\x1e_am({key:'underline'})",class:r},l)),r="rd-j rd-bc",o&&(r+=" rd-bf"),s.push(t("ul",{class:r},d)),t(i,0,s)},assign(e){return this._bC=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render(){this.digest()},"_am<click>"(e){let t=this;if(t.get("disabled"))return;let i=t._bC,{key:r}=e.params;i[r]=!i[r],t._bC=i,t.digest({value:i}),a.default.dispatch(t.root,"input",{value:i})}})}),define("gallery/mx-menu/index",["magix","../mx-monitor/index"],(e,t,i)=>{let a,r={class:"rd-bh rd-j"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../mx-monitor/index");d.default.applyStyle("rd-l",".rd-bg{z-index:400}.rd-bh{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;cursor:default;padding:2px 0;box-shadow:0 1px 3px 1px rgba(0,0,0,.06)}.rd-bi{height:22px;line-height:22px;cursor:default;border-radius:2px;padding:0 8px;margin:2px}.rd-bj{color:#fff;background-color:#fa742b}.rd-bk{height:1px;background:#eee;margin:4px 0}.rd-bl{color:#ccc;cursor:not-allowed}"),t.default=d.default.View.extend({tmpl:(e,t,i,d,l,s,o)=>{let n,p,u,c,h,f,g=[],{width:x,list:_,disabled:b,textKey:m}=e;p=[];for(let e=_.length,r=0;r<e;r+=1){let e=_[r];u=[],e.spliter?(c=a?[a]:[a=t("li",{_:"_",class:"rd-bk"})],u.push(...c)):(f=[t(0,0,d(e[m]))],h="rd-l rd-bi ",b[e.id]&&(h+=" rd-bl"),c=[t("li",{"mx5-mouseover":i+"\x1e_bK({d:"+d(b[e.id]||0)+"})","mx5-mouseout":i+"\x1e_bK({d:"+d(b[e.id]||0)+"});","mx5-click":i+"\x1e_bB({item:'"+o(s,e,"\x1ef."+r)+"',d:"+d(b[e.id]||0)+"})",title:d(e[m]),class:h},f)],u.push(...c)),p.push(...u)}return n=[t("ul",r,p)],g.push(t("div",{style:"width:"+d(x)+"px;position:absolute;left:-10000px;top:-10000px",class:"rd-bg",id:"cnt_"+i,"mx5-contextmenu":i+"\x1e_B()"},n)),t(i,0,g)},init(e){let t=this;l.default._a0(),t.on("destroy",()=>{l.default._an(t),l.default._a1()})},assign(e){let t=this,i=e.width||140,a=e.valueKey||"id",r=e.textKey||"text";return t._bD=e.list,t._bE=i,t._bF=a,t._bG=r,t._bH=e.disabled||{},t._bI=e.picked,!0},render(){let e=this;e.digest({disabled:e._bH,list:e._bD,width:e._bE,valueKey:e._bF,textKey:e._bG})},_be(e){return d.default.inside(e,this.root)},_y(e){let t=this;if(!t._bJ){t._bJ=1;let i=d.node("cnt_"+t.id),a=i.clientWidth,r=i.clientHeight,s=e.pageX,o=e.pageY;s+a>window.innerWidth&&(s-=a)<0&&(s=0),o+r>window.innerHeight&&(o-=r)<0&&(o=0),i.style.left=s+"px",i.style.top=o+"px",l.default._ao(t)}},_z(){let e=this;e._bJ&&(e._bJ=!1,d.node("cnt_"+e.id).style.left="-10000px",l.default._an(e))},"_bK<mouseover,mouseout>"(e){if(e.params.d)return;let t=e.eventTarget;!d.default.inside(e.relatedTarget,t)&&t.classList["mouseout"==e.type?"remove":"add"]("rd-bj")},"_bB<click>"(e){if(e.params.d)return;this._z();let t=this._bI;t&&t(e.params.item)},"_B<contextmenu>"(e){e.preventDefault()}},{show(e,t,i){let a="ctx_"+e.id,r=d.node(a),l=r&&d.default.Vframe.byNode(r);l?(l.invoke("assign",[i]),l.invoke("render"),l.invoke("_y",[t])):(document.body.insertAdjacentHTML("beforeend",`<div id="${a}"></div>`),(l=e.owner.mountVframe(d.node(a),"gallery/mx-menu/index",i)).invoke("_y",[t]))}})}),define("gallery/mx-monitor/index",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=0,r=[],d=["mousedown","keyup","touchstart","pointerstart"],l=e=>{for(let t=r.length;t--;){let i=r[t];if(i._bL)r.splice(t,1);else{let t=i._bM;"resize"!=e.type&&t._be(e.target)||t._z()}}},s=e=>{let t=r[e.id];t&&(t._bL=!0),delete r[e.id]};t.default={_ao(e){s(e);let t={_bM:e};r.push(t),r[e.id]=t},_an:s,_a0(){if(!a){for(let e of d)document.addEventListener(e,l);window.addEventListener("resize",l)}a++},_a1(){if(a>0&&!--a){for(let e of d)document.removeEventListener(e,l);window.removeEventListener("resize",l)}}}}),define("gallery/mx-number/index",["magix"],(e,t,i)=>{"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(r,d){function l(e){try{o(a.next(e))}catch(e){d(e)}}function s(e){try{o(a.throw(e))}catch(e){d(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(l,s)}o((a=a.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");r.default.applyStyle("rd-m",'.rd-bm{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}.rd-bn,.rd-bo{width:20px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:2px;cursor:pointer}.rd-bn:hover,.rd-bo:hover{background-color:#f0f0f0}.rd-bo{top:1px}.rd-bn{bottom:1px}.rd-bp:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:4px solid transparent;border-right:4px solid transparent;content:"";display:block;margin:auto}.rd-bn:after{border-top:4px solid #ccc}.rd-bo:after{border-bottom:4px solid #ccc}.rd-bn.rd-bq,.rd-bo.rd-bq{cursor:not-allowed;border-color:transparent}.rd-bn.rd-bq:hover,.rd-bo.rd-bq:hover{background-color:transparent}'),t.default=r.default.View.extend({tmpl:(e,t,i)=>{let a,r=[],{disabled:d}=e;return r.push(t("input",{class:"rd-bm",id:"ipt_"+i,"mx5-focusin":i+"\x1e_b5()","mx5-focusout":i+"\x1e_b7()","mx5-change":i+"\x1e_b4()","mx5-keydown":i+"\x1e_cc()",disabled:d,autocomplete:"off","mx5-input":i+"\x1e_cd()"},0,0,1)),a="rd-bo rd-bp rd-j",d&&(a+=" rd-bq"),r.push(t("span",{"mx5-click":i+"\x1e_b0({i:1})","mx5-mousedown":i+"\x1e_cb({i:1})","mx5-contextmenu":i+"\x1e_B()",class:a})),a="rd-bn rd-bp rd-j",d&&(a+=" rd-bq"),r.push(t("span",{"mx5-click":i+"\x1e_b0()","mx5-mousedown":i+"\x1e_cb()","mx5-contextmenu":i+"\x1e_B()",class:a})),t(i,0,r)},assign(e){let t=this,i=e.value;void 0===i&&(i=""),""!==i&&(i=+i);let a=t._bN!==i,d=t._bO;return t._bN=i,t._bP=+e.step||1,t._bQ=e.empty+""=="true",t._bR=e.format+""=="true",t._bO=t.root.hasAttribute("disabled"),t._bS=r.default.has(e,"max")?+e.max:Number.MAX_VALUE,t._bT=r.default.has(e,"min")?+e.min:-Number.MAX_VALUE,t._bU=+e.ratio||10,t._bV=e.fixed||0,a||d!=t._bO},render(){return a(this,void 0,void 0,function*(){let e=this,t=r.default.mark(this,"@{render}");yield e.digest({disabled:e._bO}),t()&&e._bW()})},_bW(){let e=this,t=e._bN;""!==t&&(t=e._bX(t),e._bR&&(t=t.toFixed(e._bV))),e._bY=r.node("ipt_"+e.id),e._bY.value=t},_bX(e){let t=this;if((e=+e)||0===e){let i=t._bS,a=t._bT;e>i?e=i:e<a&&(e=a),e=+e.toFixed(t._bV)}return isNaN(e)?t._bQ?"":0:e},_bZ(e,t){let i=this;if(""!==e||!i._bQ)return(e=i._bX(e))!==i._bN&&(t||(i._bY.value=e),r.default.dispatch(i.root,"input",{value:i._bN=e})),i._bN;r.default.dispatch(i.root,"input",{value:i._bN=e})},_b0(e,t){let i=this._bN;""===i&&(i=0);let a=this._bP,r=i;t&&(a*=this._bU),e?r+=a:r-=a,this._bZ(r)},_b1(){let e=this._bY;e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},_b3(){let e=this;e.root.classList.add("rd-v"),r.default.has(e,"_b2")||(e._b2=e._bN)},"_b4<change>"(e){e.stopPropagation()},"_b5<focusin>"(){this._b3()},"_b7<focusout>"(e){let t=this;t._b6||(t.root.classList.remove("rd-v"),t._bW(),t._b2!=t._bN&&r.default.dispatch(t.root,"change",{value:t._bN}),delete t._b2)},"_b0<click>"(e){let t=this;t._bO||t._b8||(t._b0(e.params.i,e.shiftKey),t._b1())},"_cb<mousedown>"(e){let t=this;if(!t._bO){t._b6=!0,t._b3();let i=e.params.i,a=r.default.mark(this,"_b9");t._c_=setTimeout(()=>{a()&&(t._ca=setInterval(()=>{a()&&(t._b8=!0,t._b0(i),t._b1())},50))},300)}},"_cc<keydown>"(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();let t=this;if(!t._bO){let i=e.eventTarget.value;if(""===i)t._bN="";else{let e=Number(i);(e||0===e)&&e!=t._bN&&(t._bN=e)}t._b0(38==e.keyCode,e.shiftKey)}}},"_B<contextmenu>"(e){e.preventDefault()},"_cd<input>"(e){e.stopPropagation();let t=e.eventTarget;this._bZ(t.value,!0)},"$doc<mouseup>"(){let e=this;clearTimeout(e._c_),clearInterval(e._ca),delete e._b6;let t=r.default.mark(this,"@:mouseup");setTimeout(()=>{t()&&delete e._b8},0)}})}),define("gallery/mx-picture/index",["magix","../mx-dialog/index"],(e,t,i)=>{let a={class:"rd-bs"};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),d=e("../mx-dialog/index");r.default.applyStyle("rd-n",".rd-br{height:100px;padding:4px;border:1px solid #e6e6e6;background:#fff;cursor:pointer;margin:4px 0}.rd-bs{line-height:92px;text-align:center;color:#999}.rd-bt{min-height:500px}.rd-bu{width:100px;height:100px;margin:4px;overflow:hidden;border:1px solid #e6e6e6;cursor:pointer;padding:4px}.rd-bu:hover{border-color:#999}.rd-bv{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.rd-bw{width:100px;margin:0 5px;height:25px}.rd-bx{margin:30px 0}.rd-by{font-size:16px}.rd-bz{position:absolute;right:3px;top:2px;opacity:.2}.rd-bz:hover{opacity:.5}.rd-bA{background:#fbfbfb;cursor:not-allowed}.rd-bA .rd-bz,.rd-bA .rd-bz:hover{opacity:.1}.rd-bB{margin-bottom:10px;border-bottom:1px solid #fca576}.rd-bC{float:left;height:25px;line-height:25px;padding:0 4px;cursor:pointer;margin:0 5px -1px;transition:all .25s}.rd-bD{background:#fca576;border-radius:4px 4px 0 0}"),t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l,s,o,n,p=[],{disabled:u,src:c,i18n:h}=e;return l=[],c?(n=[t(0,0,"\ue67f")],o=[t("i",{class:"rd-_ rd-bz","mx5-click":!u&&i+"\x1e_cg()",title:r(h("a5"))},n)],s=[t("div",{class:"rd-bv",style:"background-image:url('"+r(c)+"')"},o)],l.push(...s)):(o=[t(0,0,r(h("a6")))],s=[t("div",a,o)],l.push(...s)),d="rd-br rd-g",u&&(d+=" rd-bA"),p.push(t("div",{"mx5-click":!u&&i+"\x1e_cf()",class:d},l)),t(i,0,p)},mixins:[d.default],assign(e){return this.set(e),!0},render(){this.digest()},"_cf<click>"(){let e=this;e.mxDialog("gallery/mx-picture/list",{width:932,done(t){e.digest(t),e._ce(t)}})},_ce(e){r.default.dispatch(this.root,"change",e)},"_cg<click>"(e){e.stopPropagation(),this.digest({src:""}),this._ce({src:"",width:0,height:0})}})}),define("gallery/mx-picture/list",["magix","../../designer/service","../../i18n/index"],(e,t,i)=>{let a={class:"rd-F rd-o"},r={class:"rd-bt rd-i rd-p"},d={class:"rd-bx rd-by rd-c"},l={class:"rd-bB rd-i"},s={class:"rd-bw rd-c rd-l"};Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),n=e("../../designer/service"),p=e("../../i18n/index");t.default=o.default.View.extend({mixins:[n.default],tmpl:(e,t,i,o,n,p,u,c)=>{let h,f,g,x,_,b,m=[],{i18n:y,error:w,list:v,cIndex:k}=e;if(f=[t(0,0,o(y("a8")))],h=[t("h5",0,f)],m.push(t("div",a,h)),h=[],w)g=[t(0,0,o(w.msg))],f=[t("div",d,g)],h.push(...f);else{f=[],g=[];for(let e=v.length,a=0;a<e;a+=1)b=[t(0,0,o(v[a].title))],_="rd-bC",a==k&&(_+=" rd-bD"),x=[t("div",{"mx5-click":a!=k&&i+"\x1e_cj({to:"+o(a)+"})",class:_},b)],g.push(...x);f.push(t("div",l,g));for(let e=v[k].list,a=e.length,r=0;r<a;r+=1){let a=e[r];b=[t("div",{class:"rd-bv",style:"background-image:url('"+o(a.src)+"')"})],x=[t("div",{class:"rd-bu","mx5-click":i+"\x1e_ci({src:'"+c(a.src)+"'})"},b)],b=[t(0,0,o(a.title))],x.push(t("div",s,b)),g=[t("div",{class:"rd-d",title:o(a.title)},x)],f.push(...g)}h.push(...f)}return m.push(t("div",r,h)),t(i,0,m)},init(e){this._bi=e.dialog,this._ch=e.done,this.set({cIndex:0})},render(){let e=o.default.mark(this,"_bo");this.fetch("_ab",(t,i)=>{e()&&this.digest({error:t,list:i.get("data",[])})})},"_ci<click>"(e){let t=this,i=new Image,a=t._ch,r=e.params.src,d=o.default.mark(this,"_ci");i.onerror=(()=>{d()&&t.alert(p.default("a7"))}),i.onload=(()=>{if(d()){let e=i.width,d=i.height;t._bi.close(),a({src:r,width:e,height:d})}}),i.src=r},"_cj<click>"(e){let{to:t}=e.params;this.digest({cIndex:t})}})}),define("gallery/mx-pointer/cursor",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=a.default.guid("cursor_");a.default.applyStyle("rd-o",".rd-bE{opacity:0;background:#fff;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10000}");const d=document.body;t.default={_y(e){let t=getComputedStyle(e);this._aq(t.cursor)},_aq(e){let t=a.node(r);t||(document.body.insertAdjacentHTML("beforeend",`<div class="rd-bE" id="${r}"/>`),t=a.node(r)),t.style.cursor=e,t.style.display="block"},_z(){let e=a.node(r);e&&(e.style.display="none")},_K(e){d.style.cursor=e},_M(){d.style.cursor="auto"}}}),define("gallery/mx-pointer/follower",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");a.default.applyStyle("rd-p",".rd-bF{background:#fa742b;position:absolute;opacity:.6;left:-1000px;top:-1000px;width:30px;height:30px;text-align:center;line-height:30px;color:#fff;border-radius:2px;z-index:5000;pointer-events:none}");let r=a.default.guid("de_");t.default={_aB(e){let t=a.node(r);t||(document.body.insertAdjacentHTML("beforeend",`<div class="rd-bF rd-w" id="${r}"/>`),t=a.node(r)),t.innerHTML=e},_y(e){let t=a.node(r).style;t.left=e.pageX+10+"px",t.top=e.pageY+18+"px"},_z(){let e=a.node(r).style;e.left="-1000px",e.top="-1000px"}}}),define("gallery/mx-pointer/select",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");a.default.applyStyle("rd-q",".rd-bG{position:absolute;border:1px dashed #fa742b;display:none;pointer-events:none}");let r=a.default.guid("set_");t.default={_J(){a.node(r)||document.body.insertAdjacentHTML("beforeend",`<div id="${r}" class="rd-bG"></div>`)},_aB(e,t,i,d){let l=a.node(r).style;l.left=e+"px",l.top=t+"px",l.width=i+"px",l.height=d+"px",l.display="block"},_z(){a.node(r).style.display="none"}}}),define("gallery/mx-runner/fx",["./index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("./index");let r=e=>e,d=Date.now,l=function(e,t){let i=this;i._ck&&!t||(t=t||r,i._ck=((e,a)=>e+(a-e)*t(i._cl/i._cm))),i._cn=[],i._co=e};Object.assign(l.prototype,{_ct(e,t){let i=this;i._bL||(i._cn.push({_cp:e,_cq:t}),i._cr||i._cs())},_cs(){let e=this,t=e._cn.shift();t?(e._cm=t._cp,e._cu=t._cq,e._cv=d(),e._cr||a.default._cw(e._co,e._cr=(t=>{e._cl=Date.now()-e._cv,e._cl>e._cm&&(e._cl=e._cm,t=1);try{e._cu(e._ck)}catch(e){t=e}t&&e._cs()}))):e._cx()},_cx(){let e=this;e._cr&&(a.default._cy(e._cr),delete e._cr)},_cz(){this._cx(),this._cn=[],this._bL=1}}),t.default={_cA(e,t){let i=new l(e,t);return this.on("destroy",()=>{i._cz()}),i}}}),define("gallery/mx-runner/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");let r=window.requestAnimationFrame||(e=>setTimeout(e,16)),d=window.cancelAnimationFrame||clearTimeout,l=Date.now;t.default={_cn:[],_cw(e,t){this._cn.push({i:e||15,f:t,n:l()}),this._cs()},_cy(e){let t=this._cn;for(let i,a=0;a<t.length;a++)if(!(i=t[a]).r&&i.f==e){i.r=1;break}},_cs(){let e=this;if(!e._cB){let t=()=>{let i=e._cn;for(let e,t,r=0;r<i.length;r++)(e=i[r]).r?i.splice(r--,1):(t=l())-e.n>=e.i&&(e.n=t,a.default.toTry(e.f));i.length?e._cB=r(t):(d(e._cB),delete e._cB)};e._cB=r(t)}}}}),define("i18n/index",["magix","./zh-cn"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("./zh-cn"),d={"zh-cn":r.default,zh:r.default},l=a.default.has,s=/\{(\d+)\}/g;t.default=((e,...t)=>{let i=(a.default.config("lang")||navigator.language).toLowerCase();l(d,i)||(i="zh-cn");let r=d[i],o=l(r,e)?r[e]:e;return t.length&&(o=o.replace(s,(e,i,a)=>(i|=0,t.length>i?(a=t[i],l(r,a)?r[a]:a):e))),o})}),define("i18n/zh-cn",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={l:"\u7269\u8054\u7f51\u8bbe\u8ba1\u5668",aT:"\u63d0\u793a",aU:"\u786e\u5b9a",aV:"\u53d6\u6d88",x:"\u653e\u5927",w:"\u7f29\u5c0f",_:"\u5220\u9664\u8f85\u52a9\u7ebf",a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",s:"\u64a4\u9500(Ctrl+Z)",t:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",a9:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",b_:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",ba:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",bb:"\u5143\u7d20",bc:"\u5c5e\u6027",bd:"\u6570\u636e\u6e90",be:"\u6982\u89c8\u56fe",v:"\u6253\u5f00{0}\u9762\u677f",u:"\u5173\u95ed{0}\u9762\u677f",bf:"\u5c55\u5f00{0}\u9762\u677f",bg:"\u6298\u53e0{0}\u9762\u677f",ag:"\u6309\u4e0b\u62d6\u52a8\u65cb\u8f6c\u5143\u7d20",ah:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6",ai:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u9ad8\u5ea6",aj:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6\u548c\u9ad8\u5ea6",bh:"\u7c7b\u578b\uff1a",Q:"X\u5750\u6807\uff1a",R:"Y\u5750\u6807\uff1a",L:"\u5bbd\uff1a",S:"\u9ad8\uff1a",T:"\u65cb\u8f6c\u89d2\u5ea6\uff1a",U:"\u80cc\u666f\u989c\u8272\uff1a",aN:"\u6587\u5b57\u989c\u8272\uff1a",c:"\u5168\u9009",f:"\u7c98\u8d34",d:"\u590d\u5236",e:"\u526a\u5207",k:"\u5220\u9664",g:"\u4e0a\u79fb\u4e00\u5c42",i:"\u79fb\u81f3\u9876\u5c42",h:"\u4e0b\u79fb\u4e00\u5c42",j:"\u79fb\u81f3\u5e95\u5c42",m:"\u5de6\u5bf9\u9f50",o:"\u53f3\u5bf9\u9f50",p:"\u4e0a\u5bf9\u9f50",r:"\u4e0b\u5bf9\u9f50",q:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",n:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",a7:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",a5:"\u6e05\u9664\u56fe\u7247",a6:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",a8:"\u56fe\u7247\u5e93",aS:"\u6e05\u9664\u989c\u8272",aL:"\u5b57\u53f7\uff1a",as:"\u5168\u5c4f\u663e\u793a\uff1a",av:"\u80cc\u666f\u56fe\u7247\uff1a",N:"\u989c\u8272\uff1a",aw:"\u5e73\u94fa\u65b9\u5f0f\uff1a",ax:"\u62c9\u4f38\u94fa\u6ee1",ay:"\u539f\u59cb\u5c3a\u5bf8",az:"\u6a2a\u5411\u5e73\u94fa",aA:"\u5782\u76f4\u5e73\u94fa",aB:"\u53cc\u5411\u5e73\u94fa",at:"\u81ea\u9002\u5e94",au:"\u5168\u5c4f\u94fa\u6ee1",O:"\u9501\u5b9a\u7f16\u8f91\uff1a",aK:"\u6587\u672c",ar:"\u9875\u9762",ao:"\u76f4\u7ebf",C:"\u8d1d\u585e\u5c14",aG:"\u77e9\u5f62",ak:"\u56fe\u7247",Z:"\u5706\u5f62",aI:"\u5e73\u94fa\u56fe",W:"\u6298\u7ebf\u56fe",X:"\u4eea\u8868\u76d8",P:"\u67f1\u72b6\u56fe",Y:"\u997c\u56fe",aJ:"\u8bf7\u9009\u62e9\u5e73\u94fa\u56fe\u7247",an:"\u8bf7\u9009\u62e9\u56fe\u7247",M:"\u900f\u660e\u5ea6\uff1a",aM:"\u5b57\u95f4\u8ddd\uff1a",aQ:"\u5185\u5bb9\uff1a",aO:"\u6837\u5f0f\uff1a",aP:"\u6392\u5217\uff1a",a2:"\u52a0\u7c97",a3:"\u659c\u4f53",a4:"\u4e0b\u5212\u7ebf",aW:"\u6c34\u5e73\u5c45\u5de6",aX:"\u6c34\u5e73\u5c45\u4e2d",aY:"\u6c34\u5e73\u5c45\u53f3",aZ:"\u5782\u76f4\u5c45\u4e0a",a0:"\u5782\u76f4\u5c45\u4e2d",a1:"\u5782\u76f4\u5c45\u4e0b",ap:"\u957f\uff1a",al:"\u56fe\u7247\uff1a",ae:"\u8fb9\u6846\u989c\u8272\uff1a",af:"\u586b\u5145\u989c\u8272\uff1a",aq:"\u7ebf\u7c7b\u578b\uff1a",aa:"\u8fb9\u6846\u7c7b\u578b\uff1a",a_:"\u8fb9\u6846\u5bbd\u5ea6\uff1a",aH:"\u5706\u89d2\uff1a",ab:"\u5b9e\u7ebf",ad:"\u865a\u7ebf",ac:"\u70b9\u7ebf",aC:"\u56fe\u7247\u5bbd\uff1a",aD:"\u56fe\u7247\u9ad8\uff1a",am:"\u8fd8\u539f\u5c3a\u5bf8\uff1a",V:"\u56fe\u8868\u6807\u9898\uff1a",aE:"\u6c34\u5e73(%)\uff1a",aF:"\u5782\u76f4(%)\uff1a",bi:"\u539f\u59cb\u56fe\u7247\u5bbd\u9ad8",aR:"\u8bf7\u8f93\u5165\u5185\u5bb9",y:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u5bbd\u5ea6)\u540c\u6b65\u5bbd\u5ea6",z:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u9ad8\u5ea6)\u540c\u6b65\u9ad8\u5ea6",B:"\u4ee5\u5143\u7d20\u4e2d\u5fc3\u70b9(\u6309\u4e0bshift\u5219\u4ee5\u5143\u7d20\u81ea\u8eab)\u5782\u76f4\u5747\u5206\u6392\u5217",A:"\u4ee5\u5143\u7d20\u4e2d\u5fc3\u70b9(\u6309\u4e0bshift\u5219\u4ee5\u5143\u7d20\u81ea\u8eab)\u6c34\u5e73\u5747\u5206\u6392\u5217",D:"\u8d77\u59cb\u70b9X\uff1a",E:"\u8d77\u59cb\u70b9Y\uff1a",F:"\u63a7\u5236\u70b91X\uff1a",G:"\u63a7\u5236\u70b91Y\uff1a",H:"\u63a7\u5236\u70b92X\uff1a",I:"\u63a7\u5236\u70b92Y\uff1a",J:"\u7ed3\u675f\u70b9X\uff1a",K:"\u7ed3\u675f\u70b9Y\uff1a",b:"\u4fdd\u5b58\u5185\u5bb9"}}),define("util/bezier",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let a=(e,t,i,a,r)=>t*(1-e)*(1-e)*(1-e)+3*i*e*(1-e)*(1-e)+3*a*e*e*(1-e)+r*e*e*e,r=(e,t,i,a)=>{let r=-2*(3*e-6*t+3*i),d=4*Math.pow(3*e-6*t+3*i,2)-36*(a-e+3*t-3*i)*(t-e),l=6*(a-e+3*t-3*i);if(d>0){let e=Math.sqrt(d),t=(r+e)/l,i=(r-e)/l;if(t>=0&&i>=0&&t<=1&&i<=1)return[t,i,0,1];if(t>=0&&t<=1)return[t,0,1];if(i>=0&&i<=1)return[i,0,1]}return[0,1]};t.default=(e=>{let{x:t,y:i,width:d,height:l}=(e=>{let t=r(e.startX,e.ctrl1X,e.ctrl2X,e.endX),i=r(e.startY,e.ctrl1Y,e.ctrl2Y,e.endY),d=[],l=[];for(let i of t)d.push(a(i,e.startX,e.ctrl1X,e.ctrl2X,e.endX));for(let t of i)l.push(a(t,e.startY,e.ctrl1Y,e.ctrl2Y,e.endY));let s=Math.min(...d),o=Math.max(...d),n=Math.min(...l);return{x:s,y:n,width:o-s,height:Math.max(...l)-n}})(e);e.x=t,e.y=i,e.width=d,e.height=l})}),define("util/converter",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default={_aA({x:e,y:t}){let i=a.node("stage_canvas").getBoundingClientRect();return{x:e-=i.left,y:t-=i.top}},_cC({x:e,y:t}){let i=a.node("stage_canvas").getBoundingClientRect();return{x:e+=i.left,y:t+=i.top}},_aQ:e=>e/a.State.get("_d")|0,_aR:e=>e*a.State.get("_d")}}),define("util/transform",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7};t.default={_at({x:e,y:t,width:i,height:a},r){let d=Math.sqrt(Math.pow(i,2)+Math.pow(a,2))/2,l=i?Math.round(180*Math.atan(a/i)/Math.PI):0,s=180-r-l,o=l-r,n=90-r,p=r,u=i/2,c=a/2,h=e+u,f=t+c,g={x:h+d*Math.cos(s*Math.PI/180),y:f-d*Math.sin(s*Math.PI/180)},x={x:h+c*Math.cos(n*Math.PI/180),y:f-c*Math.sin(n*Math.PI/180)},_={x:h+d*Math.cos(o*Math.PI/180),y:f-d*Math.sin(o*Math.PI/180)},b={x:h+u*Math.cos(p*Math.PI/180),y:f+u*Math.sin(p*Math.PI/180)},m={x:h-d*Math.cos(s*Math.PI/180),y:f+d*Math.sin(s*Math.PI/180)},y={x:h-c*Math.sin(p*Math.PI/180),y:f+c*Math.cos(p*Math.PI/180)},w={x:h-d*Math.cos(o*Math.PI/180),y:f+d*Math.sin(o*Math.PI/180)},v={x:h-u*Math.cos(p*Math.PI/180),y:f-u*Math.sin(p*Math.PI/180)},k=Math.min(g.x,_.x,m.x,w.x),A=Math.max(g.x,_.x,m.x,w.x),S=Math.min(g.y,_.y,m.y,w.y),M=Math.max(g.y,_.y,m.y,w.y);return{point:[g,x,_,b,m,y,w,v],width:A-k,height:M-S,left:k,right:A,top:S,bottom:M}},_aV(e,t){let i={},r={},d=a[t],l=0,s=d-4;return s<0&&(s=d+4),{current:{index:d,point:r=e[d]},opposite:{index:l=s,point:i=e.slice(s,s+1)[0]}}},_c0(e,t){let{x:i,y:a,width:r,height:d,scale:l}=e,s={x:0,y:0},o=r*(l.x-1),n=d*(l.y-1),p=r+o,u=d+n,c=i-o/2,h=a-n/2;if(t){let e=[{x:i,y:a},{x:i+r,y:a},{x:i+r,y:a+d},{x:i,y:a+d}],l=[{x:c,y:h},{x:c+p,y:h},{x:c+p,y:h+u},{x:c,y:h+u}];s.x=e[t].x-l[t].x,s.y=e[t].y-l[t].y}return{x:c+s.x,y:h+s.y,width:p,height:u}},_aW(e,t,i,a){let r=this._c0({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),d=r.width,l=r.height,s=this._at(r,e.rotate),o=i.point[a].x-s.point[a].x+s.left,n=i.point[a].y-s.point[a].y+s.top;return{left:o+s.width/2-d/2,top:n+s.height/2-l/2,width:d,height:l}},_cX({x:e,y:t,width:i,height:a},r){if(0==i)return{x:e,y:t};let d=e+i/2,l=t+a/2,s=Math.sqrt(i*i/2/2+a*a/2/2),o=180*Math.atan(a/i)/Math.PI+r+180;return{x:d+s*Math.cos(o*Math.PI/180),y:l+s*Math.sin(o*Math.PI/180)}}}}),define("panels/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");let r=[{title:"bb",icon:"&#xe629;",width:100,height:270,left:25,top:90,show:!0,resizeY:!0,id:"p-elements",view:"panels/elements/index"},{title:"bc",icon:"&#xe7a1;",width:240,height:120,right:10,top:90,show:!0,resizeY:!0,id:"p-props",view:"panels/props/index"},{title:"be",icon:"&#xe7ad;",width:180,height:124,show:!0,left:25,bottom:10,id:"p-overview",view:"panels/overview/index",fixedSize:!0}],d=a.default.toMap(r,"id");t.default={_0(){for(let e of r)e.show&&this._cL(e.id,!0);a.State.fire("m")},_cL(e,t){let i=d[e];if(!i.opened){if(i.opened=1,i.eId)a.node(i.eId).style.display="block";else{i.eId=a.default.guid("panel_");let e=a.node(a.default.config("rootId"));e.insertAdjacentHTML("beforeend",`<div id="${i.eId}"></div>`);let t=a.Vframe.byNode(e);i.close=(()=>{this._cM(i.id)}),t.mountVframe(a.node(i.eId),"panels/panel",i)}t||(a.State.fire("m"),a.Vframe.byNode(a.node(i.eId)).invoke("_y"))}},_cM(e){let t=d[e];if(t.opened){t.opened=0;let e=a.node(t.eId);e.style.display="none",a.State.fire("m"),a.Vframe.byNode(e).invoke("_z")}},_aM(e){d[e].opened?this._cM(e):this._cL(e)},_aL:()=>r}}),define("panels/panel",["magix","../gallery/mx-pointer/cursor","../gallery/mx-dragdrop/index"],(e,t,i)=>{let a={class:"rd-bU rd-i rd-j"},r={class:"rd-w rd-x rd-y"},d={class:"rd-E rd-b rd-e"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../gallery/mx-pointer/cursor"),o=e("../gallery/mx-dragdrop/index");l.default.applyStyle("rd-t",".rd-bT{background:hsla(0,0%,100%,.93);position:absolute;box-shadow:0 2px 4px 0 rgba(0,0,0,.3)}.rd-bU{font-size:12px;height:18px;line-height:18px;background:#fa742b;color:#fff}.rd-bV{padding:0 5px;cursor:move;width:calc(100% - 36px)}.rd-bW{width:16px;height:14px;margin:0 1px;font-size:11px;cursor:pointer;display:inline-flex;justify-content:center;align-items:center;border-radius:2px}.rd-bW:hover{background:#e64e30}.rd-bX{overflow:hidden;transition:height .25s}.rd-bY{transition:none}.rd-bZ{width:calc(100% - 2px);overflow:auto;float:left}.rd-b0{width:2px;float:right;cursor:ew-resize}.rd-b1,.rd-b0{background:#fafafa}.rd-b1{height:2px;cursor:ns-resize}.rd-b2{scroll-behavior:smooth}.rd-b2::-webkit-scrollbar,.rd-b2::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}");let n=[],p={_ao(e){n.push(e)},_an(e){for(let t=n.length;t--;)if(n[t]==e){n.splice(t,1);break}this._cQ()},_cQ(){for(let e=n.length;e--;)n[e]._cR(300+e)},_cS(e){if(n[n.length-1]!=e){for(let t=n.length;t--;)if(n[t]==e){n.splice(t,1);break}n.push(e),this._cQ()}}};t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n,p,u,c,h=[],{width:f,left:g,right:x,top:_,bottom:b,zIndex:m,i18n:y,icon:w,title:v,shrink:k,fixedSize:A,height:S,resizeX:M,view:z,resizeY:j}=e;return u=[t(0,1,l(w))],p=[t("i",r,u),t(0,0,l(y(v)))],n=[t("div",{class:"rd-bV rd-d",title:l(y("a9")),"mx5-mousedown":i+"\x1e_cU()"},p)],u=[t(0,0,"\ue73a")],c="rd-w rd-bW",k&&(c+=" rd-z"),p=[t("i",{"mx5-click":i+"\x1e_cW()",title:l(y(k?"bf":"bg",v)),class:c},u)],u=[t(0,0,"\ue635")],p.push(t("i",{class:"rd-bW rd-w","mx5-click":i+"\x1e_br()",title:l(y("u",v))},u)),n.push(t("div",d,p)),o=[t("div",a,n)],(n=[]).push(t("div",{style:"width:"+l(M?"calc(100% - 2px)":"100%"),class:"rd-b rd-b2 rd-bZ rd-k","mx5-view":l(z)})),M||(p=[t("div",{class:"rd-b rd-b0 rd-j",title:l(y("b_")),"mx5-mousedown":i+"\x1e_aX({w:1})"})],n.push(...p)),o.push(t("div",{class:"rd-bX",id:"c_"+i,style:"height:"+l(k?0:A?`${S}px`:`calc(100vh - ${S}px)`)},n)),c="rd-b1 rd-j",!k&&j||(c+=" rd-h"),o.push(t("div",{title:l(y("ba")),"mx5-mousedown":i+"\x1e_aX({h:1})",class:c})),s="width:"+l(f)+"px;",s+=null!=g?"left:"+l(g):"right:"+l(x),s+="px;",s+=null!=_?"top:"+l(_)+"px":"bottom:"+l(b)+"px",s+=";z-index:"+l(m),h.push(t("div",{class:"rd-bT",id:"p_"+i,"mx5-mousedown":i+"\x1e_cV()",style:s},o)),t(i,0,h)},mixins:[o.default],init(e){p._ao(this),this.on("destroy",()=>{p._an(this)}),this._cT=e.close,this.set({icon:e.icon,title:e.title,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,bottom:e.bottom,view:e.view,fixedSize:e.fixedSize,resizeX:e.resizeX,resizeY:e.resizeY})},render(){this.digest({zIndex:300+n.length})},"_cU<mousedown>"(e){let t=l.node("p_"+this.id).style,i=this.get("left"),a=this.get("width"),r=0;null==i&&(r=1,i=this.get("right"));let d=this.get("top"),o=0;null==d&&(o=1,d=this.get("bottom"));let n=r?"right":"left",p=o?"bottom":"top",u=0,c=e.eventTarget;this._x(e,l=>{u||(u=1,s.default._y(c));let h=(r?e.pageX-l.pageX:l.pageX-e.pageX)+i;h<0?h=0:h+a>window.innerWidth&&(h=window.innerWidth-a);let f=(o?e.pageY-l.pageY:l.pageY-e.pageY)+d;f<0?f=0:f+18>window.innerHeight&&(f=window.innerHeight-18),t[n]=h+"px",t[p]=f+"px",this.set({[n]:h,[p]:f})},()=>{s.default._z()})},"_aX<mousedown>"(e){let{w:t}=e.params,i=this.get("width"),a=this.get("height"),r=this.get("right"),d=l.node("c_"+this.id);d.classList.add("rd-bY");let o=d.style,n=l.node("p_"+this.id).style,p=0,u=e.eventTarget;this._x(e,d=>{if(p||(p=1,s.default._y(u)),t){let t=d.pageX-e.pageX;t+i<100&&(t=100-i);let l=t+i;n.width=l+"px",(r||0===a)&&(n.right=r-t+"px",this.set({right:r-t})),this.set({width:l})}else{let t=e.pageY-d.pageY+a;o.height=`calc(100vh - ${t}px)`,this.digest({height:t})}},()=>{s.default._z(),d.classList.remove("rd-bY")})},_cR(e){l.node("p_"+this.id).style.zIndex=e},"_cV<mousedown>"(){p._cS(this)},_y(){p._cS(this)},_z(){},"_cW<click>"(){this.digest({shrink:!this.get("shrink")})},"_br<click>"(){let e=this._cT;e&&l.default.toTry(e)}})}),define("panels/data/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i)=>{let a=[];return a.push(t(0,0,"data source panel")),t(i,0,a)},render(){this.digest()}})}),define("panels/overview/index",["magix","../../gallery/mx-dragdrop/index","../../gallery/mx-pointer/cursor"],(e,t,i)=>{let a={class:"rd-bP"};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),d=e("../../gallery/mx-dragdrop/index"),l=e("../../gallery/mx-pointer/cursor");r.default.applyStyle("rd-s",".rd-bN{transition:all .25s}.rd-bO{transition:width,height .25s}.rd-bP{padding:2px 0}.rd-bQ{background:#edeef3;position:relative;overflow:hidden;box-shadow:inset 1px 1px 6px 2px #dadada}.rd-bR{position:absolute;box-shadow:inset 0 0 1px 1px #fa742b;cursor:move}.rd-bS{background:#fcb58f;position:absolute;border:1px dotted #fff}");let s=[50,240,50,120],o=[180,120];t.default=r.default.View.extend({mixins:[d.default],tmpl:(e,t,i,r)=>{let d,l,s,o,n,p=[],{width:u,height:c,centerMargin:h,page:f,pageWidth:g,pageHeight:x,canvasMargin:_,elements:b,ratio:m,left:y,top:w,viewportWidth:v,viewportHeight:k}=e;s=[];for(let e=b.length,a=0;a<e;a+=1){let{id:e,props:d,type:l}=b[a],p=Math.max(d.width*m,1),u=Math.max(d.height*m,1);n="left:"+r(d.x*m)+"px;top:"+r(d.y*m)+"px;width:"+r(p)+"px;height:"+r(u)+"px;transform:rotate("+r(d.rotate)+"deg);","circle"==l&&(n+="border-radius:50%;"),o=[t("div",{id:i+"_"+r(e),class:"rd-bN rd-bS",style:n})],s.push(...o)}return l=[t("div",{style:"position:relative;background:"+r(f.background)+";width:"+r(g)+"px;height:"+r(x)+"px;margin:"+r(_)},s),t("div",{class:"rd-bO rd-bR",style:"left:"+r(y)+"px;top:"+r(w)+"px;width:"+r(v)+"px;height:"+r(k)+"px","mx5-mousedown":i+"\x1e_cP()"})],d=[t("div",{class:"rd-bN rd-bQ",style:"width:"+r(u)+"px;height:"+r(c)+"px;margin:"+r(h)},l)],p.push(t("div",a,d)),t(i,0,p)},init(){let e=r.node("stage"),t=this._b(this.render);r.State.on("_",t),r.State.on("a",t),r.State.on("b",t),r.State.on("c",t),r.State.on("d",t),r.State.on("e",t),e.addEventListener("scroll",this._cN.bind(this)),this._cO=t},_cN(){let e=r.node("stage"),t=this.get("ratio");if(t){let i=this.get("width"),a=this.get("height"),r=this.get("viewportWidth"),d=this.get("viewportHeight");this.digest({left:Math.min(e.scrollLeft*t,i-r),top:Math.min(e.scrollTop*t,a-d)})}},render(){let e=r.default.mark(this,"_bo"),t=()=>{if(e()){if(!r.node("stage_canvas"))return void setTimeout(t,20);let e=r.State.get("_G"),i=r.State.get("_d"),a=r.node("stage"),d=a.scrollWidth,l=a.scrollHeight,n=o[0],p=n/d,u=p*l;u>o[1]&&(n=(p=(u=o[1])/l)*d);let c=p*e.width*i,h=p*e.height*i,f="";for(let e of s)f+=p*e+"px ";let g=`${(o[1]-u)/2}px ${(o[0]-n)/2}px`,x=Math.min(a.offsetWidth,d)*p,_=Math.min(a.offsetHeight,l)*p;this.set({width:n,height:u,page:e,pageWidth:c,pageHeight:h,ratio:p,elements:r.State.get("_F"),viewportHeight:_,viewportWidth:x,canvasMargin:f,centerMargin:g}),this._cN()}};setTimeout(t,20)},"_cP<mousedown>"(e){let t=this.get("left"),i=this.get("top"),a=this.get("viewportWidth"),d=this.get("viewportHeight"),s=this.get("width"),o=this.get("height"),n=r.node("stage"),p=this.get("ratio");l.default._K("move"),this._x(e,r=>{let l=t+r.pageX-e.pageX,u=i+r.pageY-e.pageY;l<0?l=0:l>s-a&&(l=s-a),u<0?u=0:u>o-d&&(u=o-d),n.scrollLeft=l/p,n.scrollTop=u/p},()=>{l.default._M()})},"$win<resize>"(){this._cO()}})}),define("panels/elements/index",["magix","../../util/converter","../../designer/stage-elements"],(e,t,i)=>{let a={class:"rd-bK rd-w"},r={class:"rd-l"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../../util/converter"),s=e("../../designer/stage-elements");d.default.applyStyle("rd-r",".rd-bH{padding:5px 2px}.rd-bI{display:flex;align-items:center;padding:0 2px;color:#333;height:22px;line-height:22px;cursor:pointer;margin:1px 0}.rd-bI:hover{background:#f0f0f0}.rd-bJ,.rd-bJ:hover{background:#fcb58f}.rd-bK{margin:0 4px 0 2px;font-size:12px}.rd-bL{background:#fa742b;opacity:.4}.rd-bM-top{box-shadow:0 -1px #fa742b}.rd-bM-bottom{box-shadow:0 1px #fa742b}");let o=d.default.guid("rp_"),n={_J(){d.node(o)||document.body.insertAdjacentHTML("beforeend",`<div class="rd-f rd-bL" id="${o}"></div>`)},_y(e){let t=d.node(o).style,{props:i}=e,a=l.default._cC(i);t.left=a.x+"px",t.top=a.y+"px",t.width=i.width+"px",t.height=i.height+"px";let r=i.rotate||0;t.transform=`rotate(${r}deg)`},_z(){d.node(o).style.left="-10000px"}};t.default=d.default.View.extend({tmpl:(e,t,i,d,l,s,o)=>{let n,p,u,c,h,f=[],{elements:g,selectedMap:x,drag:_,index:b,onTop:m,i18n:y}=e;n=[];for(let e=g.length;e--;){let l=g[e];h=[t(0,1,d(l.ctrl.icon))],c=[t("i",a,h)],h=[t(0,0,d(y(l.ctrl.title)))],c.push(t("div",r,h)),u="rd-bI",x[l.id]&&(u+=" rd-bJ"),_&&e==b&&(u+=" rd-bM-"+d(m?"top":"bottom")),p=[t("div",{"mx5-mouseover":i+"\x1e_cD({element:'"+o(s,l,"\x1e_."+e)+"'})","mx5-mouseout":i+"\x1e_cE()","mx5-click":i+"\x1e_cF({element:'"+o(s,l,"\x1e_."+e)+"'})","mx5-dragstart":i+"\x1e_cI({index:"+d(e)+"})","mx5-dragover":i+"\x1e_cJ({index:"+d(e)+"})",draggable:"true",class:u},c)],n.push(...p)}return f.push(t("div",{class:"rd-bH rd-j","mx5-dragend":i+"\x1e_cK()"},n)),t(i,0,f)},init(){n._J();let e=this.render.bind(this);d.State.on("_",e),d.State.on("c",e),d.State.on("l",e)},render(){let e=d.State.get("_F"),t=d.State.get("_Y");this.digest({selectedMap:t,elements:e})},"_cD<mouseover>"(e){if(!d.default.inside(e.relatedTarget,e.eventTarget)){let{element:t}=e.params;n._y(t)}},"_cE<mouseout>"(e){d.default.inside(e.relatedTarget,e.eventTarget)||n._z()},"_cF<click>"(e){let{element:t}=e.params;s.default._ap(e,t)},"_cI<dragstart>"(e){this._cG=e.params.index,this._cH=e.eventTarget,e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain","fix ff")},"_cJ<dragover>"(e){let t=this;if(e.preventDefault(),t._cH!=e.eventTarget){e.dataTransfer.dropEffect="move";let i=e.eventTarget.getBoundingClientRect(),a=i.top+i.height/2>e.pageY,r=e.params.index;t.digest({onTop:a,drag:!0,index:r})}else e.dataTransfer.dropEffect="none",t.digest({drag:!1})},"_cK<dragend>"(e){let t=this,i=t.get();if(i.drag){let e=t._cG,a=i.elements[e];i.elements.splice(i.index+(i.onTop?1:0),0,a),i.index<e?i.elements.splice(e+1,1):i.elements.splice(e,1),t.set({elements:i.elements}),d.State.fire("c")}t.digest({drag:!1})}})}),define("panels/props/index",["magix","../../designer/props","../../designer/history","../../util/transform","../../util/bezier","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-font/style","gallery/mx-font/align","gallery/mx-dropdown/index","gallery/mx-picture/index","./page"],(e,t,i)=>{let a,r,d;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-font/style"),e("gallery/mx-font/align"),e("gallery/mx-dropdown/index"),e("gallery/mx-picture/index"),e("./page");let l={class:"rd-b3"},s={class:"rd-b4"},o={class:"rd-b5"},n={class:"rd-c_"},p={checked:"checked"},u={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});const c=e("magix"),h=e("../../designer/props"),f=e("../../designer/history"),g=e("../../util/transform"),x=e("../../util/bezier");c.default.applyStyle("rd-u",'.rd-b3{padding:4px;min-width:200px}.rd-b4{line-height:28px;display:flex;align-items:center}.rd-b5{width:80px;text-align:right}.rd-b6{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-b7{width:140px}.rd-b8{height:90px}.rd-b9{align-items:flex-start}.rd-c_{display:flex;align-items:center;cursor:pointer}.rd-ca{visibility:hidden;position:absolute}.rd-cb{width:32px;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;border-radius:22px;background:#ccc}.rd-cb:before{content:"";width:12px;height:12px;position:absolute;left:0;margin:2px;border-radius:50%;background:#fff;transition:all .25s}.rd-ca:checked+.rd-cb{background:#fa742b}.rd-ca:checked+.rd-cb:before{left:100%;margin-left:-14px}.rd-ca:disabled+.rd-cb{background:#e6e6e6;cursor:not-allowed}'),t.default=c.default.View.extend({tmpl:(e,t,i,c,h,f,g,x)=>{let _,b,m,y,w,v,k,A,S,M,z,j=[],{elements:Y,i18n:T,props:Q}=e;if(1==Y.length){let e=Y[0];m=[],w=[t(0,0,c(T("bh")))],y=[t("span",o,w)],w=[t(0,0,c(T(e.ctrl.title)))],y.push(t("span",0,w)),m.push(t("li",s,y));for(let d=e.ctrl.props,l=d.length,s=0;s<l;s+=1){let l=d[s];if(y=[],l.type==Q._3)w=a?[a]:[a=t("li",{_:"_",class:"rd-b6"})],y.push(...w);else{w=[];let a=e.props[l.key];l.read&&(a=l.read(a)),l.ifShow&&!l.ifShow(e.props)||(A=[],S=[t(0,0,c(T(l.tip)))],A.push(t("span",o,S)),l.type==Q._1?(M="gallery/mx-number/index?value="+g(f,a,"\x1e_.0.g."+l.key),null!=(_=l.max)&&(M+="&max="+h(_)),null!=(_=l.step)&&(M+="&step="+h(_)),null!=(_=l.fixed)&&(M+="&fixed="+h(_)),null!=(_=l.min)&&(M+="&min="+h(_)),S=[t("div",{$:"elements",class:"rd-b7 rd-g rd-t",disabled:e.props.locked,"mx5-input":i+"\x1e_cY({key:'"+x(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"',write:'"+g(f,l.write,"\x1e_.0.h."+s+".i")+"',bezier:'"+g(f,l.bezier,"\x1e_.0.h."+s+".j")+"'})","mx5-view":M})],A.push(...S)):l.type==Q._2?(S=[t("div",{$:"elements",class:"rd-b7","mx5-input":i+"\x1e_cY({key:'"+x(l.key)+"',use:'color',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-color/index?clear="+h(l.clear)+"&color="+g(f,a,"\x1e_.0.g."+l.key)+"&align=right&disabled="+h(e.props.locked)+"&alpha="+h(l.alpha)})],A.push(...S)):l.type==Q._4?(z=[t("input",{class:"rd-ca",type:"checkbox",checked:e.props[l.key],"mx5-change":i+"\x1e_cY({key:'"+x(l.key)+"',native:'checked',element:'"+g(f,e,"\x1e_.0")+"',refresh:'"+g(f,l.refresh,"\x1e_.0.h."+s+".k")+"'})"},0,p,1)],r?z.push(r):z.push(r=t("i",{_:"a",class:"rd-cb"})),S=[t("label",n,z)],A.push(...S)):l.type==Q._7?(S=[t("textarea",{class:"rd-b7 rd-b8 rd-u",disabled:e.props.locked,"mx5-input":i+"\x1e_cY({key:'"+x(l.key)+"',native:'value',element:'"+g(f,e,"\x1e_.0")+"'})",value:c(a)},0,u)],A.push(...S)):l.type==Q._5?(S=[t("div",{$:"elements",class:"rd-b7","mx5-input":i+"\x1e_cY({key:'"+x(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-font/style?disabled="+g(f,e.props.locked,"\x1e_.0.l")+"&value="+g(f,a,"\x1e_.0.g."+l.key)})],A.push(...S)):l.type==Q._6?(S=[t("div",{$:"elements",class:"rd-b7","mx5-input":i+"\x1e_cY({key:'"+x(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-font/align?disabled="+g(f,e.props.locked,"\x1e_.0.l")+"&value="+g(f,a,"\x1e_.0.g."+l.key)})],A.push(...S)):l.type==Q._9?(M="gallery/mx-dropdown/index?",(_=e.props.locked)&&(M+="disabled="+g(f,_,"\x1e_.0.l")),M+="&selected="+h(a)+"&list="+g(f,l.items,"\x1e_.0.h."+s+".m")+"&textKey=text&valueKey=value",S=[t("div",{$:"elements",class:"rd-b7","mx5-change":i+"\x1e_cY({key:'"+x(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":M})],A.push(...S)):l.type==Q._8?(S=[t("div",{$:"elements",class:"rd-b7","mx5-change":i+"\x1e_cY({key:'"+x(l.key)+"',use:'src',refresh:'"+g(f,l.refresh,"\x1e_.0.h."+s+".k")+"',element:'"+g(f,e,"\x1e_.0")+"',write:'"+g(f,l.write,"\x1e_.0.h."+s+".i")+"'})","mx5-view":"gallery/mx-picture/index?src="+h(a)+"&disabled="+g(f,e.props.locked,"\x1e_.0.l")})],A.push(...S)):l.type==Q._a_?(z=[t(0,0,c(T("bi")))],S=[t("button",{class:"rd-m rd-n",disabled:e.props.locked,"mx5-click":i+"\x1e_cZ({key:'"+x(l.key)+"',element:'"+g(f,e,"\x1e_.0")+"'})"},z)],A.push(...S)):l.type==Q._aa&&(S=[t("input",{class:"rd-t",disabled:e.props.locked,"mx5-input":i+"\x1e_cY({key:'"+x(l.key)+"',native:'value',element:'"+g(f,e,"\x1e_.0")+"'})"},0,0,1)],A.push(...S)),k="rd-b4",l.dockTop&&(k+=" rd-b9"),v=[t("li",{class:k},A)],w.push(...v)),y.push(...w)}m.push(...y)}b=[t("ul",l,m)],j.push(...b)}else b=d?[d]:[d=t("div",{_:"b","mx5-view":"panels/props/page"})],j.push(...b);return t(i,0,j)},init(){let e=this._b(this.render.bind(this),100);c.State.on("l",e),c.State.on("d",e),c.State.on("_",e)},render(){this.digest({scale:c.State.get("_d"),props:h.default,elements:c.State.get("_Q")})},"_cY<input,change>"(e){let{key:t,use:i,element:a,refresh:r,native:d,write:l,bezier:s}=e.params;if(i||d){let o,n=a.props,p="width"==t||"height"==t;p&&(o=g.default._cX(n,n.rotate));let u=d?e.eventTarget[d]:e[i];if(l&&(u=l(u,n,e)),n[t]=u,p){let e=g.default._cX(n,n.rotate);n.x+=o.x-e.x,n.y+=o.y-e.y,r=!0}s&&x.default(n)}r&&this.render(),c.State.fire("e");let o=c.node(a.id),n=c.Vframe.byNode(o);n&&n.invoke("_aB",[a]),f.default._t("a"+t,500)},"_cZ<click>"(e){let{key:t,element:i}=e.params,a=i.props,r=g.default._cX(a,a.rotate),d=new Image;d.onload=(()=>{a.width=d.width,a.height=d.height;let e=g.default._cX(a,a.rotate);a.x+=r.x-e.x,a.y+=r.y-e.y,this.render(),c.State.fire("e");let l=c.node(i.id),s=c.Vframe.byNode(l);s&&s.invoke("_aB",[i]),f.default._t("a"+t,500)}),d.src=a[t]}})}),define("panels/props/page",["magix","../../designer/history","../../designer/props","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-picture/index","gallery/mx-dropdown/index"],(e,t,i)=>{let a;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-picture/index"),e("gallery/mx-dropdown/index");let r={class:"rd-b3"},d={class:"rd-b4"},l={class:"rd-b5"};Object.defineProperty(t,"__esModule",{value:!0});const s=e("magix"),o=e("../../designer/history"),n=e("../../designer/props");t.default=s.default.View.extend({tmpl:(e,t,i,s,o,n,p,u)=>{let c,h,f,g,x,_,b,m,y=[],{i18n:w,ctrl:v,props:k,page:A}=e;h=[],g=[t(0,0,s(w("bh")))],f=[t("span",l,g)],g=[t(0,0,s(w(v.title)))],f.push(t("span",0,g)),h.push(t("li",d,f));for(let e=v.props,r=e.length,d=0;d<r;d+=1){let r=e[d];f=[],r.type==k._3?(g=a?[a]:[a=t("li",{_:"_",class:"rd-b6"})],f.push(...g)):r.ifShow&&!r.ifShow(A)||(_=[],b=[t(0,0,s(w(r.tip)))],_.push(t("span",l,b)),r.type==k._1?(m="gallery/mx-number/index?value="+p(n,A[r.key],"\x1en."+r.key),null!=(c=r.max)&&(m+="&max="+o(c)),null!=(c=r.step)&&(m+="&step="+o(c)),null!=(c=r.fixed)&&(m+="&fixed="+o(c)),null!=(c=r.min)&&(m+="&min="+o(c)),b=[t("div",{$:"page,ctrl",class:"rd-b7 rd-g rd-t","mx5-input":i+"\x1e_cY({key:'"+u(r.key)+"',use:'value'})","mx5-view":m})],_.push(...b)):r.type==k._2?(m="gallery/mx-color/index?clear="+o(r.clear)+"&color="+p(n,A[r.key],"\x1en."+r.key)+"&align=right",null!=(c=r.alpha)&&(m+="&alpha="+o(c)),b=[t("div",{$:"page,ctrl",class:"rd-b7","mx5-input":i+"\x1e_cY({key:'"+u(r.key)+"',use:'color'})","mx5-view":m})],_.push(...b)):r.type==k._8?(b=[t("div",{class:"rd-b7","mx5-change":i+"\x1e_cY({key:'"+u(r.key)+"',use:'src',refresh:'"+p(n,r.refresh,"\x1eh."+d+".k")+"',write:'"+p(n,r.write,"\x1eh."+d+".i")+"'})","mx5-view":"gallery/mx-picture/index?src="+o(A[r.key])})],_.push(...b)):r.type==k._9&&(b=[t("div",{$:"ctrl",class:"rd-b7","mx5-change":i+"\x1e_cY({key:'"+u(r.key)+"',use:'value',refresh:'"+p(n,r.refresh,"\x1eh."+d+".k")+"'})","mx5-view":"gallery/mx-dropdown/index?selected="+o(A[r.key])+"&list="+p(n,r.items,"\x1eh."+d+".m")+"&textKey=text&valueKey=value"})],_.push(...b)),x="rd-b4",r.dockTop&&(x+=" rd-b9"),g=[t("li",{class:x},_)],f.push(...g)),h.push(...f)}return y.push(t("ul",r,h)),t(i,0,y)},init(){let e=this.render.bind(this);s.State.on("_",e)},render(){this.digest({props:n.default,ctrl:s.State.get("_Z"),page:s.State.get("_G")})},"_cY<input,change>"(e){let{key:t,use:i,refresh:a,write:r}=e.params,d=s.State.get("_G");d[t]=e[i],r&&r(e[i],d,e),o.default._t("b",500),s.State.fire("b"),a&&this.render()}})}),define("elements/designer",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","../designer/history","../util/transform","../util/converter","../util/bezier"],(e,t,i)=>{let a,r={style:"position:absolute;pointer-events:none;overflow:visible"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../gallery/mx-dragdrop/index"),s=e("../gallery/mx-pointer/cursor"),o=e("../designer/history"),n=e("../util/transform"),p=e("../util/converter"),u=e("../util/bezier");d.default.applyStyle("rd-g",'.rd-aj{left:50%;top:50%;position:absolute}.rd-aj:before{width:1px;height:5px;left:0;top:-2px}.rd-aj:after,.rd-aj:before{content:" ";position:absolute;background:red}.rd-aj:after{width:5px;height:1px;left:-2px;top:0}.rd-ak{border:1px dotted hsla(0,0%,86.7%,.4);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-al{border:1px solid #fa742b}.rd-am{border:1px solid #999}.rd-an{fill:#fff;stroke:#fa742b;pointer-events:all;stroke-width:1px;cursor:pointer;transition:stroke-width .25s}.rd-an:hover{stroke-width:2px}.rd-ao{fill:none;stroke:#fa742b;stroke-width:1px}.rd-ap{border-right:3px solid #fa742b;right:-2px}.rd-aq,.rd-ar{border-bottom:3px solid #fa742b;bottom:-2px}.rd-ar{border-right:3px solid #fa742b;right:-2px}.rd-as{cursor:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABvUExURUdwTP///9XV1R0dHf///3Nzc////////////////1ZWVq+vr/T09PX19QQEBP///////8XFxf///////////wYGBv///+jo6P///4aGhqioqMzMzP///2BgYP///////////zExMf///wAAAP///xLps0AAAAAjdFJOUwCxxOdixRDmzSDMv8/Z+tz5wWpXWPk3zALCv8KnyXZVMNuNPnv3CwAAAJ1JREFUKM/NkckOwyAMRFkDBMhC9qWr+//fWCIV1WlzrjoXS36yxmMT8hdqqKoUvRAjMtw22kvecem1GjTuK1vApmI+wQMBbQFy5li+QQRaX4AtRX+vbntAJeRl9HTTx4TiwESs61DXNUPmVQeujzVrQwh43TTxpeRBslVfMUhbiXKWyiAwvnIsMcdyJkfJYdpNvG/ltDm+bjP+8KFP8ggL+zQLGxwAAAAASUVORK5CYII=") 14 14,pointer;top:-3px;right:-3px;width:6px;height:6px;border-radius:50%;background:#fa742b}');const c={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3};let h={};d.State.on("l",()=>{for(let e in h){let t=d.Vframe.byId(e);t&&(t.invoke("_aT"),t.invoke("render"))}}),t.default=d.default.View.extend({tmpl:(e,t,i,d,l,s,o)=>{let n,p,u,c,h,f,g,x,_,b=[],{element:m,view:y,onlyMove:w,fullscreen:v,selected:k,count:A,i18n:S}=e,M=m.props,z=m.ctrl,j=m.type;b.push(t("div",{$:"element,onlyMove",class:"rd-j","mx5-view":d(y)+"?props="+o(s,M,"\x1ed")+"&onlyMove="+o(s,w,"\x1ee"),id:"entity_"+i}));let Y=M.rotate%360;if(c=[],!v&&!M.locked){if(h=[],k){if(f=[],a?f.push(a):f.push(a=t("div",{_:"_",class:"rd-aj"})),1==A&&z.modifier&&z.modifier.rotate){if((g=[]).push(t("div",{class:"rd-as rd-f","mx5-mousedown":i+"\x1e_aU()",title:d(S("ag"))})),z.modifier){x=[],n="";let e=Math.min(20,M.height-3)-4;n+=" ";let a=Math.min(20,M.width)-4;n+=" ";let r=Math.max(Math.min(a,e)-2,0);n+=" ",a=Math.min(a,M.width-r-6),n+=" ",e=Math.min(e,M.height-r-6-3),n+=" ";let l=(M.height-e-r+3)/2;if(z.modifier.width&&(p="height:"+d(Math.max(e,0))+"px;top:"+d(l)+"px;cursor:",Y<=22.5||Y>337.5||Y>157.5&&Y<=202.5?p+="ew":Y<=67.5||Y>202.5&&Y<=247.5?p+="nwse":Y<=112.5||Y>247.5&&Y<=292.5?p+="ns":(Y<=157.5||Y>292.5&&Y<=337.5)&&(p+="nesw"),p+="-resize",_=[t("div",{class:"rd-ap rd-f",title:d(S("ah")),"mx5-mousedown":i+"\x1e_aX({key:'rm'})",style:p})],x.push(..._)),z.modifier.height){let e=(M.width-a-r)/2;p="width:"+d(Math.max(a,0))+"px;left:"+d(e)+"px;cursor:",Y<=22.5||Y>337.5||Y>157.5&&Y<=202.5?p+="ns":Y<=67.5||Y>202.5&&Y<=247.5?p+="nesw":Y<=112.5||Y>247.5&&Y<=292.5?p+="ew":(Y<=157.5||Y>292.5&&Y<=337.5)&&(p+="nwse"),p+="-resize",_=[t("div",{class:"rd-aq rd-f",title:d(S("ai")),"mx5-mousedown":i+"\x1e_aX({key:'mb'})",style:p})],x.push(..._)}z.modifier.width&&z.modifier.height&&(p="",0==r&&(p+="display:none;"),p+="width:"+d(r)+"px;height:"+d(r)+"px;cursor:",Y<=22.5||Y>337.5||Y>157.5&&Y<=202.5?p+="nwse":Y<=67.5||Y>202.5&&Y<=247.5?p+="ns":Y<=112.5||Y>247.5&&Y<=292.5?p+="nesw":(Y<=157.5||Y>292.5&&Y<=337.5)&&(p+="ew"),p+="-resize",_=[t("div",{class:"rd-ar rd-f",title:d(S("aj")),"mx5-mousedown":i+"\x1e_aX({key:'rb'})",style:p})],x.push(..._)),g.push(...x)}f.push(...g)}h.push(...f)}c.push(...h)}return p="left:"+d(M.x)+"px;top:"+d(M.y)+"px;width:"+d(M.width)+"px;height:"+d(M.height)+"px;",Y&&(p+="transform:rotate("+d(Y)+"deg);"),u="rd-f rd-j",v||(u+=" rd-ak"),k&&!v&&("bezier"!=j||A>1)&&(u+=" ",M.locked?u+="rd-am":u+="rd-al"),b.push(t("div",{id:"mask_"+d(m.id),style:p,class:u},c)),"bezier"==j&&k&&!v&&1==A&&(h=[t("path",{d:"M"+d(M.startX)+" "+d(M.startY)+" L"+d(M.ctrl1X)+" "+d(M.ctrl1Y)+" M"+d(M.ctrl2X)+" "+d(M.ctrl2Y)+" L"+d(M.endX)+" "+d(M.endY),class:"rd-ao"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_aZ({key:'start'})",r:"4",cx:d(M.startX),cy:d(M.startY),class:"rd-an"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_aY({key:'ctrl1'})",r:"4",cx:d(M.ctrl1X),cy:d(M.ctrl1Y),class:"rd-an"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_aZ({key:'end'})",r:"4",cx:d(M.endX),cy:d(M.endY),class:"rd-an"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_aY({key:'ctrl2'})",r:"4",cx:d(M.ctrl2X),cy:d(M.ctrl2Y),class:"rd-an"},0,0,1)],c=[t("svg",r,h)],b.push(...c)),t(i,0,b)},mixins:[l.default],ctor(){h[this.id]=1,this.on("destroy",()=>{delete h[this.id]})},_aT(){let e=d.State.get("_Y"),t=d.State.get("_Q").length,i=this.get().element.id;this.set({selected:d.has(e,i),count:t})},assign(e){return this.set(e),this._aT(),!0},render(){this.digest()},_aB(e){this.digest({element:e,onlyMove:!1})},"_aU<mousedown>"(e){e.stopPropagation();let t=this.get("element"),i=t.props;d.State.fire("k",{show:1});let a=i.x+i.width/2,r=i.y+i.height/2,l=p.default._aA({x:e.pageX,y:e.pageY}),n=i.rotate,u=Math.atan2(l.y-r,l.x-a)-n*Math.PI/180,c=!1;this._x(e,o=>{c||s.default._y(e.eventTarget),c=!0,l=p.default._aA({x:o.pageX,y:o.pageY});let n=Math.atan2(l.y-r,l.x-a);n=180*(n-u)/Math.PI,i.rotate=(360+(0|n))%360,this.digest({element:t,onlyMove:!0}),d.State.fire("d")},()=>{s.default._z(),c&&o.default._t(),d.State.fire("k")})},"_aX<mousedown>"(e){if(e.button)return;e.stopPropagation();let t=this,i=t.get("element"),{props:a,ctrl:r}=i;d.State.fire("k",{show:1});let l=a.rotate||0,{key:p}=e.params;l=(l+360)%360,0==a.width&&(a.width=.01),0==a.height&&(a.height=.01);let u=a.width,h=a.height,f=a.x,g=a.y,x=0,_=0,b=Number.MAX_VALUE,m=Number.MAX_VALUE;for(let e of r.props)"width"==e.key?(d.default.has(e,"max")&&(b=e.max),d.default.has(e,"min")&&(x=e.min)):"height"==e.key&&(d.default.has(e,"max")&&(m=e.max),d.default.has(e,"min")&&(_=e.min));let y=n.default._at(a,l),w=n.default._aV(y.point,p),{opposite:v,current:k}=w,A=v.index,S=v.point,M=k.point,z=S.x,j=S.y,Y=Math.abs(M.x-z),T=Math.abs(M.y-j),Q={x:f,y:g,rotate:l,width:u,height:h},P=e.pageX,I=e.pageY,R=!1;t._x(e,r=>{R||s.default._y(e.eventTarget);let o={x:1,y:1};R=!0;let p=Y>T,u=1,h=r.pageX-P,f=r.pageY-I;0==A||7==A?p&&l>90&&l<270?h=-h:!p&&l>180&&l<360&&(f=-f):0!=A&&1!=A||(p&&l>45&&l<135?h=-h:!p&&l>90&&l<270&&(f=-f)),(u=p?(h+Y)/Y:(f+T)/T)<0&&(u=0);let g=c[A];1===g?o.x=o.y=u:2===g?o.y=u:3===g&&(o.x=u);let w=n.default._aW(Q,o,y,A),v=w.width,k=w.height;v<x?v=x:v>b&&(v=b),k<_?k=_:k>m&&(k=m),v==a.width&&k==a.height||(a.x=w.left,a.y=w.top,a.width=v,a.height=k,t.digest({element:i,onlyMove:!1}),d.State.fire("d"))},()=>{R&&(o.default._t(),s.default._z()),d.State.fire("k")})},"_aY<mousedown>"(e){e.stopPropagation();let t=this.get("element"),i=t.props;d.State.fire("k",{show:1});let a=!1,r=e.params.key,l=i[`${r}X`],n=i[`${r}Y`];this._x(e,o=>{a||s.default._y(e.eventTarget),a=!0;let p=o.pageX-e.pageX,c=o.pageY-e.pageY;i[`${r}X`]=l+p,i[`${r}Y`]=n+c,u.default(i),this.digest({element:t,onlyMove:!0}),d.State.fire("d")},()=>{s.default._z(),a&&o.default._t(),d.State.fire("k")})},"_aZ<mousedown>"(e){e.stopPropagation();let t=this.get("element"),i=t.props,a=e.params.key,r=i[`${a}X`],l=i[`${a}Y`];d.State.fire("k",{show:1});let n=!1;this._x(e,o=>{n||s.default._y(e.eventTarget),n=!0;let p=o.pageX-e.pageX,c=o.pageY-e.pageY;i[`${a}X`]=r+p,i[`${a}Y`]=l+c,u.default(i),this.digest({element:t,onlyMove:!0}),d.State.fire("d")},()=>{s.default._z(),n&&o.default._t(),d.State.fire("k")})}})}),define("elements/index",["magix","./line/designer","./bezier/designer","./rect/designer","./circle/designer","./text/designer","./image/designer","./repeat/designer","./page/designer","./chart-line/designer","./chart-meter/designer","./chart-bar/designer","./chart-pie/designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("./line/designer"),d=e("./bezier/designer"),l=e("./rect/designer"),s=e("./circle/designer"),o=e("./text/designer"),n=e("./image/designer"),p=e("./repeat/designer"),u=e("./page/designer"),c=e("./chart-line/designer"),h=e("./chart-meter/designer"),f=e("./chart-bar/designer"),g=e("./chart-pie/designer");let x=[r.default,d.default,l.default,s.default,o.default,n.default,p.default,c.default,h.default,f.default,g.default],_=a.toMap(x,"type"),b=[r.default,d.default,l.default,s.default,o.default,n.default,p.default,{spliter:!0},{icon:"&#xe629;",title:"\u56fe\u8868",subs:[c.default,h.default,f.default,g.default]}];t.default={_H:()=>b,_W:()=>u.default,_X(e){let t={},i=e=>{for(let a of e){let e=_[a.type];if(a.ctrl=e,t[a.id]=a,"layout"==a.role)for(let e of a.props.columns)i(e.elements)}};return i(e),{elements:e,map:t}}}}),define("elements/bezier/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/bezier/index"})}},{type:"bezier",role:"bezier",title:"C",icon:"&#xe71b;",scales:["x","y","width","height","startX","startY","endX","endY","ctrl1X","ctrl1Y","ctrl2X","ctrl2Y"],moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"ctrl1X",use:"x"},{key:"ctrl1Y",use:"y"},{key:"ctrl2X",use:"x"},{key:"ctrl2Y",use:"y"},{key:"startX",use:"x"},{key:"startY",use:"y"},{key:"endX",use:"x"},{key:"endY",use:"y"}],json:{startX:r.default._aQ,startY:r.default._aQ,endX:r.default._aQ,endY:r.default._aQ,ctrl1X:r.default._aQ,ctrl1Y:r.default._aQ,ctrl2X:r.default._aQ,ctrl2Y:r.default._aQ,alpha:1,linewidth:1,color:1},getProps:(e,t)=>({alpha:1,x:e,y:t,startX:e,startY:t,endX:e+300,endY:t+100,ctrl1X:e+50,ctrl1Y:t+50,ctrl2X:e+250,ctrl2Y:t+50,width:300,height:100,linewidth:1,color:"#000000",locked:!1}),props:[{tip:"D",key:"startX",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{tip:"E",key:"startY",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{tip:"F",key:"ctrl1X",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{tip:"G",key:"ctrl1Y",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{tip:"H",key:"ctrl2X",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{tip:"I",key:"ctrl2Y",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{tip:"J",key:"endX",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{tip:"K",key:"endY",type:a.default._1,read:r.default._aQ,write:r.default._aR,bezier:1},{type:a.default._3},{tip:"L",key:"linewidth",type:a.default._1,min:0,max:20},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"N",key:"color",type:a.default._2},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/bezier/index",["magix"],(e,t,i)=>{let a={style:"position:absolute;pointer-events:none;overflow:visible"};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l=[],{props:s}=e;return d=[t("path",{d:"M"+r(s.startX)+","+r(s.startY)+" C"+r(s.ctrl1X)+" "+r(s.ctrl1Y)+" "+r(s.ctrl2X)+" "+r(s.ctrl2Y)+" "+r(s.endX)+","+r(s.endY),style:"fill:none;stroke:"+r(s.color)+";stroke-width:"+r(s.linewidth)+";opacity:"+r(s.alpha)},0,0,1)],l.push(t("svg",a,d)),t(i,0,l)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/chart-bar/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-bar/index"})}},{type:"chart-bar",role:"chart-bar",title:"P",icon:"&#xe603;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:r.default._aQ,y:r.default._aQ,width:r.default._aQ,height:r.default._aQ,alpha:1,title:1,rotate:1,background:1},getProps:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:r.default._aQ,write:r.default._aR},{tip:"R",type:a.default._1,key:"y",read:r.default._aQ,write:r.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:r.default._aQ,write:r.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:r.default._aQ,write:r.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:a.default._2,key:"background",alpha:!0,clear:!0},{tip:"V",key:"title",type:a.default._aa},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/chart-bar/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d=[],{props:l}=e;return r="position:absolute;left:"+a(l.x)+"px;top:"+a(l.y)+"px;height:"+a(l.height)+"px;opacity:"+a(l.alpha)+";width:"+a(l.width)+"px;transform:rotate("+a(l.rotate)+"deg);",l.background&&(r+="background:"+a(l.background)+";"),d.push(t("div",{id:"chart_"+i,style:r})),t(i,0,d)},assign(e){return this.set(e),!0},render(){if(this.digest(),this.get("onlyMove"))return;let e=this.get("props");this._aS||(this._aS=echarts.init(a.node("chart_"+this.id)),this.on("destroy",()=>{this._aS.dispose()}));let t=this._aS;t.setOption({title:{text:e.title},tooltip:{trigger:"axis"},xAxis:{data:[1,2,3,4,5]},yAxis:{type:"value"},series:[{data:[120,300,400,220,40],type:"bar"},{data:[90,200,600,100,50],type:"bar"}]},!0),t.resize()}})}),define("elements/chart-line/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-line/index"})}},{type:"chart-line",role:"chart-line",title:"W",icon:"&#xe64b;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:r.default._aQ,y:r.default._aQ,width:r.default._aQ,height:r.default._aQ,alpha:1,title:1,rotate:1,background:1},getProps:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:r.default._aQ,write:r.default._aR},{tip:"R",type:a.default._1,key:"y",read:r.default._aQ,write:r.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:r.default._aQ,write:r.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:r.default._aQ,write:r.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:a.default._2,key:"background",alpha:!0,clear:!0},{tip:"V",key:"title",type:a.default._aa},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/chart-line/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d=[],{props:l}=e;return r="position:absolute;left:"+a(l.x)+"px;top:"+a(l.y)+"px;height:"+a(l.height)+"px;opacity:"+a(l.alpha)+";width:"+a(l.width)+"px;transform:rotate("+a(l.rotate)+"deg);",l.background&&(r+="background:"+a(l.background)+";"),d.push(t("div",{id:"chart_"+i,style:r})),t(i,0,d)},assign(e){return this.set(e),!0},render(){if(this.digest(),this.get("onlyMove"))return;let e=this.get("props");this._aS||(this._aS=echarts.init(a.node("chart_"+this.id)),this.on("destroy",()=>{this._aS.dispose()}));let t=this._aS;t.setOption({title:{text:e.title},tooltip:{trigger:"axis"},xAxis:{data:[1,2,3,4,5]},yAxis:{type:"value"},series:[{data:[120,300,400,220,40],type:"line"},{data:[90,200,600,100,50],type:"line"}]},!0),t.resize()}})}),define("elements/chart-meter/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-meter/index"})}},{type:"chart-meter",role:"chart-meter",title:"X",icon:"&#xeb94;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:r.default._aQ,y:r.default._aQ,width:r.default._aQ,height:r.default._aQ,alpha:1,rotate:1,background:1},getProps:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,rotate:0,locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:r.default._aQ,write:r.default._aR},{tip:"R",type:a.default._1,key:"y",read:r.default._aQ,write:r.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:r.default._aQ,write:r.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:r.default._aQ,write:r.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:a.default._2,key:"background",alpha:!0,clear:!0},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/chart-meter/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d=[],{props:l}=e;return r="position:absolute;left:"+a(l.x)+"px;top:"+a(l.y)+"px;height:"+a(l.height)+"px;opacity:"+a(l.alpha)+";width:"+a(l.width)+"px;transform:rotate("+a(l.rotate)+"deg);",l.background&&(r+="background:"+a(l.background)+";"),d.push(t("div",{id:"chart_"+i,style:r})),t(i,0,d)},assign(e){return this.set(e),!0},render(){if(this.digest(),this.get("onlyMove"))return;this.get("props"),this._aS||(this._aS=echarts.init(a.node("chart_"+this.id)),this.on("destroy",()=>{this._aS.dispose()}));let e=this._aS;e.setOption({series:[{type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}]},!0),e.resize()}})}),define("elements/chart-pie/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-pie/index"})}},{type:"chart-pie",role:"chart-pie",title:"Y",icon:"&#xe6d4;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],getProps:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:r.default._aQ,write:r.default._aR},{tip:"R",type:a.default._1,key:"y",read:r.default._aQ,write:r.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:r.default._aQ,write:r.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:r.default._aQ,write:r.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:a.default._2,key:"background",alpha:!0,clear:!0},{tip:"V",key:"title",type:a.default._aa},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/chart-pie/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d=[],{props:l}=e;return r="position:absolute;left:"+a(l.x)+"px;top:"+a(l.y)+"px;height:"+a(l.height)+"px;opacity:"+a(l.alpha)+";width:"+a(l.width)+"px;transform:rotate("+a(l.rotate)+"deg);",l.background&&(r+="background:"+a(l.background)+";"),d.push(t("div",{id:"chart_"+i,style:r})),t(i,0,d)},assign(e){return this.set(e),!0},render(){if(this.digest(),this.get("onlyMove"))return;let e=this.get("props");this._aS||(this._aS=echarts.init(a.node("chart_"+this.id)),this.on("destroy",()=>{this._aS.dispose()}));let t=this._aS;t.setOption({title:{text:e.title,x:"center"},series:[{data:[{value:120,name:"pie1"},{vaue:300,name:"pie2"},{value:400,name:"pie3"},{value:220,name:"pie4"},{value:40,name:"pie5"}],type:"pie",name:"test"}]},!0),t.resize()}})}),define("elements/circle/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../i18n/index"),d=e("../../util/converter"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/circle/index"})}},{type:"circle",role:"circle",title:"Z",icon:"&#xe654;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:d.default._aQ,y:d.default._aQ,width:d.default._aQ,height:d.default._aQ,alpha:1,title:1,rotate:1,fillcolor:1,borderwidth:1,bordertype:1,bordercolor:1},getProps:(e,t)=>({fillcolor:"",alpha:1,width:150,height:150,x:e,y:t,rotate:0,borderwidth:1,bordertype:"solid",bordercolor:"#000000",locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:d.default._aQ,write:d.default._aR},{tip:"R",type:a.default._1,key:"y",read:d.default._aQ,write:d.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:d.default._aQ,write:d.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:d.default._aQ,write:d.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"a_",key:"borderwidth",type:a.default._1,min:0},{tip:"aa",key:"bordertype",type:a.default._9,items:[{text:r.default("ab"),value:"solid"},{text:r.default("ac"),value:"dotted"},{text:r.default("ad"),value:"dashed"}]},{tip:"ae",key:"bordercolor",type:a.default._2},{tip:"af",key:"fillcolor",clear:!0,alpha:!0,type:a.default._2},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/circle/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d=[],{props:l}=e;return r="position:absolute;border-radius:50%;left:"+a(l.x)+"px;top:"+a(l.y)+"px;",l.borderwidth&&(r+="border:"+a(l.borderwidth)+"px "+a(l.bordertype)+" "+a(l.bordercolor)+";"),l.fillcolor&&(r+="background:"+a(l.fillcolor)+";"),r+="height:"+a(l.height)+"px;opacity:"+a(l.alpha)+";width:"+a(l.width)+"px;transform:rotate("+a(l.rotate)+"deg)",d.push(t("div",{style:r})),t(i,0,d)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/image/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/image/index"})}},{type:"image",role:"image",title:"ak",icon:"&#xe650;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:r.default._aQ,y:r.default._aQ,width:r.default._aQ,height:r.default._aQ,alpha:1,image:1,rotate:1},getProps:(e,t)=>({height:100,alpha:1,x:e,y:t,rotate:0,width:200,image:"",locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:r.default._aQ,write:r.default._aR},{tip:"R",type:a.default._1,key:"y",read:r.default._aQ,write:r.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:r.default._aQ,write:r.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:r.default._aQ,write:r.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"al",key:"image",refresh:!0,type:a.default._8,write:(e,t,i)=>(e||(i.width=200,i.height=100),t.width=i.width,t.height=i.height,e)},{tip:"am",type:a.default._a_,key:"image",ifShow:e=>e.image},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/image/index",["magix"],(e,t,i)=>{let a={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l,s,o=[],{props:n,i18n:p}=e;return d=[],n.image?(l=[t("img",{style:"width:100%;height:100%",src:r(n.image)},0,0,1)],d.push(...l)):(s=[t(0,0,r(p("an")))],l=[t("div",a,s)],d.push(...l)),o.push(t("div",{style:"position:absolute;left:"+r(n.x)+"px;top:"+r(n.y)+"px;height:"+r(n.height)+"px;opacity:"+r(n.alpha)+";width:"+r(n.width)+"px;transform:rotate("+r(n.rotate)+"deg)"},d)),t(i,0,o)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/line/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../i18n/index"),d=e("../../util/converter"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/line/index"})}},{type:"line",role:"line",title:"ao",icon:"&#xe601;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:d.default._aQ,y:d.default._aQ,width:d.default._aQ,height:d.default._aQ,alpha:1,title:1,rotate:1,linetype:1,color:1},getProps:(e,t)=>({height:1,alpha:1,x:e,y:t,rotate:0,width:200,linetype:"solid",color:"#000000",locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:d.default._aQ,write:d.default._aR},{tip:"R",type:a.default._1,key:"y",read:d.default._aQ,write:d.default._aR},{tip:"ap",type:a.default._1,key:"width",min:0,read:d.default._aQ,write:d.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"S",key:"height",type:a.default._1,min:0,max:100,read:d.default._aQ,write:d.default._aR},{tip:"aq",key:"linetype",type:a.default._9,items:[{text:r.default("ab"),value:"solid"},{text:r.default("ac"),value:"dotted"},{text:r.default("ad"),value:"dashed"}]},{tip:"N",key:"color",type:a.default._2},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/line/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r=[],{props:d}=e;return r.push(t("div",{style:"position:absolute;left:"+a(d.x)+"px;top:"+a(d.y)+"px;border-top:"+a(d.height)+"px "+a(d.linetype)+" "+a(d.color)+";opacity:"+a(d.alpha)+";width:"+a(d.width)+"px;transform:rotate("+a(d.rotate)+"deg)"})),t(i,0,r)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/page/designer",["../../designer/props","../../i18n/index","../../designer/const"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../i18n/index"),d=e("../../designer/const");t.default={title:"ar",getProps:()=>({width:d.default._D,height:d.default._E,background:"#ffffff",backgroundImage:"",backgroundRepeat:"full",backgroundWidth:0,backgroundHeight:0,scaleType:"auto",hor:0,ver:0}),props:[{tip:"L",key:"width",type:a.default._1,min:0},{tip:"S",key:"height",type:a.default._1,min:0},{tip:"as",key:"scaleType",type:a.default._9,items:[{text:r.default("at"),value:"auto"},{text:r.default("au"),value:"full"}]},{type:a.default._3},{tip:"U",key:"background",type:a.default._2},{tip:"av",key:"backgroundImage",type:a.default._8,refresh:!0,write:(e,t,i)=>(t.backgroundWidth=i.width,t.backgroundHeight=i.height,e)},{tip:"aw",key:"backgroundRepeat",type:a.default._9,items:[{text:r.default("ax"),value:"full"},{text:r.default("ay"),value:"no-repeat"},{text:r.default("az"),value:"repeat-x"},{text:r.default("aA"),value:"repeat-y"},{text:r.default("aB"),value:"repeat"}],refresh:!0,ifShow:e=>e.backgroundImage},{tip:"aC",key:"backgroundWidth",type:a.default._1,min:0,ifShow(e){let t=e.backgroundImage,i=e.backgroundRepeat;return t&&"full"!==i}},{tip:"aD",key:"backgroundHeight",type:a.default._1,min:0,ifShow(e){let t=e.backgroundImage,i=e.backgroundRepeat;return t&&"full"!=i}},{tip:"aE",key:"hor",type:a.default._1,ifShow:e=>"full"!=e.backgroundRepeat},{tip:"aF",key:"ver",type:a.default._1,ifShow:e=>"full"!=e.backgroundRepeat}]}}),define("elements/rect/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../i18n/index"),d=e("../../util/converter"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/rect/index"})}},{type:"rect",role:"rect",title:"aG",icon:"&#xe6c7;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:d.default._aQ,y:d.default._aQ,width:d.default._aQ,height:d.default._aQ,alpha:1,rotate:1,fillcolor:1,borderwidth:1,bordertype:1,bordercolor:1,radius:1},getProps:(e,t)=>({fillcolor:"",height:100,alpha:1,x:e,y:t,rotate:0,width:200,borderwidth:1,bordertype:"solid",bordercolor:"#000000",radius:0,locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:d.default._aQ,write:d.default._aR},{tip:"R",type:a.default._1,key:"y",read:d.default._aQ,write:d.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:d.default._aQ,write:d.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:d.default._aQ,write:d.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"a_",key:"borderwidth",type:a.default._1,min:0},{tip:"aa",key:"bordertype",type:a.default._9,items:[{text:r.default("ab"),value:"solid"},{text:r.default("ac"),value:"dotted"},{text:r.default("ad"),value:"dashed"}]},{tip:"ae",key:"bordercolor",type:a.default._2},{tip:"af",key:"fillcolor",clear:!0,alpha:!0,type:a.default._2},{tip:"aH",key:"radius",type:a.default._1,min:0},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/rect/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d=[],{props:l}=e;return r="position:absolute;left:"+a(l.x)+"px;top:"+a(l.y)+"px;",l.borderwidth&&(r+="border:"+a(l.borderwidth)+"px "+a(l.bordertype)+" "+a(l.bordercolor)+";"),l.fillcolor&&(r+="background:"+a(l.fillcolor)+";"),r+="height:"+a(l.height)+"px;opacity:"+a(l.alpha)+";width:"+a(l.width)+"px;transform:rotate("+a(l.rotate)+"deg);",l.radius&&(r+="border-radius:"+a(l.radius)+"px;"),d.push(t("div",{style:r})),t(i,0,d)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/repeat/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../../designer/props"),r=e("../../i18n/index"),d=e("../../util/converter"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/repeat/index"})}},{type:"repeat",role:"repeat",title:"aI",icon:"&#xe78f;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height","imageWidth","imageHeight"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:d.default._aQ,y:d.default._aQ,width:d.default._aQ,height:d.default._aQ,alpha:1,rotate:1,background:1,image:1,repeat:1,imageWidth:1,imageHeight:1,hor:1,ver:1},getProps:(e,t)=>({height:100,alpha:1,x:e,y:t,rotate:0,width:200,radius:0,image:"",repeat:"repeat",imageWidth:0,imageHeight:0,hor:0,ver:0,locked:!1}),props:[{tip:"Q",type:a.default._1,key:"x",read:d.default._aQ,write:d.default._aR},{tip:"R",type:a.default._1,key:"y",read:d.default._aQ,write:d.default._aR},{tip:"L",type:a.default._1,key:"width",min:0,read:d.default._aQ,write:d.default._aR},{tip:"S",key:"height",type:a.default._1,min:0,read:d.default._aQ,write:d.default._aR},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"aH",key:"radius",type:a.default._1,min:0},{tip:"al",key:"image",type:a.default._8,refresh:!0,write:(e,t,i)=>(t.imageWidth=d.default._aR(i.width),t.imageHeight=d.default._aR(i.height),e)},{tip:"aC",key:"imageWidth",type:a.default._1,min:0,read:d.default._aQ,write:d.default._aR,ifShow:e=>e.image},{tip:"aD",key:"imageHeight",type:a.default._1,min:0,read:d.default._aQ,write:d.default._aR,ifShow:e=>e.image},{tip:"aE",key:"hor",type:a.default._1,ifShow:e=>e.image},{tip:"aF",key:"ver",type:a.default._1,ifShow:e=>e.image},{tip:"aw",key:"repeat",type:a.default._9,ifShow:e=>e.image,items:[{text:r.default("aB"),value:"repeat"},{text:r.default("az"),value:"repeat-x"},{text:r.default("aA"),value:"repeat-y"}]},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/repeat/index",["magix"],(e,t,i)=>{let a={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l,s,o,n=[],{props:p,i18n:u}=e;return l=[],p.image||(o=[t(0,0,r(u("aJ")))],s=[t("div",a,o)],l.push(...s)),d="position:absolute;left:"+r(p.x)+"px;top:"+r(p.y)+"px;height:"+r(p.height)+"px;opacity:"+r(p.alpha)+";width:"+r(p.width)+"px;transform:rotate("+r(p.rotate)+"deg);",p.radius&&(d+="border-radius:"+r(p.radius)+"px;"),p.image&&(d+="background-image:url("+r(p.image)+");background-size:"+r(p.imageWidth)+"px "+r(p.imageHeight)+"px;background-repeat:"+r(p.repeat)+";background-position:"+r(p.hor)+"% "+r(p.ver)+"%"),n.push(t("div",{style:d},l)),t(i,0,n)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/text/designer",["../designer","../../designer/props","../../util/converter"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("../designer"),r=e("../../designer/props"),d=e("../../util/converter");t.default=a.default.extend({ctor(){this.set({view:"elements/text/index"})}},{type:"text",role:"text",title:"aK",icon:"&#xe6bc;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height","fontsize","ls"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:d.default._aQ,y:d.default._aQ,width:d.default._aQ,height:d.default._aQ,alpha:1,text:1,rotate:1,ls:1,background:1,forecolor:1,fontsize:1,style:1,align:1},getProps:(e,t)=>({background:"",height:25,alpha:1,text:"",ls:0,x:e,y:t,rotate:0,width:200,forecolor:"#000000",fontsize:14,locked:!1,style:{bold:!1,underline:!1,italic:!1},align:{h:"center",v:"center"}}),props:[{tip:"Q",type:r.default._1,key:"x",read:d.default._aQ,write:d.default._aR},{tip:"R",type:r.default._1,key:"y",read:d.default._aQ,write:d.default._aR},{tip:"L",type:r.default._1,key:"width",min:0,read:d.default._aQ,write:d.default._aR},{tip:"S",key:"height",type:r.default._1,min:0,read:d.default._aQ,write:d.default._aR},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"aL",key:"fontsize",type:r.default._1,min:0,read:d.default._aQ,write:d.default._aR},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"aM",key:"ls",type:r.default._1,min:0,read:d.default._aQ,write:d.default._aR},{tip:"U",key:"background",clear:!0,alpha:!0,type:r.default._2},{tip:"aN",key:"forecolor",type:r.default._2},{tip:"aO",key:"style",type:r.default._5},{tip:"aP",key:"align",type:r.default._6},{tip:"aQ",key:"text",type:r.default._7,dockTop:!0},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/text/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d,l,s=[],{props:o,i18n:n}=e;return l="",o.text?l+=" "+a(o.text)+" ":l+=" "+a(n("aR"))+" ",d=[t(0,0,l)],r="position:absolute;left:"+a(o.x)+"px;top:"+a(o.y)+"px;display:flex;color:"+a(o.forecolor)+";",o.background&&(r+="background:"+a(o.background)+";"),r+="font-size:"+a(o.fontsize)+"px;height:"+a(o.height)+"px;letter-spacing:"+a(o.ls)+"px;opacity:"+a(o.alpha)+";",o.style.bold&&(r+="font-weight:bold;"),o.style.italic&&(r+="font-style:italic;"),o.style.underline&&(r+="text-decoration:underline;"),r+="align-items:"+a(o.align.v)+";justify-content:"+a(o.align.h)+";overflow:hidden;width:"+a(o.width)+"px;transform:rotate("+a(o.rotate)+"deg)",s.push(t("div",{style:r},d)),t(i,0,s)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("designer/axis",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","./history"],(e,t,i)=>{let a,r={class:"rd-U"},d={class:"rd-S"};var l=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(r,d){function l(e){try{o(a.next(e))}catch(e){d(e)}}function s(e){try{o(a.throw(e))}catch(e){d(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(l,s)}o((a=a.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=e("magix"),o=e("../gallery/mx-dragdrop/index"),n=e("../gallery/mx-pointer/cursor"),p=e("./history");s.default.applyStyle("rd-a",".rd-G{height:20px;border-bottom:1px solid #ccc;overflow:hidden;width:100%;background:#fff;z-index:200;position:relative}.rd-H{top:0;width:1px}.rd-H,.rd-I{position:absolute;background:#fa742b;z-index:200;display:none;pointer-events:none}.rd-I{left:0;height:1px}.rd-J{float:left;overflow:hidden;z-index:200;position:relative}.rd-K,.rd-J{width:20px;border-right:1px solid #ccc;background:#fff}.rd-K{position:absolute;left:0;top:0;height:20px;border-bottom:1px solid #ccc;z-index:201}.rd-L{left:5px;top:22px}.rd-L,.rd-M{cursor:default;position:absolute;font-size:10px}.rd-M{top:2px;left:24px}.rd-N,.rd-O{position:relative;z-index:100}.rd-N{top:20px}.rd-O{left:20px}.rd-P{width:4px;border-left:1px solid #fa742b}.rd-P,.rd-Q{position:absolute;pointer-events:none}.rd-Q{height:1px;background:#fa742b}.rd-R{position:absolute;left:-15px;top:4px;font-size:10px;color:#666;cursor:pointer;pointer-events:all}.rd-S{top:2px;cursor:default}.rd-S,.rd-T{position:absolute;left:4px;font-size:10px;color:#666}.rd-T{top:-15px;cursor:pointer;pointer-events:all}.rd-U{position:absolute;left:4px;top:2px;font-size:10px;color:#666;cursor:default}.rd-V{width:25px;top:-1px;height:3px;left:30px;cursor:ns-resize}.rd-W,.rd-V{position:absolute;overflow:hidden;background:#fa742b;pointer-events:all}.rd-W{width:3px;left:-2px;height:25px;top:20px;cursor:ew-resize}");let u={.5:{space:200,step:10},1:{space:100,step:10},1.5:{space:80,step:10},2:{space:60,step:10},2.5:{space:48,step:8},3:{space:40,step:8},3.5:{space:32,step:8},4:{space:24,step:8},4.5:{space:16,step:8},5:{space:16,step:8}};t.default=s.default.View.extend({tmpl:(e,t,i,l,s,o,n,p)=>{let u,c,h,f,g,x,_,b,m,y,w=[],{sTop:v,yHelpers:k,yStart:A,scale:S,vWidth:M,i18n:z,sLeft:j,xHelpers:Y,xStart:T,vHeight:Q,width:P,step:I,space:R,hbar:O,barColor:X,bar:E,xEnd:C,height:L,yEnd:N}=e;u=[];for(let e=k.length,a=0;a<e;a+=1){let e=k[a];y=Math.abs(A)+e.mm*S+20,f=[t(0,0,"\ue600")],h=[t("i",{class:"rd-T rd-w",title:l(z("_")),"mx5-click":i+"\x1e_w({type:'y',id:'"+p(e.id)+"'})"},f)],f=[t(0,0,l(e.mm))],h.push(t("span",r,f),t("span",{class:"rd-V","mx5-mousedown":i+"\x1e_A({type:'y',id:'"+p(e.id)+"',c:"+l(y)+"})",title:l(z("a"))})),c=[t("div",{class:"rd-Q",style:"width:"+l(M)+"px;top:"+l(y)+"px"},h)],u.push(...c)}w.push(t("div",{class:"rd-O",style:"top:-"+l(v)+"px",id:i+"_y_help","mx5-contextmenu":i+"\x1e_B()"},u)),u=[];for(let e=Y.length,a=0;a<e;a+=1){let e=Y[a];y=Math.abs(T)+e.mm*S,f=[t(0,0,"\ue600")],h=[t("i",{class:"rd-R rd-w",title:l(z("_")),"mx5-click":i+"\x1e_w({type:'x',id:'"+p(e.id)+"'})"},f)],f=[t(0,0,l(e.mm))],h.push(t("span",d,f),t("span",{class:"rd-W","mx5-mousedown":i+"\x1e_A({type:'x',id:'"+p(e.id)+"',c:"+l(y)+"})",title:l(z("a"))})),c=[t("div",{class:"rd-P",style:"height:"+l(Q)+"px;left:"+l(y)+"px"},h)],u.push(...c)}w.push(t("div",{class:"rd-N",style:"left:-"+l(j)+"px",id:i+"_x_help","mx5-contextmenu":i+"\x1e_B()"},u)),f=[];for(let e=0;e<T;e+=I)g=[],e&&(x=[],(m=e/S)%R==0?(_=[t("rect",{width:"1",height:l(O),x:l(T-e),y:l(20-O-1),style:"fill:"+l(X)},0,0,1)],b=[t(0,0,l(-m))],_.push(t("text",{x:l(T-e+2),y:"14",style:"font-size:10px;fill:#999"},b)),x.push(..._)):(_=[t("rect",{width:"1",height:l(E),x:l(T-e),y:l(20-E-1),style:"fill:"+l(X)},0,0,1)],x.push(..._)),g.push(...x)),f.push(...g);for(let e=0;e<C;e+=I)g=[],(m=e/S)%R==0?(x=[t("rect",{width:"1",height:l(O),x:l(T+e),y:l(20-O-1),style:"fill:"+l(X)},0,0,1)],_=[t(0,0,l(m))],x.push(t("text",{x:l(T+e+2),y:"14",style:"font-size:10px;fill:#999"},_)),g.push(...x)):(x=[t("rect",{width:"1",height:l(E),x:l(T+e),y:l(20-E-1),style:"fill:"+l(X)},0,0,1)],g.push(...x)),f.push(...g);h=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+l(P)+" 19",style:"cursor:default;position:absolute;width:"+l(P)+"px;height:19px"},f)],c=[t("div",{style:"width:"+l(P)+"px;height:100%"},h)],u=[t("div",{class:"rd-G",id:i+"_x"},c)],h=[t(0,0,"-")],c=[t("span",{_:"_",class:"rd-L",id:i+"_x_tip"},h)],u.push(t("div",{class:"rd-H",id:i+"_x_line",style:"height:"+l(Q+20)+"px"},c)),w.push(t("div",{"mx5-mousemove":i+"\x1e_p()","mx5-mouseout":i+"\x1e_q()","mx5-click":i+"\x1e_u()"},u)),f=[];for(let e=0;e<A;e+=I)g=[],e&&(x=[],(m=e/S)%R==0?(_=[t("rect",{width:l(O),height:"1",x:l(20-O),y:l(A-e),style:"fill:"+l(X)},0,0,1)],b=[t(0,0,l(-m))],_.push(t("text",{x:"14",y:l(A-e+2),style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+l(A-e)+")"},b)),x.push(..._)):(_=[t("rect",{width:l(E),height:"1",x:l(20-E),y:l(A-e),style:"fill:"+l(X)},0,0,1)],x.push(..._)),g.push(...x)),f.push(...g);for(let e=0;e<N;e+=I)g=[],(m=e/S)%R==0?(x=[t("rect",{width:l(O),height:"1",x:l(20-O),y:l(A+e),style:"fill:"+l(X)},0,0,1)],_=[t(0,0,l(m))],x.push(t("text",{x:"14",y:l(A+e),style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+l(A+e-2)+")"},_)),g.push(...x)):(x=[t("rect",{width:l(E),height:"1",x:l(20-E),y:l(A+e),style:"fill:"+l(X)},0,0,1)],g.push(...x)),f.push(...g);return h=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 "+l(L),style:"cursor:default;position:absolute;width:19px;height:"+l(L)+"px"},f)],c=[t("div",{style:"height:"+l(L)+"px"},h)],u=[t("div",{class:"rd-J",style:"height:"+l(Q)+"px",id:i+"_y"},c)],h=[t(0,0,"-")],c=[t("span",{_:"a",class:"rd-M",id:i+"_y_tip"},h)],u.push(t("div",{class:"rd-I",id:i+"_y_line",style:"width:"+l(M+20)+"px"},c)),w.push(t("div",{"mx5-mousemove":i+"\x1e_r()","mx5-mouseout":i+"\x1e_s()","mx5-click":i+"\x1e_v()"},u)),a?w.push(a):w.push(a=t("div",{_:"b",class:"rd-K"})),t(i,0,w)},mixins:[o.default],init(e){let t=s.node(e.scroll);t.addEventListener("scroll",()=>{this.__()},{passive:!0}),this._a=t,this.set({bar:4,hbar:12,barColor:"#aaa"});let i=this._b(this.render);s.State.on("_",i),s.State.on("a",i),s.State.on("b",i),s.State.on("c",i),s.State.on("d",i),s.State.on("e",i)},_m(){return l(this,void 0,void 0,function*(){if(this._c){let e=this._a,t=s.State.get("_d"),i=Math.max(e.scrollWidth,window.innerWidth)+500,a=Math.max(e.scrollHeight,window.innerHeight)+300,r=0,d=0,l=20,o=0,n=0,p=10,c=10,h=s.node("stage_canvas"),f=s.node("stage_outer"),g=h.getBoundingClientRect(),x=f.getBoundingClientRect();d=i-(r=Math.round(g.left-x.left)+l),n=a-(o=Math.round(g.top-x.top)),p=e.offsetHeight,c=e.offsetWidth;let _=u[t],b=s.default.mark(this,"@{render}");yield this.digest({sTop:e.scrollTop,sLeft:e.scrollLeft,width:i,scale:t,space:_.space,step:_.step,height:a,xStart:r,xEnd:d,yStart:o,vHeight:p,vWidth:c,yEnd:n}),b()&&(this._e=s.node(this.id+"_x"),this._f=s.node(this.id+"_y"),this._g=s.node(this.id+"_x_line"),this._h=s.node(this.id+"_y_line"),this._i=s.node(this.id+"_x_tip"),this._j=s.node(this.id+"_y_tip"),this._k=s.node(this.id+"_x_help"),this._l=s.node(this.id+"_y_help"))}})},__(){let e=this._e,t=this._f,i=this._l,a=this._k,r=this._a,d=r.scrollTop,l=r.scrollLeft;e&&(e.scrollLeft=l),t&&(t.scrollTop=d),a&&(a.style.left=-l+"px"),i&&(i.style.top=-d+"px"),this.set({sLeft:l,sTop:d})},render(){this.set({xHelpers:s.State.get("_n"),yHelpers:s.State.get("_o")});let e=()=>{s.node("stage_canvas")?(this._c=1,this._m()):setTimeout(e,30)};setTimeout(e,0)},"_p<mousemove>"(e){let t=this._e,i=e.pageX,a=this.get("xStart"),r=this._g.style;r.display="block",r.left=i+"px";let d=i-a+t.scrollLeft,l=this.get("scale");this._i.innerHTML=(d/l).toFixed(0)},"_q<mouseout>"(e){s.default.inside(e.relatedTarget,e.eventTarget)||(this._g.style.display="none")},"_r<mousemove>"(e){let t=this.root.getBoundingClientRect(),i=e.pageY-t.top,a=this.get("yStart"),r=this._f,d=this._h.style;d.display="block",d.top=i+"px";let l=i-a-20+r.scrollTop,s=this.get("scale");this._j.innerHTML=(l/s).toFixed(0)},"_s<mouseout>"(e){s.default.inside(e.relatedTarget,e.eventTarget)||(this._h.style.display="none")},"_u<click>"(e){let t=(e.pageX-this.get("xStart")+this._e.scrollLeft)/this.get("scale")|0,i=this.get("xHelpers");i.push({mm:t,id:s.default.guid("x_")}),this.digest({xHelpers:i}),p.default._t()},"_v<click>"(e){let t=this.root.getBoundingClientRect(),i=(e.pageY-t.top-this.get("yStart")-20+this._f.scrollTop)/this.get("scale")|0,a=this.get("yHelpers");a.push({mm:i,id:s.default.guid("x_")}),this.digest({yHelpers:a}),p.default._t()},"_w<click>"(e){let{type:t,id:i}=e.params,a=t+"Helpers",r=this.get(a);for(let e=r.length;e--;)if(r[e].id==i){r.splice(e,1);break}this.digest({[a]:r}),p.default._t()},"_A<mousedown>"(e){if(e.target!=e.eventTarget)return;let t,{type:i,id:a,c:r}=e.params,d=i+"Helpers",l=this.get(d);for(let e of l)if(e.id==a){t=e;break}if(t){let a=this.get(i+"Start"),s=0;this._x(e,o=>{let p;s||(s=1,n.default._y(e.eventTarget)),p="x"==i?o.pageX-e.pageX+r:o.pageY-e.pageY+r-20,t.mm=(p-a)/this.get("scale")|0,this.digest({[d]:l})},()=>{s&&(n.default._z(),p.default._t())})}},"_B<contextmenu>"(e){e.preventDefault()},"$win<resize>"(){setTimeout(()=>{this._m()},0)}})}),define("designer/const",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_C:50,_d:1,_D:1280,_E:800}}),define("designer/content",["magix"],(e,t,i)=>{let a={class:"rd-o"},r={class:"rd-p",style:"word-break:break-all"},d={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix");l.default.applyStyle("rd-b",".rd-X{width:100%;height:500px}"),t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n=[],{i18n:p,body:u}=e;return o=[t(0,0,l(p("b")))],s=[t("h5",0,o)],n.push(t("div",a,s)),s=[t("textarea",{class:"rd-X rd-u",value:l(u)},0,d)],n.push(t("div",r,s)),t(i,0,n)},render(){let e=l.State.get("_F"),t=l.State.get("_G"),i=[];for(let t of e){let e,a={type:t.type,props:{}},r=t.ctrl.json;if(r)for(let i in t.props)1===(e=r[i])?a.props[i]=t.props[i]:e&&(a.props[i]=e(t.props[i]));else a.props=t.props;i.push(a)}let a={page:t,elements:i};this.digest({body:JSON.stringify(a,null,4)})}})}),define("designer/contextmenu",["magix","../i18n/index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("../i18n/index");let d={spliter:!0},l={id:0,text:"c",short:" (Ctrl+A)"},s={id:1,text:"d",short:" (Ctrl+C)"},o={id:14,text:"e",short:" (Ctrl+X)"},n={id:2,text:"f",short:" (Ctrl+V)"},p={id:5,text:"g"},u={id:6,text:"h"},c={id:3,text:"i"},h={id:4,text:"j"},f={id:7,text:"k",short:" (Delete)"},g={},x=e=>t=>{e["@:{menu@u.id}"]||(e["@:{menu@u.id}"]=a.default.guid("_m"));let i=t+e["@:{menu@u.id}"];if(!g[i]){let t=[];for(let i of e)i.spliter?t.push(i):t.push({id:i.id,text:r.default(i.text)+(i.short||"")});g[i]=t}return g[i]};t.default={allId:l.id,pasteId:n.id,topId:c.id,upId:p.id,bottomId:h.id,downId:u.id,cutId:o.id,copyId:s.id,deleteId:f.id,singleElement:x([s,o,f,d,p,c,d,u,h]),multipleElement:x([s,o,f]),stage:x([l,n])}}),define("designer/header",["magix","../elements/index","../gallery/mx-dragdrop/index","../gallery/mx-pointer/select","../gallery/mx-pointer/cursor","../gallery/mx-dialog/index"],(e,t,i)=>{let a,r,d,l,s={class:"rd-E rd-d"},o={class:"rd-C rd-E rd-d rd-j"},n={class:"rd-0 rd-Y rd-g"},p={class:"rd-2 rd-w"},u={class:"rd-3"},c={class:"rd-1"},h={class:"rd-w"};Object.defineProperty(t,"__esModule",{value:!0});const f=e("magix"),g=e("../elements/index"),x=e("../gallery/mx-dragdrop/index"),_=e("../gallery/mx-pointer/select"),b=e("../gallery/mx-pointer/cursor"),m=e("../gallery/mx-dialog/index");f.default.applyStyle("rd-c",".rd-Y,.rd-Z{width:60px;height:40px;display:grid;grid-template-rows:20px 20px;justify-items:center;align-items:center;cursor:pointer;margin:0 2px}.rd-0{grid-template-columns:50px 10px}.rd-Z{float:left;border-radius:2px}.rd-Z:hover{background:#bd361b}.rd-1{display:none;position:absolute;cursor:default;top:100%;left:0;width:264px;padding:4px}.rd-1,.rd-Y:hover{background:#e64e30}.rd-Y:hover .rd-1{display:block}.rd-2{grid-column:1/2;grid-row:1/2;align-self:flex-end}.rd-3{font-size:12px;font-weight:400;line-height:12px;grid-column:1/2;grid-row:2/3}.rd-4{font-size:10px;margin-left:-10px;grid-row:1/3;grid-column:2/3}.rd-5{height:30px;width:1px;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,.27)),color-stop(.3,#fff),color-stop(.7,#fff),to(hsla(0,0%,100%,.27)));margin:2px 12px;float:left}");let y=["requestFullscreen","webkitRequestFullScreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"];t.default=f.default.View.extend({tmpl:(e,t,i,f,g,x,_)=>{let b,m,y,w,v,k,A,S,M,z=[],{i18n:j,elements:Y}=e;a?b=[a]:(m=[t(0,0,"\ue679")],b=[a=t("i",{_:"_",class:"rd-a rd-w"},m)]),b.push(t(0,0,f(j("l"))+"\u2122")),z.push(t("div",s,b)),b=[];for(let e=Y.length,a=0;a<e;a+=1){let e=Y[a];if(m=[],e.spliter)y=r?[r]:[r=t("div",{_:"a",class:"rd-5"})],m.push(...y);else{if(y=[],e.subs){k=[t(0,1,f(e.icon))],v=[t("i",p,k)],k=[t(0,0,f(j(e.title)))],v.push(t("b",u,k)),d?v.push(d):(k=[t(0,0,"\ue73a")],v.push(d=t("i",{_:"b",class:"rd-4 rd-w"},k))),k=[];for(let r=e.subs,d=r.length,l=0;l<d;l+=1){let e=r[l];M=[t(0,1,f(e.icon))],S=[t("i",p,M)],M=[t(0,0,f(j(e.title)))],S.push(t("b",u,M)),A=[t("div",{class:"rd-Z","mx5-mousedown":i+"\x1e_N({ctrl:'"+_(x,e,"\x1e_."+a+".a."+l)+"',hide:true})"},S)],k.push(...A)}v.push(t("div",c,k)),w=[t("div",n,v)],y.push(...w)}else k=[t(0,1,f(e.icon))],v=[t("i",p,k)],k=[t(0,0,f(j(e.title)))],v.push(t("b",u,k)),w=[t("div",{class:"rd-Y rd-g","mx5-mousedown":i+"\x1e_N({ctrl:'"+_(x,e,"\x1e_."+a)+"'})"},v)],y.push(...w);m.push(...y)}b.push(...m)}return z.push(t("div",o,b)),l?z.push(l):(m=[t(0,0,"\u8054\u7cfbQQ:84685009")],b=[t("div",{style:"font-size:14px;margin-right:20px"},m)],y=[t(0,0,"\ue64a")],m=[t("i",h,y)],y=[t(0,0,"\u9884\u89c8")],m.push(t("b",u,y)),b.push(t("div",{class:"rd-Y","mx5-click":i+"\x1e_O()"},m)),y=[t(0,0,"\ue6b0")],m=[t("i",h,y)],y=[t(0,0,"\u4fdd\u5b58")],m.push(t("b",u,y)),b.push(t("div",{class:"rd-Y","mx5-click":i+"\x1e_t()"},m)),y=[t(0,0,"\ue764")],m=[t("i",h,y)],y=[t(0,0,"\u5c55\u793a")],m.push(t("b",u,y)),b.push(t("div",{class:"rd-Y","mx5-click":i+"\x1e_P()"},m)),z.push(l=t("div",{_:"c",class:"rd-D rd-E rd-e rd-j"},b))),t(i,0,z)},mixins:[x.default,m.default],render(){this.digest({elements:g.default._H()})},"_N<mousedown>"(e){let{ctrl:t,hide:i}=e.params,a=e.eventTarget.parentNode,r=!1,d=null;f.State.set({_I:t});let l=t.getProps(0,0),{width:s,height:o}=l,n=f.State.get("_d");s*=n,o*=n,_.default._J(),b.default._K("move"),this._x(e,e=>{r||i&&(a.style.display="none"),f.State.fire("f",{width:s,height:o,node:x.default._L(e.clientX,e.clientY),pageX:e.pageX-s/2,pageY:e.pageY-o/2}),r=!0},e=>{i&&(a.style.display=""),_.default._z(),b.default._M(),r?e&&(d=x.default._L(e.clientX,e.clientY),f.State.fire("h",{node:d,pageX:e.pageX-s/2,pageY:e.pageY-o/2})):f.State.fire("g",{pageX:50*Math.random()|0,pageY:50*Math.random()|0})})},"_O<click>"(){let e=f.node("stage_outer");for(let t of y)if(e[t]){e[t]();break}},"_t<click>"(){this.mxDialog("designer/content",{width:800})},"_P<click>"(){window.open("./display.html")},"$doc<webkitfullscreenchange,mozfullscreenchange,fullscreenchange>"(e){let t=document,i=t.fullscreenElement||t.webkitCurrentFullScreenElement||t.mozFullScreenElement||null;f.State.fire("i",{fullscreen:!0,full:!!i})}})}),define("designer/history",["magix","./const"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("./const");let d=[],l=[],s=null,o=-1,n="",p=null,u=()=>JSON.stringify({page:a.State.get("_G"),scale:a.State.get("_d"),elements:a.State.get("_F"),select:a.State.get("_Q"),xLines:a.State.get("_n"),yLines:a.State.get("_o")}),c=e=>{let t=JSON.parse(e),i=a.State.get("_d"),r=t.scale||i;a.State.fire("_",{json:t,scale:i!==r})};t.default={_R(){p||(p=u())},_S:()=>({canRedo:l.length,canUndo:d.length}),_T(){d.length=0,l.length=0},_U(){if(d.length>0){let e=d.pop();l.push(e);let t=d[d.length-1]||p;c(t)}},_V(){let e=l.pop();e&&(d.push(e),c(e))},_t(e="_save",t=0){let i=u();e!=n&&(s&&(d.push(s),s=null),n=e),l.length=0;let c=e=>{d.push(e),d.length>r.default._C&&(p=d.shift()),a.State.fire("j")};t?(s=i,clearTimeout(o),o=setTimeout(()=>{c(s),s=null},t)):c(i)}}}),define("designer/index",["magix","../elements/index","../gallery/mx-dialog/index","./const","./history","../panels/index","./header","./toolbar","./axis","./stage"],(e,t,i)=>{let a;e("./header"),e("./toolbar"),e("./axis"),e("./stage");var r=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(r,d){function l(e){try{o(a.next(e))}catch(e){d(e)}}function s(e){try{o(a.throw(e))}catch(e){d(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(l,s)}o((a=a.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../elements/index"),s=e("../gallery/mx-dialog/index"),o=e("./const"),n=e("./history"),p=e("../panels/index");let u=l.default._W();d.default.applyStyle("rd-d",".rd-6{background:#fa742b;height:40px;line-height:40px;font-size:16px;padding:0 10px;color:#fff;z-index:202}.rd-6,.rd-7{position:relative}.rd-7{padding:0 26px;background:#fafafa;color:#333;height:26px;z-index:201;border-bottom:1px solid #eee}.rd-8{width:calc(100% - 20px);overflow:scroll;height:calc(100% - 85px);background-color:#edeef3;transition:all .3s;margin-left:20px;-webkit-overflow-scrolling:touch}.rd-9{box-shadow:inset 1px 1px 6px 2px #dadada}"),t.default=d.default.View.extend({tmpl:(e,t,i)=>{if(!a){let e=[];e.push(t("div",{"mx5-view":"designer/header",class:"rd-6"}),t("div",{"mx5-view":"designer/toolbar",class:"rd-7 rd-j"}),t("div",{"mx5-view":"designer/axis?scroll=stage",class:"rd-g rd-j"}),t("div",{"mx5-view":"designer/stage",id:"stage",class:"rd-8 rd-9 rd-k"})),a=t(i,0,e)}return a},mixins:[s.default],init(){d.State.on("_",e=>{(e=>{let t=d.State.get("_G"),i=d.State.get("_F"),a=d.State.get("_Q"),r=d.State.get("_n"),s=d.State.get("_o"),{elements:o,map:n}=l.default._X(e.elements);i.length=0,i.push(...o),r.length=0,e.xLines&&r.push(...e.xLines),s.length=0,e.yLines&&s.push(...e.yLines);let p={};if(a.length=0,e.select)for(let t of e.select){let e=n[t.id];e&&(p[e.id]=1,a.push(e))}Object.assign(t,e.page),d.State.set({_d:e.scale||1,_Y:p})})(e.json)}),d.State.set({_Z:u,_G:u.getProps(),_d:o.default._d,_F:[],_Q:[],_Y:{},_n:[],_o:[]}),n.default._R()},render(){return r(this,void 0,void 0,function*(){let e=d.default.mark(this,"@{render}");yield this.digest(),e()&&p.default._0()})}})}),define("designer/keys",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UP:38,DOWN:40,LEFT:37,RIGHT:39,DELETE:46,BACKSPACE:8,TAB:9,C:67,V:86,A:65,N:78,X:88,Z:90,Y:89}}),define("designer/props",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_1:2,_2:4,_3:8,_4:16,_5:32,_6:64,_7:128,_8:256,_9:512,_a_:1024,_aa:2048}}),define("designer/service",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");let r=a.default.Service.extend((e,t)=>{let i=e.get("method")||"GET";fetch(e.get("url"),{method:i,credentials:"include"}).then(e=>{if(e.ok)return e.json();throw new Error("Network response error")}).then(i=>{e.set("data",i.data),t()}).catch(e=>{t({msg:e.message})})});r.add([{name:"_ab",url:a.default.config("getImageUrl"),cache:18e5}]),t.default={fetch:(e,t)=>(new r).all(e,t),save:(e,t)=>(new r).save(e,t),lock(e,t){this._ac||(this._ac={});let i=this._ac;i[e]||(i[e]=t,t())},unlock(e){let t=this._ac;t&&delete t[e]}}}),define("designer/stage-clipboard",["magix","./stage-elements","./stage-select"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("./stage-elements"),d=e("./stage-select");let l=e=>{if(Array.isArray(e)){let t=[];for(let i of e)t.push(l(i));e=t}else if("Object"==a.default.type(e)){let t={};for(let i in e)t[i]=l(e[i]);e=t}return e};t.default={_ae(){return(this._ad||[]).length},_af(){return this._ad||[]},_ag(){let e=[],t=a.State.get("_Q");for(let i of t)e.push(i);this._ad=e},_ai(){let e=a.State.get("_Q");1==e.length&&e[0].props.locked||(this._ag(),this._ah=!0)},_al(e){let t=this,i=t._ad,s=a.State.get("_F"),o=!1;if(i){o=!0;let n=[],p=0,u=0,c=0,h=e=>{for(let t of s)if(t.props.x==e.x&&t.props.y==e.y)return 1;return 0},f=({props:t,ctrl:i})=>{if(0===p)if(e)u=e.x-t.x,c=e.y-t.y;else{let e={x:t.x,y:t.y};for(;h(e);)e.x+=20,e.y+=20;for(e.x+t.width<0&&(e.x=-t.width/2),e.y+t.height<0&&(e.y=-t.height/2);h(e);)e.x-=4,e.y-=4;u=e.x-t.x,c=e.y-t.y}for(let e of i.moved)t[e.key]=t[e.key]+("x"==e.use?u:c);t.locked=!1};for(let e of i){let i=l(e);f(i),p++,i.id=a.default.guid("e_"),s.push(i),n.push(i),t._ah&&r.default._aj(e.id,!0)}t._ah&&(delete t._ah,delete t._ad),a.State.fire("c"),d.default._ak(n)}return o}}}),define("designer/stage-elements",["magix","./stage-select","./history","../gallery/mx-pointer/cursor","../util/transform"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("./stage-select"),d=e("./history"),l=e("../gallery/mx-pointer/cursor"),s=e("../util/transform");let o=(e,t)=>{let i=e.start,a=e.end,r=t.start,d=t.end,l=((a.x-i.x)*(r.y-i.y)-(a.y-i.y)*(r.x-i.x))*((a.x-i.x)*(d.y-i.y)-(a.y-i.y)*(d.x-i.x)),s=((d.x-r.x)*(i.y-r.y)-(d.y-r.y)*(i.x-r.x))*((d.x-r.x)*(a.y-r.y)-(d.y-r.y)*(a.x-r.x));return l<0&&s<0};t.default={_N(e,t){let i=a.State.get("_I");if(i){let d=a.State.get("_F"),l=i.getProps(e.pageX,e.pageY),s=a.State.get("_d"),o={};for(let e of i.scales)o[e]=l[e]*s;let n=o.x-l.x,p=o.y-l.y;for(let e of i.moved)"x"==e.use?o[e.key]-=n:o[e.key]-=p;for(let e in o)l[e]=o[e];let u={id:a.default.guid("e_"),ctrl:i,type:i.type,props:l};return d.push(u),t&&r.default._am(u),d}},_ap(e,t){if(e.shiftKey||e.ctrlKey||e.metaKey){if(!t.props.locked){let e=a.State.get("_Q"),i=!1;for(let a=e.length;a--;){let r=e[a];r.id==t.id&&(i=!0),r.props.locked&&e.splice(a,1)}if(i&&e.length>1)return void(r.default._an(t)&&d.default._t());r.default._ao(t)&&d.default._t()}}else r.default._am(t)&&d.default._t()},_ar(e,t){let{element:i}=e.params,s=a.State.get("_Q");if(void 0===e.button||0==e.button)if(e.shiftKey||e.ctrlKey||e.metaKey)this._ap(e,i);else{l.default._aq("move");let o=[],n=!1;for(let{id:e,ctrl:t,props:a}of s){i.id==e&&(n=!0);let r={};for(let e of t.moved)r[e.key]=a[e.key];o.push(r)}if(!n){r.default._am(i)&&d.default._t(),o.length=0;let e={};for(let t of i.ctrl.moved)e[t.key]=i.props[t.key];o.push(e),s.length=0,s.push(i)}let p=!1;a.State.fire("k",{show:1}),t._x(e,t=>{let i=t.pageX-e.pageX,r=t.pageY-e.pageY,d=0;for(let e of s){let t=o[d++];if(!e.props.locked){p=!0;for(let a of e.ctrl.moved)e.props[a.key]=t[a.key]+("x"==a.use?i:r);let d=a.Vframe.byNode(a.node(e.id));d&&d.invoke("assign",[{element:e}])&&d.invoke("render")}}a.State.fire("d")},()=>{p&&d.default._t(),l.default._z(),a.State.fire("k")})}else{let e=!1;for(let t of s)if(t.id===i.id){e=!0;break}e||r.default._am(i)&&d.default._t()}},_as(){let e=a.State.get("_Q"),t=a.State.get("_F"),i=!1;if(e.length){let d=a.toMap(e,"id");for(let e=t.length;e--;)d[t[e].id]&&(i=!0,t.splice(e,1));i&&r.default._am()}return i},_au(){let e,t,i=a.State.get("_F"),r=[];for(let a of i){if((e=a.props).locked)continue;t=e.rotate||0;let i={x:e.x,y:e.y,width:e.width,height:e.height},d=s.default._at(i,t),l=d.point[0],o=d.point[2],n=d.point[6],p=d.point[4],u=l,c=l,h=l,f=l;for(let e of[o,n,p])e.x<u.x&&(u=e),e.x>h.x&&(h=e),e.y<c.y&&(c=e),e.y>f.y&&(f=e);r.push({element:a,left:u,top:c,right:h,bottom:f,points:[l,o,n,p],lines:[{start:l,end:o},{start:o,end:p},{start:p,end:n},{start:n,end:l}]})}return r},_av(e,t,i){let a,r=[],d=[{start:{x:t.x,y:t.y},end:{x:t.x+t.width,y:t.y}},{start:{x:t.x+t.width,y:t.y},end:{x:t.x+t.width,y:t.y+t.height}},{start:{x:t.x+t.width,y:t.y+t.height},end:{x:t.x,y:t.y+t.height}},{start:{x:t.x,y:t.y+t.height},end:{x:t.x,y:t.y}}];for(let l of e)if(a=!1,i&&i[l.element.id])i&&r.push(l.element);else{for(let e of l.points)if(e.x>=t.x&&e.y>=t.y&&e.x<=t.x+t.width&&e.y<=t.y+t.height){r.push(l.element),a=!0;break}if(!a)for(let e of l.lines){for(let t of d)if(o(e,t)){a=!0,r.push(l.element);break}if(a)break}}return r},_aj(e,t){let i=a.State.get("_F");for(let t=i.length;t--;)e==i[t].id&&i.splice(t,1);t||r.default._ak()},_ax(){let e=a.State.get("_Y"),t=a.State.get("_F"),i=[];for(let e of t)e.props.locked||i.push(e);r.default._ak(i),r.default._aw(e)&&d.default._t()},_ay(e,t){let i=a.State.get("_F"),r=-1;for(let e=i.length;e--;)if(i[e].id===t.id){i.splice(r=e,1);break}return 3==e?i.push(t):4==e?i.unshift(t):5==e?i.splice(r+1,0,t):6==e&&(0===r&&(r=1),i.splice(r-1,0,t)),!0},_az(e){let t=a.State.get("_Q"),i=a.State.get("_F"),d=t.length,l=t[0];if(0===d||d>1)l=i[e.shiftKey?0:i.length-1],r.default._am(l);else{let t,a;for(let e=i.length;e--;){let r=i[e];if(r.id==l.id){t=i[e-1];break}a=r}let d=null;e.shiftKey?(t||(t=i[i.length-1]),d=t):(a||(a=i[0]),d=a),d.id!=l.id&&r.default._am(d)}}}}),define("designer/stage-select",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default={_am(e){let t=a.State.get("_Q"),i=t.length;if(i||e){let r=i>1?null:t[0];t.length=0;let d=!1;if(e?(t.push(e),d=e!=r):i&&(d=!0),d)return a.State.set({_Y:a.toMap(t,"id")}),a.State.fire("l"),!0}},_ao(e){let t=a.State.get("_Q"),i=!1;for(let a of t)if(a.id===e.id){i=!0;break}if(!i)return t.push(e),a.State.set({_Y:a.toMap(t,"id")}),a.State.fire("l"),!0},_an(e){let t=a.State.get("_Q"),i=!1,r=-1;for(let a of t)if(r++,a.id===e.id){i=!0;break}if(i)return t.splice(r,1),a.State.set({_Y:a.toMap(t,"id")}),a.State.fire("l"),!0},_ak(e){let t=a.State.get("_Q");t.length=0,e&&t.push.apply(t,e),a.State.set({_Y:a.toMap(t,"id")}),a.State.fire("l")},_aw(e){let t=a.State.get("_Y"),i=0;for(let a in e)if(!t[a]){i=1;break}if(!i)for(let a in t)if(!e[a]){i=1;break}return i}}}),define("designer/stage",["magix","../gallery/mx-dragdrop/index","./history","./keys","./stage-elements","./stage-select","./stage-clipboard","../util/converter","../gallery/mx-pointer/select","../gallery/mx-pointer/cursor","../gallery/mx-menu/index","./contextmenu"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("../gallery/mx-dragdrop/index"),d=e("./history"),l=e("./keys"),s=e("./stage-elements"),o=e("./stage-select"),n=e("./stage-clipboard"),p=e("../util/converter"),u=e("../gallery/mx-pointer/select"),c=e("../gallery/mx-pointer/cursor"),h=e("../gallery/mx-menu/index"),f=e("./contextmenu");a.default.applyStyle("rd-e",".rd-a_{outline:0;display:flex;position:relative}.rd-aa{padding:50px 240px 50px 120px}.rd-ab .rd-aa{padding:0}.rd-ac{background:#fff;box-shadow:0 3px 6px 0 rgba(0,0,0,.3)}"),t.default=a.default.View.extend({tmpl:(e,t,i,a,r,d,l)=>{let s,o,n,p,u,c,h=[],{fullscreen:f,rx:g,ry:x,marginTop:_,marginLeft:b,page:m,scale:y,elements:w}=e;u=[];for(let e=w.length,r=0;r<e;r+=1){let e=w[r];c=[t("div",{$:"elements,scale,fullscreen",id:a(e.id),"mx5-view":"elements/"+a(e.type)+"/designer?element="+l(d,e,"\x1e_."+r)+"&scale="+l(d,y,"\x1eb")+"&fullscreen="+l(d,f,"\x1ec"),"mx5-mousedown":i+"\x1e_aC({element:'"+l(d,e,"\x1e_."+r)+"'})"})],u.push(...c)}return p="width:"+a(m.width*y)+"px;height:"+a(m.height*y)+"px;background:"+a(m.background)+";",m.backgroundImage&&(p+="background-image:url("+a(m.backgroundImage)+");background-repeat:"+a("full"==m.backgroundRepeat?"no-repeat":m.backgroundRepeat)+";background-size:","full"==m.backgroundRepeat?p+="100% 100%":p+=a(m.backgroundWidth*y)+"px "+a(m.backgroundHeight*y)+"px;background-position:"+a(m.hor)+"% "+a(m.ver)+"%"),n=[t("div",{class:"rd-ac rd-g",id:"stage_canvas",style:p},u)],o=[t("div",{class:"rd-aa",style:f&&"transform:scaleX("+a(g)+") scaleY("+a(x)+");transform-origin:0 0;margin:"+a(_)+"px 0 0 "+a(b)+"px;"},n)],s="rd-a_",f&&(s+=" rd-ab"),h.push(t("div",{id:"stage_outer","mx5-contextmenu":i+"\x1e_B()","mx5-mousedown":i+"\x1e_aE()",tabindex:"0","mx5-focusin":i+"\x1e_aG()","mx5-focusout":i+"\x1e_aH()","mx5-keydown":i+"\x1e_aF()",class:s},o),t("div",{id:"pole_"+i,style:"margin-top:-"+a(m.height*y+100)+"px;display:none"})),t(i,0,h)},mixins:[r.default],init(){let e=e=>{if(e.node){if(!a.default.inside(e.node,a.node("stage_outer")))return;{let t=p.default._aA({x:e.pageX,y:e.pageY});e.pageX=t.x,e.pageY=t.y}}else e.pageX+=this.root.scrollLeft,e.pageY+=this.root.scrollTop;s.default._N(e,!0)&&(a.State.fire("c"),d.default._t())},t=e=>{let t=a.State.get("_F");e?this.digest({elements:t}):this.set({elements:t})},i=0,r=e=>{let t=a.State.get("_F");if(e.step||e.fullscreen){if(e.fullscreen){let t=a.State.get("_G");if(e.full){let r=screen.width/t.width,d=screen.height/t.height,l=Math.min(r,d),s=0,o=0;"auto"==t.scaleType?(s=l,o=l):(s=r,o=d);let n=(screen.height-o*t.height)/2,p=(screen.width-s*t.width)/2,u=a.State.get("_d");1!=u?(e.step=1/u,i=u):i=0,a.State.set({_d:1}),this.set({rx:s,ry:o,marginTop:n,marginLeft:p})}else 0!=i&&(e.step=i,a.State.set({_d:i}));this.set({fullscreen:e.full})}if(e.step)for(let{props:i,ctrl:a}of t)if(a.scales)for(let t of a.scales)i[t]*=e.step}this.set({elements:t}),this.render()};a.State.on("i",r),a.State.on("_",r),a.State.on("a",r),a.State.on("b",r),a.State.on("g",e),a.State.on("h",e),a.State.on("c",t),a.State.on("k",e=>{let t=this.root,i=a.node("pole_"+this.id).style;e.show?(i.width=t.scrollWidth+"px",i.height=t.scrollHeight+"px",i.display="block"):i.display="none"}),a.State.on("f",e=>{a.default.inside(e.node,a.node("stage_outer"))?u.default._aB(e.pageX,e.pageY,e.width,e.height):u.default._z()}),t()},render(){let e=a.State.get("_G");this.digest({scale:a.State.get("_d"),page:e})},"_aC<mousedown>"(e){this.get("fullscreen")||s.default._ar(e,this)},"_aE<mousedown>"(e){if(this.get("fullscreen"))return;let t=e.target;if("stage_canvas"==t.id||a.default.inside(a.node("stage_canvas"),t)){let t=null,i=0,r=a.State.get("_Y");if(e.shiftKey){t={};let e=a.State.get("_Q");for(let a of e)t[a.id]=1,i++}else o.default._am();this._aD=i,u.default._J();let l=0,n=s.default._au();this._x(e,i=>{l||(l=1,c.default._aq("default"));let a=Math.abs(e.pageX-i.pageX),r=Math.abs(e.pageY-i.pageY),d=Math.min(e.pageX,i.pageX),h=Math.min(e.pageY,i.pageY);u.default._aB(d,h,a,r);let f=p.default._aA({x:d,y:h});if(f.width=a,f.height=r,n.length){let e=s.default._av(n,f,t),i=e.length;i!==this._aD&&(this._aD=i,o.default._ak(e))}},()=>{l&&(u.default._z(),c.default._z()),o.default._aw(r)&&d.default._t()})}},"_aF<keydown>"(e){if(!this.get("fullscreen"))if(e.metaKey||e.ctrlKey)e.keyCode==l.default.Z?(e.preventDefault(),e.shiftKey?d.default._V():d.default._U()):e.keyCode==l.default.Y?(e.preventDefault(),d.default._V()):e.keyCode==l.default.A?(e.preventDefault(),s.default._ax()):e.keyCode==l.default.X?(e.preventDefault(),n.default._ai()):e.keyCode==l.default.C?(e.preventDefault(),n.default._ag()):e.keyCode==l.default.V&&(e.preventDefault(),n.default._al());else if(e.keyCode==l.default.TAB)e.preventDefault(),s.default._az(e);else if(e.keyCode==l.default.DELETE||e.keyCode==l.default.BACKSPACE)e.preventDefault(),s.default._as()&&(a.State.fire("c"),d.default._t());else{let t=e.shiftKey?10:1;t*=a.State.get("_d");let i=a.State.get("_Q");if(i.length){let r=!1,s=0,o="";for(let d of i)if(!d.props.locked&&(e.keyCode==l.default.UP?(r=!0,s=-t,o="y"):e.keyCode==l.default.DOWN?(r=!0,s=t,o="y"):e.keyCode==l.default.LEFT?(r=!0,s=-t,o="x"):e.keyCode==l.default.RIGHT&&(r=!0,s=t,o="x"),r)){let e=a.Vframe.byNode(a.node(d.id));if(e){for(let e of d.ctrl.moved)e.use==o&&(d.props[e.key]+=s);e.invoke("assign",[{element:d}])&&e.invoke("render")}}r&&(e.preventDefault(),a.State.fire("d"),d.default._t("_",500))}}},"_B<contextmenu>"(e){if(e.preventDefault(),a.default.inside(e.target,a.node("stage_canvas"))){let t=a.default.config("lang"),i=f.default.stage(t),r={},l=a.State.get("_F"),o=a.State.get("_Q"),u=n.default._ae();r[f.default.allId]=!l.length,r[f.default.pasteId]=!u;let c=o.length,g=o[0];if(1==c){i=f.default.singleElement(t);let e=l[l.length-1],a=l[0],d=e.id==g.id,s=a.id==g.id,o=g.props.locked;r[f.default.cutId]=o,r[f.default.upId]=o||d,r[f.default.topId]=o||d,r[f.default.bottomId]=o||s,r[f.default.downId]=o||s}else c>1&&(i=f.default.multipleElement(t));h.default.show(this,e,{list:i,disabled:r,picked(t){if(t.id==f.default.allId)s.default._ax();else if(t.id==f.default.copyId)n.default._ag();else if(t.id==f.default.pasteId){let t=p.default._aA({x:e.pageX,y:e.pageY});n.default._al(t)&&d.default._t()}else t.id==f.default.cutId?n.default._ai():t.id==f.default.deleteId?s.default._as()&&(a.State.fire("c"),d.default._t()):t.id>=3&&t.id<=6&&s.default._ay(t.id,g)&&(a.State.fire("c"),d.default._t())}})}},"_aG<focusin>"(){this.root.classList.remove("rd-9")},"_aH<focusout>"(){this.root.classList.add("rd-9")}})}),define("designer/toolbar-align",["magix","./history"],(e,t,i)=>{let a;Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),d=e("./history");let l=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l,s=[],{elements:o,i18n:n}=e,p=o.length;return a?s.push(a):s.push(a=t("i",{_:"_",class:"rd-ag"})),l=[t(0,0,"\ue70b")],d="rd-w rd-ae",p<2&&(d+=" rd-ah"),s.push(t("i",{title:r(n("m")),"mx5-click":i+"\x1e_aI({to:'left'})",class:d},l)),l=[t(0,0,"\ue711")],d="rd-w rd-ae",p<2&&(d+=" rd-ah"),s.push(t("i",{title:r(n("n")),"mx5-click":i+"\x1e_aI({to:'center'})",class:d},l)),l=[t(0,0,"\ue70c")],d="rd-w rd-ae",p<2&&(d+=" rd-ah"),s.push(t("i",{title:r(n("o")),"mx5-click":i+"\x1e_aI({to:'right'})",class:d},l)),l=[t(0,0,"\ue70d")],d="rd-w rd-ae",p<2&&(d+=" rd-ah"),s.push(t("i",{title:r(n("p")),"mx5-click":i+"\x1e_aI({to:'top'})",class:d},l)),l=[t(0,0,"\ue712")],d="rd-w rd-ae",p<2&&(d+=" rd-ah"),s.push(t("i",{title:r(n("q")),"mx5-click":i+"\x1e_aI({to:'middle'})",class:d},l)),l=[t(0,0,"\ue70e")],d="rd-w rd-ae",p<2&&(d+=" rd-ah"),s.push(t("i",{title:r(n("r")),"mx5-click":i+"\x1e_aI({to:'bottom'})",class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);r.State.on("_",e),r.State.on("l",e)},render(){this.digest({elements:r.State.get("_Q")})},"_aI<click>"(e){if(e.eventTarget.classList.contains("rd-ah"))return;let{to:t}=e.params,i=r.State.get("_Q"),a=s,o=l,n=l,p=s,u=l,c=l;for(let e of i){let i=r.node("mask_"+e.id).getBoundingClientRect();if("right"==t)i.right>a&&(a=i.right);else if("left"==t)i.left<o&&(o=i.left);else if("top"==t)i.top<n&&(n=i.top);else if("bottom"==t)i.bottom>p&&(p=i.bottom);else if("middle"==t){let e=(i.bottom-i.top)/2;i.top+e<u&&(u=i.top+e)}else if("center"==t){let e=(i.right-i.left)/2;i.left+e<c&&(c=i.left+e)}}let h=0;for(let e of i){let i,d=r.node("mask_"+e.id).getBoundingClientRect(),l=0,s="";if("right"==t?0!=(i=a-d.right)&&(h=1,l=1,s="x"):"left"==t?0!=(i=o-d.left)&&(h=1,l=1,s="x"):"top"==t?0!=(i=n-d.top)&&(h=1,l=1,s="y"):"bottom"==t?0!=(i=p-d.bottom)&&(h=1,l=1,s="y"):"middle"==t?0!=(i=u-(d.top+(d.bottom-d.top)/2))&&(h=1,l=1,s="y"):"center"==t&&0!=(i=c-(d.left+(d.right-d.left)/2))&&(h=1,l=1,s="x"),l){let t=r.Vframe.byNode(r.node(e.id));if(t){for(let t of e.ctrl.moved)t.use==s&&(e.props[t.key]+=i);t.invoke("assign",[{element:e}])&&t.invoke("render")}}}h&&(r.State.fire("d"),d.default._t())}})}),define("designer/toolbar-del",["magix","./stage-elements","./history"],(e,t,i)=>{let a;Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),d=e("./stage-elements"),l=e("./history");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l,s=[],{elements:o,i18n:n}=e,p=o.length;return a?s.push(a):s.push(a=t("i",{_:"_",class:"rd-ag"})),l=[t(0,0,"\ue600")],d="rd-w rd-ae",p<1&&(d+=" rd-ah"),s.push(t("i",{title:r(n("k"))+"(Delete)","mx5-click":i+"\x1e_aJ()",class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);r.State.on("_",e),r.State.on("l",e)},render(){this.digest({elements:r.State.get("_Q")})},"_aJ<click>"(e){e.eventTarget.classList.contains("rd-ah")||d.default._as()&&(r.State.fire("c"),l.default._t())}})}),define("designer/toolbar-do",["magix","./history"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("./history");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let r,d,l=[],{status:s,i18n:o}=e;return d=[t(0,0,"\ue682")],r="rd-w rd-ae",s.canUndo||(r+=" rd-ah"),l.push(t("i",{title:a(o("s")),"mx5-click":i+"\x1e_aK({s:'-',b:"+a(s.canUndo)+"})",class:r},d)),d=[t(0,0,"\ue682")],r="rd-w rd-ae rd-B",s.canRedo||(r+=" rd-ah"),l.push(t("i",{title:a(o("t")),"mx5-click":i+"\x1e_aK({s:'+',b:"+a(s.canRedo)+"})",class:r},d)),t(i,0,l)},init(){let e=this.render.bind(this);a.State.on("_",e),a.State.on("j",e)},render(){this.digest({status:r.default._S()})},"_aK<click>"(e){let{s:t,b:i}=e.params;i&&("-"==t?r.default._U():r.default._V())}})}),define("designer/toolbar-layer",["magix","./history","./stage-elements"],(e,t,i)=>{let a;Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),d=e("./history"),l=e("./stage-elements");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l,s,o=[],{elements:n,top:p,i18n:u,bottom:c}=e;d="";let h=n.length;d+=" ";let f=n[0];return a?o.push(a):o.push(a=t("i",{_:"_",class:"rd-ag"})),s=[t(0,0,"\ue632")],l="rd-w rd-ae",(1!=h||f.props.locked||p.id==f.id)&&(l+=" rd-ah"),o.push(t("i",{title:r(u("g")),"mx5-click":i+"\x1e_ay({to:5})",class:l},s)),s=[t(0,0,"\ue607")],l="rd-w rd-ae",(1!=h||f.props.locked||p.id==f.id)&&(l+=" rd-ah"),o.push(t("i",{title:r(u("i")),"mx5-click":i+"\x1e_ay({to:3})",class:l},s)),s=[t(0,0,"\ue632")],l="rd-w rd-ae rd-z",(1!=h||f.props.locked||c.id==f.id)&&(l+=" rd-ah"),o.push(t("i",{title:r(u("h")),"mx5-click":i+"\x1e_ay({to:6})",class:l},s)),s=[t(0,0,"\ue607")],l="rd-w rd-ae rd-z",(1!=h||f.props.locked||c.id==f.id)&&(l+=" rd-ah"),o.push(t("i",{title:r(u("j")),"mx5-click":i+"\x1e_ay({to:4})",class:l},s)),t(i,0,o)},init(){let e=this.render.bind(this);r.State.on("_",e),r.State.on("c",e),r.State.on("l",e)},render(){let e=r.State.get("_F");this.digest({top:e[e.length-1],bottom:e[0],elements:r.State.get("_Q")})},"_ay<click>"(e){if(e.eventTarget.classList.contains("rd-ah"))return;let{to:t}=e.params,i=this.get("elements")[0];l.default._ay(t,i)&&(r.State.fire("c"),d.default._t())}})}),define("designer/toolbar-panels",["magix","../panels/index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),r=e("../panels/index");t.default=a.default.View.extend({tmpl:(e,t,i,a,r,d,l,s)=>{let o,n,p,u=[],{panels:c,i18n:h}=e;for(let e=c.length,r=0;r<e;r+=1){let e=c[r];p=[t(0,1,a(e.icon))],n="rd-w rd-ae",e.opened&&(n+=" rd-af"),o=[t("i",{"mx5-click":i+"\x1e_aM({id:'"+s(e.id)+"'})",title:a(h(e.opened?"u":"v",e.title)),class:n},p)],u.push(...o)}return t(i,0,u)},init(){a.State.on("m",()=>{this.render()})},render(){this.digest({panels:r.default._aL()})},"_aM<click>"(e){let{id:t}=e.params;r.default._aM(t)}})}),define("designer/toolbar-scale",["magix","./history"],(e,t,i)=>{let a={class:"rd-ai"};Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),d=e("./history");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l=[],{i18n:s,scale:o}=e;return d=[t(0,0,"\ue602")],l.push(t("i",{class:"rd-ae rd-w","mx5-click":i+"\x1e_aN({s:'-'})",title:r(s("w"))},d)),d=[t(0,0,r(100*o)+"%")],l.push(t("b",a,d)),d=[t(0,0,"\ue699")],l.push(t("i",{class:"rd-ae rd-w","mx5-click":i+"\x1e_aN({s:'+'})",title:r(s("x"))},d)),t(i,0,l)},init(){let e=this.render.bind(this);r.State.on("a",e),r.State.on("_",e)},render(){this.digest({scale:r.State.get("_d")})},"_aN<click>"(e){let{s:t}=e.params,i=this.get("scale"),a=i;"+"==t?(i+=.5)>5&&(i=5):(i-=.5)<.5&&(i=.5),a!=i&&(r.State.set({_d:i}),r.State.fire("a",{step:i/a}),d.default._t())}})}),define("designer/toolbar-space",["magix","./history"],(e,t,i)=>{let a;Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),d=e("./history");let l=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let d,l,s=[],{elements:o,bezier:n,i18n:p}=e,u=o.length;return a?s.push(a):s.push(a=t("i",{_:"_",class:"rd-ag"})),l=[t(0,0,"\ue604")],d="rd-w rd-ae",(u<2||n)&&(d+=" rd-ah"),s.push(t("i",{title:r(p("y")),"mx5-click":i+"\x1e_aO({to:'width'})",class:d},l)),l=[t(0,0,"\ue605")],d="rd-w rd-ae",(u<2||n)&&(d+=" rd-ah"),s.push(t("i",{title:r(p("z")),"mx5-click":i+"\x1e_aO({to:'height'})",class:d},l)),l=[t(0,0,"\ue608")],d="rd-w rd-ae",u<3&&(d+=" rd-ah"),s.push(t("i",{title:r(p("A")),"mx5-click":i+"\x1e_aP({to:'hor'})",class:d},l)),l=[t(0,0,"\ue608")],d="rd-w rd-A rd-ae",u<3&&(d+=" rd-ah"),s.push(t("i",{title:r(p("B")),"mx5-click":i+"\x1e_aP({to:'ver'})",class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);r.State.on("_",e),r.State.on("l",e)},render(){let e=r.State.get("_Q"),t=!1;for(let i of e)if("bezier"==i.type){t=!0;break}this.digest({elements:e,bezier:t})},"_aO<click>"(e){if(e.eventTarget.classList.contains("rd-ah"))return;let{to:t}=e.params,i=r.State.get("_Q"),a=s,o=s,n=l,p=l;for(let e of i){let t=e.props;t.width>a&&(a=t.width),t.width<n&&(n=t.width),t.height>o&&(o=t.height),t.height<p&&(p=t.height)}let u=0;for(let d of i){let i,l=d.props,s=0;if("width"==t?(i=e.shiftKey?n:a,l.width!=i&&(s=1,u=1,l.width=i)):(i=e.shiftKey?p:o,l.height!=i&&(s=1,u=1,l.height=i)),s){let e=r.Vframe.byNode(r.node(d.id));e&&e.invoke("assign",[{element:d}])&&e.invoke("render")}}u&&(r.State.fire("d"),d.default._t())},"_aP<click>"(e){if(e.eventTarget.classList.contains("rd-ah"))return;let t,i,a,o,n,{to:p}=e.params,u=r.State.get("_Q"),c=s,h=l,f=s,g=l,x=l,_=s,b=l,m=s,y=[],w=e.shiftKey;for(let e of u){let d,l=e.props,s=l.x+l.width/2,n=l.y+l.height/2;if(s>c&&(c=s),s<h&&(h=s),n>f&&(f=n),n<g&&(g=n),w){d=r.node("mask_"+e.id).getBoundingClientRect();let{left:l,top:s,right:n,bottom:p}=d;l<b&&(b=l,i=d),n>m&&(m=n,a=d),s<x&&(x=s,t=d),p>_&&(_=p,o=d)}y.push({m:e,mx:s,my:n,bound:d})}n=w?"ver"==p?(e,t)=>e.bound.top-t.bound.top:(e,t)=>e.bound.left-t.bound.left:"ver"==p?(e,t)=>e.my-t.my:(e,t)=>e.mx-t.mx,y=y.sort(n);let v=0;if(w){let e=0,d=0,l=y.length;if("ver"==p){t!=o&&l--;for(let i of y)i.bound!=t&&i.bound!=o&&(e+=i.bound.height);d=(o.top-t.bottom-e)/l}else{i!=a&&l--;for(let t of y)t.bound!=i&&t.bound!=a&&(e+=t.bound.width);d=(a.left-i.right-e)/l}let s,n=0;for(let e of y){let l,u,c=0;if("ver"==p?e.bound!=t&&e.bound!=o&&(c=1,n+=u=s.bound.bottom+n+d-e.bound.top,l="y"):e.bound!=i&&e.bound!=a&&(c=1,n+=u=s.bound.right+n+d-e.bound.left,l="x"),c){v=1;let t=e.m,i=r.Vframe.byNode(r.node(t.id));if(i){for(let e of t.ctrl.moved)e.use==l&&(t.props[e.key]+=u);i.invoke("assign",[{element:t}])&&i.invoke("render")}}s=e}}else{let e=y[0],t=1,i=y.length-1,a=i,d=e.m,l=(f-g)/a,s=(c-h)/a;for(let e=t;e<i;e++){let t=y[e].m,i=0,a="",o=0;if("ver"==p){let e=d.props.y+d.props.height/2;e+=l,e-=t.props.height/2,t.props.y!=e&&(i=1,o=e-t.props.y,a="y")}else{let e=d.props.x+d.props.width/2;e+=s,e-=t.props.width/2,t.props.x!=e&&(i=1,o=e-t.props.x,a="x")}if(i){v=1;let e=r.Vframe.byNode(r.node(t.id));if(e){for(let e of t.ctrl.moved)e.use==a&&(t.props[e.key]+=o);e.invoke("assign",[{element:t}])&&e.invoke("render")}}d=t}}v&&(r.State.fire("d"),d.default._t())}})}),define("designer/toolbar",["magix","./toolbar-do","./toolbar-align","./toolbar-space","./toolbar-layer","./toolbar-del","./toolbar-scale","./toolbar-panels"],(e,t,i)=>{let a;e("./toolbar-do"),e("./toolbar-align"),e("./toolbar-space"),e("./toolbar-layer"),e("./toolbar-del"),e("./toolbar-scale"),e("./toolbar-panels"),Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");r.default.applyStyle("rd-f",".rd-ad{height:22px}.rd-ae{cursor:pointer;height:22px;width:22px;margin:0 2px;display:inline-flex;align-items:center;justify-content:center;border-radius:2px}.rd-ae:hover{background:#e6e6e6;color:#333}.rd-af,.rd-af:hover{background:#c4c4c4}.rd-ag{height:16px;width:1px;background:#eee;margin:3px 12px;float:left}.rd-ah{color:#aaa;cursor:not-allowed}.rd-ah:hover{color:#aaa;background:transparent}.rd-ai{font-weight:400;font-size:14px;width:40px;display:inline-block;text-align:center}"),t.default=r.default.View.extend({tmpl:(e,t,i)=>{if(!a){let e,r=[];e=[t("div",{class:"rd-ad","mx5-view":"designer/toolbar-do"}),t("div",{class:"rd-ad","mx5-view":"designer/toolbar-align"}),t("div",{class:"rd-ad","mx5-view":"designer/toolbar-space"}),t("div",{class:"rd-ad","mx5-view":"designer/toolbar-layer"}),t("div",{class:"rd-ad","mx5-view":"designer/toolbar-del"})],r.push(t("div",{class:"rd-E rd-b rd-d"},e)),e=[t("div",{class:"rd-ad","mx5-view":"designer/toolbar-scale"}),t("i",{class:"rd-ag"}),t("div",{class:"rd-ad","mx5-view":"designer/toolbar-panels"})],r.push(t("div",{class:"rd-E rd-b rd-e"},e)),a=t(i,0,r)}return a},render(){this.digest()}})});