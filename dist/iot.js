(function(e,t){if(!e.seajs){var i=e.seajs={version:"2.2.3"},r=i.data={},a=F("Object"),n=F("String"),d=Array.isArray||F("Array"),o=F("Function"),l=F("Undefined"),s=0,u=r.events={};i.on=function(e,t){return(u[e]||(u[e]=[])).push(t),i},i.off=function(e,t){if(!e&&!t)return u=r.events={},i;var a=u[e];if(a)if(t)for(var n=a.length-1;n>=0;n--)a[n]===t&&a.splice(n,1);else delete u[e];return i};var c,f=i.emit=function(e,t){var r,a=u[e];if(a)for(a=a.slice();r=a.shift();)r(t);return i},p=/[^?#]*\//,h=/\/\.\//g,g=/\/[^/]+\/\.\.\//,x=/([^:/])\/\//g,b=/^([^/:]+)(\/.+)$/,_=/{([^{]+)}/g,v=/^\/\/.|:\//,y=/^.*?\/\/.*?\//,m=document,w=D(m.URL),k=m.scripts,A=m.getElementById("seajsnode")||k[k.length-1],S=D(((c=A).hasAttribute?c.src:c.getAttribute("src",4))||w);i.resolve=function(e,t){if(!e)return"";var i,a,d;e=function(e){var t=r.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(_,function(e,i){return n(t[i])?t[i]:e})),e}(e=function(e){var t,i=r.paths;return i&&(t=e.match(b))&&n(i[t[1]])&&(e=i[t[1]]+t[2]),e}(e=function(e){var t=r.alias;return t&&n(t[e])?t[e]:e}(e))),a=(i=e).length-1;var l=q(e="#"===(d=i.charAt(a))?i.substring(0,a):".js"===i.substring(a-2)||i.indexOf("?")>0||".css"===i.substring(a-3)||"/"===d?i:i+".js",t);return l=function(e){var t=r.map,i=e;if(t)for(var a=0,n=t.length;a<n;a++){var d=t[a];if((i=o(d)?d(e)||e:e.replace(d[0],d[1]))!==e)break}return i}(l)};var M,j,z=m.head||m.getElementsByTagName("head")[0]||m.documentElement,T=z.getElementsByTagName("base")[0],P=/\.css(?:\?|$)/i,U=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;i.request=function(e,t,i,a){var n=P.test(e),d=m.createElement(n?"link":"script");i&&(d.charset=i),l(a)||d.setAttribute("crossorigin",a),function(e,t,i,a){var n="onload"in e;function d(){e.onload=e.onerror=e.onreadystatechange=null,i||r.debug||z.removeChild(e),e=null,t()}!i||!U&&n?n?(e.onload=d,e.onerror=function(){f("error",{uri:a,node:e}),d()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&d()}:setTimeout(function(){!function e(t,i){var r,a=t.sheet;if(U)a&&(r=!0);else if(a)try{a.cssRules&&(r=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(r=!0)}setTimeout(function(){r?i():e(t,i)},20)}(e,t)},1)}(d,t,n,e),n?(d.rel="stylesheet",d.href=e):(d.async=!0,d.src=e),M=d,T?z.insertBefore(d,T):z.appendChild(d),M=null};var V,O=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,E=/\\\\/g,Y=i.cache={},I={},X={},C={},R=H.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};H.prototype.resolve=function(){for(var e=this.dependencies,t=[],i=0,r=e.length;i<r;i++)t[i]=H.resolve(e[i],this.uri);return t},H.prototype.load=function(){if(!(this.status>=R.LOADING)){this.status=R.LOADING;var e=this.resolve();f("load",e);for(var t,i=this._remain=e.length,r=0;r<i;r++)(t=H.get(e[r])).status<R.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0!==this._remain){var a={};for(r=0;r<i;r++)(t=Y[e[r]]).status<R.FETCHING?t.fetch(a):t.status===R.SAVED&&t.load();for(var n in a)a.hasOwnProperty(n)&&a[n]()}else this.onload()}},H.prototype.onload=function(){this.status=R.LOADED,this.callback&&this.callback();var e,t,i=this._waitings;for(e in i)i.hasOwnProperty(e)&&((t=Y[e])._remain-=i[e],0===t._remain&&t.onload());delete this._waitings,delete this._remain},H.prototype.fetch=function(e){var t=this.uri;this.status=R.FETCHING;var a={uri:t};f("fetch",a);var n=a.requestUri||t;function d(){i.request(a.requestUri,a.onRequest,a.charset,a.crossorigin)}n&&!X[n]?I[n]?C[n].push(this):(I[n]=!0,C[n]=[this],f("request",a={uri:t,requestUri:n,onRequest:function(){delete I[n],X[n]=!0,V&&(H.save(t,V),V=null);var e,i=C[n];delete C[n];for(;e=i.shift();)e.load()},charset:o(r.charset)?r.charset(n):r.charset,crossorigin:o(r.crossorigin)?r.crossorigin(n):r.crossorigin}),a.requested||(e?e[a.requestUri]=d:d())):this.load()},H.prototype.exec=function(){var e=this;if(e.status>=R.EXECUTING)return e.exports;e.status=R.EXECUTING;var t=e.uri;function i(e){return H.get(i.resolve(e)).exec()}i.resolve=function(e){return H.resolve(e,t)},i.async=function(e,r){return H.use(e,r,t+"_async_"+N()),i};var r=e.factory,a=o(r)?r(i,e.exports={},e):r;return void 0===a&&(a=e.exports),delete e.factory,e.exports=a,e.status=R.EXECUTED,f("exec",e),a},H.resolve=function(e,t){var r={id:e,refUri:t};return f("resolve",r),r.uri||i.resolve(r.id,t)},H.define=function(e,t,i){var r,a,n=arguments.length;1===n?(i=e,e=void 0):2===n&&(i=t,d(e)?(t=e,e=void 0):t=void 0),!d(t)&&o(i)&&(r=i.toString(),a=[],r.replace(E,"").replace(O,function(e,t,i){i&&a.push(i)}),t=a);var l={id:e,uri:H.resolve(e),deps:t,factory:i};if(!l.uri&&m.attachEvent){var s=function(){if(M)return M;if(j&&"interactive"===j.readyState)return j;for(var e=z.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var i=e[t];if("interactive"===i.readyState)return j=i}}();s&&(l.uri=s.src)}f("define",l),l.uri?H.save(l.uri,l):V=l},H.save=function(e,t){var i=H.get(e);i.status<R.SAVED&&(i.id=t.id||e,i.dependencies=t.deps||[],i.factory=t.factory,i.status=R.SAVED)},H.get=function(e,t){return Y[e]||(Y[e]=new H(e,t))},H.use=function(t,i,r){var a=H.get(r,d(t)?t:[t]);a.callback=function(){for(var t=[],r=a.resolve(),n=0,d=r.length;n<d;n++)t[n]=Y[r[n]].exec();i&&i.apply(e,t),delete a.callback},a.load()},H.preload=function(e){var t=r.preload,i=t.length;i?H.use(t,function(){t.splice(0,i),H.preload(e)},r.cwd+"_preload_"+N()):e()},i.use=function(e,t){return H.preload(function(){H.use(e,t,r.cwd+"_use_"+N())}),i},H.define.cmd={},e.define=H.define,i.Module=H,r.fetchedList=X,r.cid=N,i.require=function(e){var t=H.get(H.resolve(e));return t.status<R.EXECUTING&&(t.onload(),t.exec()),t.exports};var L,B;r.base=(S.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",S])[1],r.dir=S,r.cwd=w,r.charset="utf-8",r.history={},r.preload=(L=[],B=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(B+=" "+m.cookie).replace(/(seajs-\w+)=1/g,function(e,t){L.push(t)}),L),i.config=function(e){for(var t in e){var n=e[t],o=r[t];if(r.history[t]=r.history[t]||[],r.history[t].push(W(n)),o&&a(o))for(var l in n)o[l]=n[l];else d(o)?n=o.concat(n):"base"===t&&("/"!==n.slice(-1)&&(n+="/"),n=q(n)),r[t]=n}return f("config",e),i}}function F(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function N(){return s++}function D(e){return e.match(p)[0]}function q(e,t){var i,a=e.charAt(0);if(v.test(e))i=e;else if("."===a)i=function(e){for(e=e.replace(h,"/");e.match(g);)e=e.replace(g,"/");return e=e.replace(x,"$1/")}((t?D(t):r.cwd)+e);else if("/"===a){var n=r.cwd.match(y);i=n?n[0]+e.substring(1):e}else i=r.base+e;return 0===i.indexOf("//")&&(i=location.protocol+i),i}function H(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function W(e){if(a(e)){var t={};for(var i in e)t[i]=e[i];return t}return e}})(this),function(e){window.define?define("magix5",e):window.Magix=e()}(function(){var e,t=0,i=[],r=window,a=document,n=r.setTimeout,d=encodeURIComponent;function o(){}var l,s=JSON.stringify,u=a.head,c=r.performance,f=c.now.bind(c),p="prototype",h=Object[p].toString,g=function(e){return h.call(e).slice(8,-1)},x=function(e){return"Object"==g(e)},b=Array.isArray,_=function(e){return(e||"_")+t++},v=function(e){return a.getElementById(e)},y=function(e,t){return e.innerHTML=t},m={rootId:_(),error:function(e){throw e}},w=function(e){return!e||"object"!=typeof e},k=function(e,t,i){if(e&&t&&!(i=e==t))try{i=16==(16&t.compareDocumentPosition(e))}catch(e){}return i},A=function(e){e["\x1ea"]=null},S=Object.assign,M=Object.keys,j=Object.hasOwnProperty,z=u.getAttribute,T=function(e,t){return z.call(e,t)},P=function(e,t,i){t&&!P[e]&&(P[e]=1,i=a.createElement("style"),y(i,t),u.appendChild(i))},U=function(e,t,i,r){try{r=b(t)?e.apply(i,t):e.call(i,t)}catch(e){m.error(e)}return r},V=function(e,t){return e&&j.call(e,t)},O=function(e,t){var i,r;if(w(t))"\x1e"==(i=t+"")[0]&&(t=e[i]);else for(i in t)r=t[i],r=O(e,r),t[i]=r;return t},E=function(e,t){return t.a-e.a};function Y(e,t,i){(i=this).a=[],i.b=t||5,i.c=i.b+(e||20)}S(Y[p],{get:function(e){var t=this.a["\x1e"+e];return t&&(t.a++,t=t.c),t},set:function(e,t){var i=this.a,r="\x1e"+e,a=i[r],n=this.b;if(!a){if(i.length>=this.c)for(i.sort(E);n--;)(a=i.pop()).a>0&&this.del(a.o);a={d:e},i.push(a),i[r]=a}a.c=t,a.a=1},del:function(e){e="\x1e"+e;var t=this.a,i=t[e];i&&(i.a=-1,i.c="",t[e]=null)},has:function(e){return V(this.a,"\x1e"+e)}});var I,X={bubbles:!0,cancelable:!0},C=[],R=function(e,t,i,r,a,n){var d={a:r,b:i,c:t,d:e,e:function(e){r?U(i,e,n):i(e)}};C.push(d),e.addEventListener(t,d.e,a)},L=function(e,t,i,r,a){for(var n=void 0,d=C.length;d--;)if((n=C[d]).c==t&&n.a==r&&n.d==e&&n.b===i){C.splice(d,1),e.removeEventListener(t,n.e,a);break}},B=new Y,F=function(e,t,i){return B.has(e)?i=B.get(e):(i=U(Function("return "+e)),t&&B.set(e,i)),i},N=decodeURIComponent,D=new Y,q=function(e){var t,i,r,a,n,d,o,l=D.get(e);if(!l){if(n={},-1==(d=e.indexOf("?"))?(i=e,o=""):(i=e.substring(0,d),o=e.substring(d+1)),o)for(var s=0,u=o.split("&");s<u.length;s++)r=(t=(d=u[s]).split("="))[0],a=t[1],n[N(r)]=N(a||"");D.set(e,l={a:i,b:n})}return{path:l.a,params:S({},l.b)}},H=new Y,W=0,G=[],Q=function(){var e,t,i,r=f();try{for(;;){if(e=G[W],i=G[W-1],t=G[W+1],G[W]=null,G[W-1]=null,G[W+1]=null,G[W+2]=null,W+=4,!e){G.length=W=0;break}if(e!=o&&(b(t)?e.apply(i,t):e.call(i,t)),f()-r>8&&G.length>W){n(Q);break}}}catch(e){m.error(e),n(Q)}},K=function(e,t,i,r){if(W||(W=1,n(Q)),r)for(var a=G.length-1;a>=W;a-=4)G[a]==r&&(G[a-3]=null,G[a-2]=o,G[a-1]=null,G[a]=null);G.push(i,e,t,r)},J=_();m.views={},m.defaultView=J;var Z=function(e){return e.__esModule||window.Symbol&&"Module"===e[Symbol.toStringTag]},$=function(e,t){if(e&&e.prototype&&e.prototype instanceof et)return t(e);if(J==e)return I||(I=et.extend()),t(I);var i,r=m.views,a=[],n=0,d=function(){n||K(t,a)},o=function(e,t){var i=function(e){a[t]||(n--,a[t]=Z(e)?e.default:e,d())};(e=e(i))&&e.then&&e.then(i)},l=function(e){return function(t){n--,a[e]=Z(t)?t.default:t,d()}};if(e){b(e)||(e=[e]);for(var s=0;s<e.length;s++)(i=r[e[s]])?("Function"!=g(i)||i.extend?a[s]=Z(i)?i.default:i:(n++,o(i,s)),d()):window.seajs?(n++,seajs.use(e[s],l(s))):window.require&&(i=require(e[s]),a[s]=Z(i)?i.default:i,d())}else d()};function ee(){}var te,ie,re=function(e,t,i,r,a){return ee[p]=t[p],a=new ee,S(a,i),S(e,r),a.constructor=e,e[p]=a,e},ae=function(e){return e},ne={fire:function(e,t){var i,r,a=this["\x1e"+e],n=0;if(t||(t={}),t.type=e,a)for(i=a.length;n<i;n++)(r=a[n]).a?(r.b=1,U(r.a,t,this),r.b=""):r.b||(a.splice(n--,1),i--);(a=this["on"+e])&&U(a,t,this)},on:function(e,t){var i="\x1e"+e;(this[i]||(this[i]=[])).push({a:t})},off:function(e,t){var i,r="\x1e"+e,a=this[r];if(t){if(a)for(var n=0,d=a;n<d.length;n++)if((i=d[n]).a==t){i.a="";break}}else this[r]=null,this["on"+e]=null}},de={},oe=function(e,t,i,r){t.includes("\x1e")&&(r=de[e])&&O(r.a,i)},le=function(e,t){V(de,e)||(de[e]=t,ce.fire("add",{vframe:t}))},se=function(e,t,i,r,a,n,d){var o;for(t=e.c,a=e.d;t.length;)i=(o=t.shift())[0],d=o[1],r=o[2],K(r,(n=a[i])&&U(n,d,a))},ue=function(e){return e.b||(e.b=_(ie))};function ce(e,t){var i=this,r=ue(e);i.id=r,i.root=e,i.e=1,i.b={},i.pId=t,i.c=[],i.a={},le(r,i)}S(ce,{root:function(){return te},all:function(){return de},byId:function(e){return de[e]},byNode:function(e){return de[e.b]}},ne),S(ce[p],{mountView:function(e,t){var i,r,a,n,d,o=this,l=o.id,s=o.root,u=o.pId;!o.f&&s&&(o.f=1,o.g=s.innerHTML),o.unmountView(),s&&e&&(i=q(e),a=i.path,o.path=e,n=i.params,oe(u,e,n),o.h=a,(u=n["\x1e"])&&x(u)?n=u:S(n,t),r=o.e,$(a,function(e){if(r==o.e){if(!e)return void 0;d=$e(e),a=new e(l,s,o,n,d),o.d=a,Qe(a),U(a.init,n,a),K(a.f,n,a),K(function(){a.g(),a.tmpl||a.h||Ge(a)})}}))},unmountView:function(){var e=this,t=e.d,i=e.root;e.c=[],t&&(e.d=0,t.c&&(t.c=0,A(t),e.unmountZone(),t.fire("destroy"),Qe(t,1),i&&e.f&&y(i,e.g))),e.e++},mountVframe:function(e,t,i){var r,a=this.id,n=this.b,d=ue(e);return(r=de[d])||(V(n,d)||(this.i=0),n[d]=d,r=new ce(e,a)),r.mountView(t,i),r},mountZone:function(e){for(var t,i=0,r=(e=e||this.root).querySelectorAll("[mx5-view]");i<r.length;i++)(t=r[i]).a||(t.a=1,this.mountVframe(t,T(t,"mx5-view")))},unmountVframe:function(e,t){var i,r,a,n,d;e=e?this.b[t?e:e.b]:this.id,(i=de[e])&&(i.unmountView(),r=i.pId,(n=de[a=e])&&(delete de[a],(d=n.root).a=0,d.b=0,ce.fire("remove",{vframe:n}),n.id=n.root=n.pId=n.b=null),(i=de[r])&&V(i.b,e)&&(delete i.b[e],i.i=0))},unmountZone:function(e){var t,i;for(t in this.b)(e?(i=de[t])&&k(i.root,e):1)&&this.unmountVframe(t,1)},children:function(e){return(e=this).i||(e.i=M(e.b))},parent:function(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=de[t.pId];return t},invoke:function(e,t){var i,r,a=this,n=a.c;return new Promise(function(d){(i=a.d)&&i.h?d((r=i[e])&&U(r,t,i)):n.push([e,t,d])})}});var fe=new Y(30,10),pe=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,he={},ge={},xe={};var be=function(e,t){var r,a,n,d,o,s,u,c,f=[],p=e,h=T(e,"mx5-"+t),g=0;if(h&&((o=fe.get(h))||(o={v:(o=h.match(pe)||i)[1],n:o[2],i:o[3]},fe.set(h,o)),o=S({},o,{r:h})),o&&!o.v||ge[t]){if(!(c=p.c)){for(u=[p];p!=l&&(p=p.parentNode);){if(de[a=p.b]||(a=p.c)){c=a;break}u.push(p)}if(c)for(var x=0,b=u;x<b.length;x++)(h=b[x]).c=c}if(c){p=e.b,de[p]&&(g=c=p);do{if((r=de[c])&&(s=r.d)){if(d=(n=s.i)[t])for(p=d.length;p--;)n={r:a=d[p],v:c,n:a},a?!g&&e.matches(a)&&f.push(n):g&&f.unshift(n);if(s.tmpl&&!g)break;g=0}}while(r&&(c=r.pId))}}return o&&f.push(o),f},_e=function(e){for(var t,i,r,a,n,d,o,l,s,u,c=e.target,f=e.type,p=[];c&&1==c.nodeType&&!(e.cancelBubble||(i=c.d)&&i[f]);){if(p.push(c),(t=be(c,f)).length){p=[];for(var h=0,g=t;h<g.length;h++){var x=g[h],b=x.v,_=(x.r,x.n),v=x.i;if(d!=b){if(d&&e.cancelBubble)break;d=b}if(!(a=(r=de[b])&&r.d))break;a.h&&(n=a[_+"\x1e"+f])&&(e.eventTarget=c,o=v?(l=v,s=r.a,u=void 0,H.has(l)?u=H.get(l):(u=F(l,null),l.includes("\x1e")?O(s,u):H.set(l,u)),u):xe,e.params=o,U(n,e,a))}}c=c.parentNode}for(var y=0,m=p;y<m.length;y++)(i=(d=m[y]).d||(d.d={}))[f]=1},ve={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},ye=/[&<>"'\`]/g,me=function(e){return null==e?"":""+e},we=function(e){return ve[e]},ke=function(e){return me(e).replace(ye,we)},Ae={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Se=function(e){return Ae[e]},Me=/[!')(*]/g,je=function(e){return d(me(e)).replace(Me,Se)},ze=/[\\'"]/g,Te=function(e){return me(e).replace(ze,"\\$&")},Pe=function(e,t,i){return e[i]=t,i},Ue=function(e,t,r){if(e.c&&(r=e.tmpl)){var a,n=e.j,d=e.id,o=de[d],l={a:[],b:0},s=e.d,u=o.a;e.k=0,e.j={},t&&e.fire("dompatch"),a=r(s,Oe,d,me,je,u,Pe,Te,b);K(Fe,[e.root,e.l,a,l,o,n,e,function(){if(e.l=a,e.m>1)e.m=1,Ue(e);else{e.m=0,r=l.c||!e.h;for(var t=0,n=l.a;t<n.length;t++)a=n[t],K(a.g,i,a,"\x1e"+a.id);r&&Ge(e),e.fire("domready");for(var d=0,o=e.n;d<o.length;d++)(a=o[d])()}}])}},Ve={},Oe=function(e,t,i,r,a){var n;if(e){t=t||Ve;var d,o="",l=void 0,s=void 0,u=void 0,c=void 0,f={},p=0,h="<"+e,g="",x=[],b=void 0;if(i)for(var _=0,v=i;_<v.length;_++){if(u=(c=v[_]).a,c.b==Ye){if(!u)continue;u=ke(u)}g+=u,b&&c.b==Ye&&b.b==Ye?b.a+=c.a:(c.d&&(f[c.d]=(f[c.d]||0)+1,p++),l=l||c.e,b=c,x.push(c))}for(s in r=r||Ve,t)!1!==(u=t[s])&&null!=u?(!0===u&&(t[s]=u=r[s]?u:""),"id"==s?o=u:"_"!=s||o?"mx5-view"==s&&u&&!o&&(o=e+"\x1e"+q(u).path):o=u,"value"==s&&"textarea"==e?g=u:V(Ee,s)||(h+=" "+s+'="'+(u&&ke(u))+'"')):r[s]||delete t[s];d=h,n={a:h+=a?"/>":">"+g+"</"+e+">",c:g,d:o,b:e,e:l||t.$,f:r,g:d,h:t,i:x,j:f,k:p,l:a}}else n={b:t?"\x1e":Ye,a:i+""};return n},Ee=((e={})._=1,e.$=1,e),Ye=t;var Ie="http://www.w3.org/",Xe={svg:Ie+"2000/svg",math:Ie+"1998/Math/MathML"},Ce=function(e,t,i){var r,a,n,d=0,o=i.f,l=t.f,s=i.h,u=t.h;if(t)for(r in u)V(s,r)||(d=1,(n=l[r])?e[n]="":e.removeAttribute(r));for(r in s)V(Ee,r)||(a=s[r],(n=o[r])?t&&e[n]==a||(d=1,e[n]=a):t&&u[r]==a||(d=1,e.setAttribute(r,a)));return d&&delete e.d,d},Re=function(e,t){var i,r=e.b;return r==Ye?i=a.createTextNode(e.a):(i=a.createElementNS(Xe[r]||t.namespaceURI,r),Ce(i,0,e),y(i,e.c)),i},Le=function(e,t,i,r,a){var n,d,o,l={};for(n=r;n>=i;n--,a--)(d=e[n].d)&&(l[o="\x1e"+d]=(l[o]||0)+1,(l[d]||(l[d]=[])).push(t[a]));return l},Be=function(e,t){return!e.d&&!t.d&&e.b==t.b||e.b==Ye&&t.b==Ye||"\x1e"==e.b||"\x1e"==t.b||e.d&&t.d==e.d},Fe=function(e,t,i,r,a,n,d,o){if(d.c){if(t){if(t.e||t.c!=i.c){var l=void 0,s=void 0,u=void 0,c=t.i,f=i.i,p=i.j,h=i.k,g=t.k,x=e.childNodes,b=void 0,_=void 0,v=0,m=c.length-1,w=0,k=f.length-1;0;for(var A=c[v],S=c[m],M=f[w],j=f[k],z=v,T=m;v<=m&&w<=k;)if(A)if(S)if(Be(A,M))r.b++,K(Ne,[x[z],e,A,M,r,a,n,d,o]),p[A.d]&&(p[A.d]--,h--,(b=_&&_[A.d])&&--_["\x1e"+A.d]),z++,A=c[++v],M=f[++w];else if(Be(S,j))r.b++,K(Ne,[x[T],e,S,j,r,a,n,d,o]),p[S.d]&&(p[S.d]--,h--),T--,S=c[--m],j=f[--k];else if(Be(A,j))s=x[z],e.insertBefore(s,x[T+1]),r.b++,K(Ne,[s,e,A,j,r,a,n,d,o]),p[A.d]&&(p[A.d]--,h--),T--,A=c[++v],j=f[--k];else if(Be(M,S))s=x[T],e.insertBefore(s,x[z++]),r.b++,K(Ne,[s,e,S,M,r,a,n,d,o]),p[S.d]&&(p[S.d]--,h--),S=c[--m],M=f[++w];else{if(!_&&h>0&&g>0&&(_=Le(c,x,v,m,T)),(b=_&&_[M.d])&&(b=b[--_["\x1e"+M.d]])){if(u=A,b!=x[z]){for(s=v+1,l=z+1;s<=m;s++)if((u=c[s])&&x[l++]==b){c[s]=null;break}v--,e.insertBefore(b,x[z])}p[u.d]&&p[u.d]--,r.b++,K(Ne,[b,e,u,M,r,a,n,d,o])}else _&&_[A.d]&&p[A.d]?(r.c=1,e.insertBefore(Re(M,e),x[z]),v--,T++):(r.b++,K(Ne,[x[z],e,A,M,r,a,n,d,o]));++z,A=c[++v],M=f[++w]}else S=c[--m];else A=c[++v];for(l=w,s=1;l<=k;l++,s++)"\x1e"==(u=f[l]).b?y(e,u.a):e.insertBefore(Re(u,e),x[T+s]),r.c=1;for(l=z;l<=T;l++)1==(u=x[z]).nodeType&&a.unmountZone(u),e.removeChild(u),r.c=1}}else r.c=1,y(e,i.c);r.b||o()}},Ne=function(e,t,i,r,a,n,d,o,l){if(o.c){0;var s=i.h,u=r.h;if(i.e||i.a!=r.a)if("\x1e"==i.b||"\x1e"==r.b)a.c=1,y(t,r.a);else if(i.b==r.b){if(i.b==Ye)a.c=1,e.nodeValue=r.a;else if(!s._||s._!=u._){var c=u["mx5-view"],f=r.c,p=i.g!=r.g,h=void 0,g=void 0,x=de[e.b],b=void 0,_=void 0,v=c&&q(c),m=void 0,w=void 0,k=void 0;if(p&&(p=Ce(e,i,r))&&(a.c=1),c&&x&&x.h==v.path&&(_=x.d)){if(w=f!=i.c,k=c!=x.path,b=s.$,!w&&!k&&b)for(var A=0,S=m=b.split(",");A<S.length;A++)if("#"==(b=S[A])||V(d,b)){k=1;break}if(k||w)b=_.f,m=v.params,oe(x.pId,c,m),x.path=c,x.g=f,!1!==U(b,m,_)&&a.a.push(_),h=!_.tmpl}else h=1,g=x;g&&(a.c=1,x.unmountVframe()),h&&!r.l&&Fe(e,i,r,a,n,d,o,l)}}else a.c=1,n.unmountZone(e),t.replaceChild(Re(r,t),e);--a.b||l()}},De={},qe=S({get:function(e){return e?De[e]:De},set:function(e){S(De,e)}},ne),He=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,We=function(e,t,i){return e.a?i=e:((i=function(e,t){for(var r=0,a=i.a;r<a.length;r++)t=a[r],U(t,e,this)}).a=[e],i.b=1),i.a=i.a.concat(t.a||t),i},Ge=function(e){var t,i;e.c&&(i=e.h,e.h=1,(t=e.owner).mountZone(),i||K(se,t))},Qe=function(e,t){var i,r,a,n,d,o,s=e.o,u=e.i,c=e.p,f=e.id;for(i in s)r=i,a=u[i],n=t,d=void 0,o=void 0,d=0|he[r],o=n?-1:1,d&&n!==d||(n?L:R)(l,r,_e),he[r]=d+o,a&&(ge[r]=(0|ge[r])+o);s=t?L:R;for(var p=0,h=c;p<h.length;p++)s((i=h[p]).a,i.b,i.c,f,i.d,e)},Ke={win:r,doc:a},Je=function(e,t,i){for(var r,a,n,d,o={},l=0,s=e;l<s.length;l++)for(r in a=s[l])n=a[r],d=o[r],"ctor"!=r?(He.test(r)&&(d?n=We(d,n):n.b=1),o[r]=n):i.push(n);for(r in o)V(t,r)||(t[r]=o[r])};function Ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.a||(this.a=[]);return Je(e,this[p],i),this}var $e=function(e){if(!e["\x1e"]){e["\x1e"]=[];var t=e[p],i=void 0,r=void 0,a=void 0,n=void 0,d={},o=[],l={},s=void 0,u=void 0,c=void 0,f=void 0,h=void 0,g=void 0,x=void 0;for(c in(r=t.mixins)&&Je(r,t,e["\x1e"]),t)if(i=t[c],r=c.match(He)){u=r[1],a=r[2],n=r[3],g=(x=r[4])?F(x):{};for(var b=0,_=n=n.split(",");b<_.length;b++){if(f=_[b],s=Ke[a],h=1,u){if(s){o.push({c:i,a:s,b:f,d:g});continue}h=2,(s=l[f])||(s=l[f]=[]),s[a]||(s[a]=1,s.push(a))}d[f]=d[f]|h,(s=t[f=a+"\x1e"+f])?s.b&&(i.b?t[f]=We(i,s):V(t,c)&&(t[f]=i)):t[f]=i}}t.g=t.render=(v=t.render,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return U(v,e,this)}),t.o=d,t.p=o,t.i=l,t.f=t.assign}var v;return e["\x1e"]};function et(e,t,i,r){(r=this).root=t,r.owner=i,r.id=e,r.c=1,r.k=1,r.d={},r.j={},r.m=0,r.n=[]}function tt(){this.id=_("b"),this.a={}}S(et,{merge:Ze,extend:function e(t,i){var r=this,a=(t=t||{}).ctor;function n(e,t,i,n,d,o,l,s){if(r.call(s=this,e,t,i,n),o=r.a)for(var u=0,c=o;u<c.length;u++)l=c[u],U(l,n,s);if(d)for(var f=0,p=d;f<p.length;f++)l=p[f],U(l,n,s);a&&U(a,n,s)}return n.merge=Ze,n.extend=e,re(n,r,t,i)}}),S(et[p],ne,{init:o,render:o,assign:o,observeLocation:function(e,t){var i;(i=this.a).a=1,x(e)&&(t=e.path,e=e.params),i.b=t,e&&(i.c=(e+"").split(","))},get:function(e,t){return t=this.d,e&&(t=t[e]),t},set:function(e,t){var i,r,a,n=this,d=n.d,o=n.j,l=n.k;for(a in e)i=e[a],r=d[a],w(i)&&r==i||V(t,a)||(o[a]=1,l=1),d[a]=i;return n.k=l,n},digest:function(e,t){var i=this.set(e,t);return new Promise(function(e){i.k?(i.m++,i.n.push(e),1==i.m&&Ue(i,1)):e()})},finale:function(){var e=this;return new Promise(function(t){e.m?e.n.push(t):t()})}}),S(tt[p],{get:function(e,t){var i=this.a;if(e){for(var r=b(e)?e.slice():(e+"").split("."),a=void 0;(a=r.shift())&&i;)i=i[a];a&&(i=void 0)}return void 0!==t&&g(t)!=g(i)&&(i=t),i},set:function(e,t){var i;x(e)||((i={})[e]=t,e=i),S(this.a,e)}});var it=function(e,t,i){return function(r){if(i=e[t]){delete e[t];for(var a=0,n=i;a<n.length;a++){var d=n[a];U(d,r,i.a)}}}},rt=function(e,t,i,r,a){if(e.a)return e;if(e.b)return e.enqueue(rt.bind(e,e,t,i,r,a));e.b=1,b(t)||(t=[t]);for(var n=e.constructor,d=0,o=n.d,l=function(e,t,i,r,a,n){var d=[],o=null,l=0;return function(s,u,c){var p;l++;var h,g=s.b,x=g.a;if(d[u+1]=s,c?(o=c,p=1):n.has(x)||(x&&n.set(x,s),g.b=f(),(h=g.c)&&U(h,s,s),p=1),!i.a){var b=l==r;b&&(i.b=0,2==a&&(d[0]=o,U(e,d,i))),1==a&&U(e,[c||null,s,b,u],i)}p&&t.fire("end",{bag:s,error:c})}}(i,n,e,t.length,r,n.c),s=0,u=t;s<u.length;s++){var c=u[s];if(c){var p=n.get(c,a),h=p[0],g=p[1],x=h.b.a,_=l.bind(h,h,d++),v=void 0;x&&o[x]?o[x].push(_):g?(x&&((v=[_]).a=h,o[x]=v,_=it(o,x)),n.e(h,_)):_()}}return e};function at(){this.id=_("s"),this.f=[]}S(at[p],{all:function(e,t){return rt(this,e,t,2)},save:function(e,t){return rt(this,e,t,2,1)},one:function(e,t){return rt(this,e,t,1)},enqueue:function(e){var t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i,r=this;r.b||r.a||(r.b=1,n(function(){r.b=0,r.a||(i=r.f.shift())&&U(i,r.g=e)}))},destroy:function(e){(e=this).a=1,e.f=0}});var nt=function(e,t,i){return[s(t),s(e)].join("\x1e")},dt=S({add:function(e){var t,i=this.h;b(e)||(e=[e]);for(var r=0,a=e;r<a.length;r++)if(t=a[r]){var n=t.name,d=t.cache;t.cache=0|d,i[n]=t}},create:function(e){var t=this.meta(e),i=0|e.cache||t.cache,r=new tt;r.set(t),r.b={c:t.after,a:i&&nt(t,e)},x(e)&&r.set(e);var a=t.before;return a&&U(a,r,r),this.fire("begin",{bag:r}),r},meta:function(e){return this.h[e.name||e]||e},get:function(e,t){var i,r;return t||(i=this.cached(e)),i||(i=this.create(e),r=1),[i,r]},cached:function(e){var t,i,r=this.c,a=this.meta(e),n=0|e.cache||a.cache;if(n&&(i=nt(a,e)),i){var d=this.d[i];d?t=d.a:(t=r.get(i))&&f()-t.b.b>n&&(r.del(i),t=0)}return t}},ne);at.extend=function(e,t,i){function r(){at.call(this)}return r.e=e,r.c=new Y(t,i),r.d={},r.h={},re(r,at,null,dt)};var ot=0,lt={config:function(e,t){return t=m,e&&(t=x(e)?S(t,e):t[e]),t},boot:function(e){var t,i;ot||(ot=1,S(m,e),(te||(l=a.body,t=ie=m.rootId,(i=v(t))||(i=l),te=new ce(i)),te).mountView(m.defaultView))},unboot:function(){ot&&te&&(te.unmountVframe(),te=null)},toMap:function(e,t){var i,r={};if(e)for(var a=0,n=e;a<n.length;a++)i=n[a],r[t&&i?i[t]:i]=t?i:1+(0|r[i]);return r},toTry:U,toUrl:function(e,t,i){var r,a,n,o=[];for(a in t)((r=t[a]+"")||V(i,a))&&(r=d(r),o.push(n=a+"="+r));return n&&(e+=(e&&(e.includes("?")?"&":"?"))+o.join("&")),e},parseUrl:q,guid:_,use:$,dispatch:function(e,t,i){var r=new Event(t,X);S(r,i),e.dispatchEvent(r)},guard:ae,type:g,has:V,inside:k,applyStyle:P,Cache:Y,View:et,Vframe:ce,State:qe,Service:at,Event:ne,mark:function(e,t,i,r,a){return null!==e[a="\x1ea"]&&(i=e[a]||(e[a]={}),V(i,t)||(i[t]=0),r=++i[t]),function(i){return(i=e[a])&&r===i[t]}},unmark:A,node:v,task:K,taskFinale:function(){return new Promise(function(e){K(e)})}};return lt.default=lt,lt});var Designer={init:function(e){var t=document.getElementById("boot").src.replace(/\/[^\/]+$/,"/");seajs.config({paths:{designer:t+"designer",i18n:t+"i18n",gallery:t+"gallery",util:t+"util",panels:t+"panels",elements:t+"elements"},alias:{magix:"magix5"}}),seajs.use(["magix","i18n/index"],function(t,i){t.applyStyle("rd-_",'body,h5,input,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto;resize:vertical}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}button:focus,input:focus,textarea:focus{outline:none;resize:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}@font-face{font-family:rd-_;src:url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAcsAAsAAAAACqQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZXOEjOY21hcAAAAYAAAACWAAACCs4hbhBnbHlmAAACGAAAAugAAAO0BG1azWhlYWQAAAUAAAAALwAAADYPpP4TaGhlYQAABTAAAAAcAAAAJAfeA4pobXR4AAAFTAAAABQAAAAkI+kAAGxvY2EAAAVgAAAAFAAAABQEcAVsbWF4cAAABXQAAAAfAAAAIAEYAF1uYW1lAAAFlAAAAUUAAAJtPlT+fXBvc3QAAAbcAAAATwAAAGizaRo4eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2Bk/ss4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVDy7z9zwv4EhhrmB4RRQmBEkBwA4Ig2aeJzFkbsNwzAMRE+RP0IQwEEG8AReyl1Kl+68g5Eqy7m7NZyj6EZI6viEJ4AnkRJIADWAKAZRAeGNANNLbsh+xDX7FZ6KH7jLuWBmYseeIxeu3PZdZ7+8UkH55TIvIql6raoNWhnNV97fFM57utQt79MRJTEf6ItMjk2OnWN32Ds2SY6OTZiLow6Dq6Neg5uD9gPbdC1VAAB4nH1SO2sUURi9370zd3Zmd+48dh77yr4mO7MmutlsxkkR3DQ2GgtBCAhaCBY2SrAwjUUw5CEo+A/EoAgR1LBpArEUQVBs3MrCYEAbY+xsMnpHV0ghDsM9936cj+9xDhIR+rlDtkkOZVETjaOT6CxCQEehzvAQ1IKwhUfBrom2azESeEFN8uotcgLcOrWcThT6LpWoBgzKMFHrREELB3A87OIp6DhDAPli4ZzZKJnkHii5oLwUn8ZrYFe8ktY9Fp86Om11qtnUfMY086Z5J0VFMYWxoDG46jqyKCs0fihqBXu7cgRXIJMPCmfOq9WieWk1vDbUcGWAhQXIFqvs8bRRMPh/s+Bkzbykq6lcQfWGLZjfTeeymSH/E+If5rNG5AfxURpNJVMiyUFuhCZ9RFzH0oDWx8CvDzCchigcYKcCTmeACc/CqB/vUgqlfh9KlMa7ZxYZa2gNbZH5bJFjg7FFVf1XkPic3j+UfrD3/4RDwT8z3CIH5AbKowZCYuAHXTjegoCBVAa3E006Sa9R2OCxLkzyGAPy9aMkj7bFvc3NPZGfM0uRIH00RqoHmys9Qnorv09vRxKipZneN0H41uPE9qgs7WjVkZecsNwThN7ySg8Br79AhskC9wuSsWPRegCuH062x/l6HIvY8Syss3JTizWPMXirNctkJJ6NZ/mFwXdPa+rwRis3uR6QiEIu4s9cDwQ1wzNqds2YMGrkQry/Gu+Dvgo69EEfvNDfHPwS9pL6v8UKfG7FSuK/KFEMvxBNae0+NTPicyKTtLghwhdRXFsTlaz0jAhAN4j5t/YsbCGCUJbXfYLXD/jz+sAn78lrMoJaaIxTJcpXym3uJbbg6rcwLzQGLegCv0xz6CRL5z1gKpGtR7oQYJpWtUz6nW2/UosOg7agP1Uk2WKfnPQV6pZcejntfGaWLCnw4K7h7Kp2SqZzijInYd1Wv7j6baVQNHBTsD5kNC3zwRKa2CgWFN7eL0lutBh4nGNgZGBgAGLnEJdv8fw2Xxm4WRhA4JrTXQME/d+MhYG5AcjlYGACiQIAFvYJkgB4nGNgZGBgbvjfwBDDwgACQJKRARVwAgBHDwJyeJxjYWBgYH7JwMDCgBsDAB8LAQ0AAAAAAHYA2AEYAT4BWAF8AYoB2nicY2BkYGDgZAhkYGUAASYg5gJCBob/YD4DABGZAXYAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbccxDoAgDAXQfkQEbsOR6gLVpAykCeH0xrj6tkeOPpn+JThs8NgRcCAiIRNmqMZ6ShjdhvU4hbUu6/4SLnE11pulvFM/RSvRA98yEWMA") format("woff")}.rd-_{font-family:rd-_;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rd-a{margin-right:10px}.rd-b{height:100%}.rd-c{text-align:center}.rd-d{float:left}.rd-e{float:right}.rd-f{position:absolute}.rd-g{position:relative}html .rd-h{display:none}.rd-i:after,.rd-i:before{content:" ";display:table}.rd-i:after{clear:both}.rd-j{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-k::-webkit-scrollbar,.rd-k::-webkit-scrollbar-corner{height:6px;width:6px;background:#fafafa}.rd-k::-webkit-scrollbar-thumb{background:silver}.rd-k::-webkit-scrollbar-thumb:hover{background:#949494}.rd-l{word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.rd-l,.rd-m{white-space:nowrap}.rd-m{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-m:focus,.rd-m:hover{background-color:#a0a0a0;color:#333}.rd-n{background-color:#fa742b;color:#fff}.rd-n:focus,.rd-n:hover{background-color:#bd361b;color:#fff}.rd-m[disabled]{background-color:#fbfbfb;color:#333}.rd-m[disabled]:hover{border-color:#e6e6e6;color:#333}.rd-o{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143;background:#fff}.rd-p{padding:18px 25px}.rd-q{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6;background:#fff}.rd-r{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.rd-r:after,.rd-r:before{content:""}.rd-r:after,.rd-r:before,.rd-s{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:rd-_ 1s ease-in-out infinite both;animation:rd-_ 1s ease-in-out infinite both}.rd-r:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.rd-s{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.rd-t,.rd-u{caret-color:#fa742b;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.rd-t:hover,.rd-u:hover{border-color:#ccc}.rd-t:focus,.rd-u:focus,.rd-v,.rd-v:hover{border-color:#fa742b!important}.rd-u{height:auto}.rd-t[disabled],.rd-u[disabled]{background-color:#fbfbfb}.rd-t[disabled]:hover,.rd-u[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}@font-face{font-family:rd-a;src:url(//at.alicdn.com/t/font_890516_k28g15yf7x.eot);src:url(//at.alicdn.com/t/font_890516_k28g15yf7x.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_k28g15yf7x.woff2) format("woff2"),url(//at.alicdn.com/t/font_890516_k28g15yf7x.woff) format("woff"),url(//at.alicdn.com/t/font_890516_k28g15yf7x.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_k28g15yf7x.svg#iconfont) format("svg")}.rd-w{font-family:rd-a;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{min-width:1100px}.rd-x{font-size:12px}.rd-y{margin-right:2px}.rd-z{transform:rotate(180deg)}.rd-A{transform:rotate(90deg)}.rd-B{transform:scaleX(-1)}.rd-C{margin-left:100px}.rd-D{margin-right:50px}.rd-E{display:flex;align-items:center}.rd-F{position:-webkit-sticky;position:sticky;top:0}.rd-G{text-align:center}.rd-H{width:100%}');var r=navigator.language.toLowerCase();try{var a=window.localStorage;a&&(r=a.getItem("l.lang")||r)}catch(e){}t.config(e),t.config({lang:r});var n=i.default;t.View.merge({ctor:function(){this.set({i18n:n})},_b:function(e,t){var i=this;t=t||150;var r,a=Date.now();return function(){for(var n=[],d=0;d<arguments.length;d++)n[d]=arguments[d];var o=Date.now();clearTimeout(r),o-a>t?(a=o,e.apply(i,n)):r=setTimeout(function(){e.apply(i,n)},t-(o-a))}}}),document.title=n("l"),t.boot({defaultPath:"/index",defaultView:"designer/index",rootId:"app",error:function(e){setTimeout(function(){throw e},0)}})})}};define("gallery/mx-color/index",["magix","../mx-dragdrop/index","../mx-monitor/index"],(e,t,i)=>{let r,a,n={xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},d={offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"},o={class:"rd-aM"},l={value:"value"};var s=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=e("magix"),f=e("../mx-dragdrop/index"),p=e("../mx-monitor/index");c.default.applyStyle("rd-i",'.rd-ay{position:relative;height:22px;border:1px solid #e6e6e6;border-radius:2px;display:flex;align-items:center;cursor:pointer;padding:1px;transition:border-color .25s}.rd-ay:hover{border-color:#ccc}.rd-az,.rd-aA{background:#fff;background-image:linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0),linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0);background-position:0 0,6px 6px;background-size:12px 12px}.rd-aA{min-width:18px;height:18px;text-indent:-100000em;border:1px solid #ccc;position:relative}.rd-aB{padding:3px 4px}.rd-aA:after{content:" ";display:block;right:0;bottom:0;position:absolute;border-color:transparent #ccc;border-style:solid;border-width:6px 6px 0 0}.rd-aC{position:absolute;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:2px}.rd-aD-bottom{top:100%;margin-top:4px}.rd-aD-top{bottom:100%;margin-bottom:4px}.rd-aE{width:176px}.rd-aF{border:1px solid #000;float:left;width:12px;height:12px;margin:-1px 0 0 -1px;position:relative}.rd-aG:before{content:" ";position:absolute;left:2px;top:2px;border:1px inset #e8e8e8;width:6px;height:6px}.rd-aH{margin:5px 0;height:150px}.rd-aI{position:relative;float:left;width:148px;height:148px}.rd-aJ{position:absolute;width:8px;height:8px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;left:-4px;top:-4px}.rd-aK{width:18px;height:148px;position:relative;float:left;margin-left:10px}.rd-aL{position:absolute;left:2px;top:-2px;height:4px;width:14px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.rd-aM{height:25px}.rd-aN{width:80px}.rd-aO,.rd-aN{margin-right:5px;vertical-align:middle}.rd-aO{width:30px;border-radius:2px;height:22px;display:inline-block;border:1px solid #ddd}.rd-aP{position:absolute;right:5px;top:4px;font-size:12px;opacity:.2}.rd-aP:hover{opacity:.5}.rd-az{width:174px;height:12px;margin-bottom:5px}.rd-aQ{height:100%}.rd-aR{position:absolute;left:-2px;top:2px;height:8px;width:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.rd-aS{cursor:not-allowed;background-color:#fbfbfb}.rd-aS:hover{border-color:#e6e6e6}.rd-aS:hover .rd-aP{opacity:.1}.rd-aS .rd-aA{opacity:.4}.rd-aS .rd-aP{opacity:.1}');var h=["d81e06","f4ea2a","1afa29","1296db","13227a","d4237a","ffffff","e6e6e6","dbdbdb","cdcdcd","bfbfbf","8a8a8a","707070","515151","2c2c2c","000000","ea986c","eeb174","f3ca7e","f9f28b","c8db8c","aad08f","87c38f","83c6c2","7dc5eb","87a7d6","8992c8","a686ba","bd8cbb","be8dbd","e89abe","e8989a","e16632","e98f36","efb336","f6ef37","afcd51","7cba59","36ab60","1baba8","17ace3","3f81c1","4f68b0","594d9c","82529d","a4579d","db649b","dd6572","d84e06","e0620d","ea9518","f4ea2a","8cbb1a","2ba515","0e932e","0c9890","1295db","0061b2","0061b0","004198","122179","88147f","d3227b","d6204b"],g=function(e,t,i){var r,a,n,d,o;e=e%360/60,r=a=n=i-(o=i*t);var l=255*(r+=[o,d=o*(1-Math.abs(e%2-1)),0,0,d,o][e=~~e]),s=255*(a+=[d,o,o,d,0,0][e]),u=255*(n+=[0,0,d,o,o,d][e]);return{r:l,g:s,b:u,hex:"#"+(16777216|u|s<<8|l<<16).toString(16).slice(1)}};t.default=c.default.View.extend({tmpl:(e,t,i,s,u,c,f,p)=>{let h,g,x,b,_,v,y,m,w,k,A,S=[],{disabled:M,text:j,textWidth:z,color:T,clear:P,i18n:U,placement:V,align:O,renderUI:E,shortcuts:Y,alpha:I,current:X}=e;if(g=[],j&&(_=[t(0,0,s(j))],b="",z&&(b+="width:"+s(z)+"px"),x=[t("div",{class:"rd-aB rd-j","mx5-click":i+"\x1e_bl()",style:b},_)],g.push(...x)),x=[t(0,0,"picker")],b="",T&&(b+="background:"+s(T)+";"),j||(b+="width:100%"),g.push(t("div",{class:"rd-aA rd-j","mx5-click":i+"\x1e_bl()",style:b},x)),P&&T&&(_=[t(0,0,"\ue67f")],x=[t("i",{class:"rd-_ rd-aP","mx5-click":i+"\x1e_bm()",title:s(U("a4"))},_)],g.push(...x)),x=[],E){_=[],v=[];for(let e=Y.length,r=0;r<e;r+=1){let e=Y[r];y=[t("li",{class:"rd-aF",id:"sc_"+s(e)+"_"+i,style:"background:#"+s(e),"mx5-click":i+"\x1e_bi({color:'#"+p(e)+"'})"})],v.push(...y)}_.push(t("ul",{class:"rd-aE rd-i",id:"scs_"+i},v)),r?_.push(r):(k=[t("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"})],A?k.push(A):k.push(A=t("stop",d)),w=[t("lineargradient",{id:"gb_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},k)],k=[t("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"})],A?k.push(A):k.push(A=t("stop",d)),w.push(t("lineargradient",{id:"gw_"+i,x1:"0%",y1:"100%",x2:"100%",y2:"100%"},k)),m=[t("defs",0,w),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gw_"+i+")"}),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gb_"+i+")"})],y=[t("svg",n,m),t("div",{class:"rd-aJ",id:"ci_"+i})],v=[t("div",{class:"rd-aI",id:"cz_"+i,"mx5-mousedown":i+"\x1e_be()"},y)],k=[t("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),t("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),t("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),t("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),t("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),t("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),t("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),t("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),t("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})],w=[t("lineargradient",{id:"ghsv_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},k)],m=[t("defs",0,w),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#ghsv_"+i+")"})],y=[t("svg",n,m),t("div",{class:"rd-aL",id:"si_"+i})],v.push(t("div",{class:"rd-aK","mx5-mousedown":i+"\x1e_bf()"},y)),_.push(r=t("div",{_:"_",class:"rd-aH"},v))),I&&(a?v=[a]:(m=[t("div",{class:"rd-aR",id:"ai_"+i})],y=[t("div",{class:"rd-aQ rd-g",id:"at_"+i,"mx5-mousedown":i+"\x1e_bg()"},m)],v=[a=t("div",{_:"a",class:"rd-az rd-g"},y)]),_.push(...v)),v=[t("span",{_:"b",class:"rd-aO",id:"bc_"+i}),t("input",{class:"rd-aN rd-t",readonly:!0,id:"v_"+i,value:s(X)},0,l,1)],y=[t(0,0,"\u786e\u5b9a")],v.push(t("button",{_:"c",class:"rd-m rd-n",type:"button","mx5-click":i+"\x1e_bh();"},y)),_.push(t("div",o,v)),x.push(..._)}return g.push(t("div",{id:"bd_"+i,class:"rd-aC rd-aD-"+s(V),style:s(O)+":-1px"},x)),h="rd-ay",M&&(h+=" rd-aS"),S.push(t("div",{"mx5-contextmenu":i+"\x1e_B()",id:"root_"+i,class:h},g)),t(i,0,S)},mixins:[f.default],init:function(e){var t=this;this.set({shortcuts:h}),p.default._a5(),this.on("destroy",function(){p.default._ar(t),p.default._a6()})},assign:function(e){return this._2=e.color||"",this._a7=e.alpha+""=="true",this._a8={h:0,s:1,v:1},this.set({clear:e.clear+""=="true",text:e.text||"",disabled:e.disabled+""=="true",align:e.align||"left",textWidth:e.textWidth||0,placement:e.placement||"bottom"}),!0},render:function(){this.digest({alpha:this._a7,color:this._2,current:this._2})},_ba:function(e,t){var i=this,r=i._a8;r.h=e.h,r.s=e.s,r.v=e.v;var a=g(e.h,e.s,e.v).hex,n=c.default.node("cz_"+i.id),d=n.clientWidth,o=g(e.h,1,1);if(n.style.background=o.hex,i._a9=a,i._b_(),!t){var l=c.node("scs_"+i.id).querySelector('li[class$="rd-aG"]');l&&l.classList.remove("rd-aG");var s=c.node("si_"+i.id),u=s.clientHeight/2,f=Math.round(r.h*d/360-u),p=c.node("ci_"+i.id),h=p.clientWidth/2;s.style.top=f+"px",f=Math.round((1-r.v)*d-h);var x=Math.round(r.s*d-h);p.style.left=x+"px",p.style.top=f+"px"}var b=c.node("sc_"+a.substr(1,6)+"_"+i.id);b&&b.classList.add("rd-aG")},_bd:function(e){var t=parseInt(e.substr(1,2),16);isNaN(t)&&(t=255);var i=parseInt(e.substr(3,2),16);isNaN(i)&&(i=255);var r=parseInt(e.substr(5,2),16);isNaN(r)&&(r=255);var a=function(e,t,i){var r,a;return e/=255,t/=255,i/=255,{h:(0==(a=(r=Math.max(e,t,i))-Math.min(e,t,i))?null:r==e?(t-i)/a+(t<i?6:0):r==t?(i-e)/a+2:(e-t)/a+4)%6*60,s:0===a?0:a/r,v:r}}(t,i,r),n=parseInt(e.substr(7,2),16);isNaN(n)&&(n=255),this._bb=("0"+n.toString(16)).slice(-2),this._ba(a),this._a7&&this._bc(n)},_bc:function(e){var t=c.node("ai_"+this.id);e/=255,e*=c.node("at_"+this.id).clientWidth,e-=t.clientWidth/2,t.style.left=e+"px"},_b_:function(){var e=this,t=c.node("bc_"+e.id),i=e._a9;e._a7&&(c.node("at_"+e.id).style.background="linear-gradient(to right, "+i+"00 0%,"+i+" 100%)",i+=e._bb),t.style.background=i,c.node("v_"+e.id).value=i},"_B<contextmenu>":function(e){e.preventDefault()},"_be<mousedown>":function(e){var t=this,i=c.node("cz_"+t.id).clientWidth,r=c.node("ci_"+t.id).clientWidth/2,a=e.eventTarget.getBoundingClientRect(),n=e.pageX-a.left-window.pageXOffset,d=e.pageY-a.top-window.pageYOffset,o=n/i,l=(i-d)/i;t._ba({h:t._a8.h,s:o,v:l});var s=c.node("ci_"+t.id),u=getComputedStyle(s),f=u.left,p=u.top,h=parseInt(f,10),g=parseInt(p,10),x=e;t._x(e,function(e){var a=e.pageY-x.pageY,n=e.pageX-x.pageX;(a+=g)<=-r?a=-r:a>=i-r&&(a=i-r),(n+=h)<=-r?n=-r:n>=i-r&&(n=i-r),s.style.left=n+"px",s.style.top=a+"px";var d=(n+r)/i,o=(i-(a+r))/i;t._ba({h:t._a8.h,s:d,v:o})})},"_bf<mousedown>":function(e){var t=this,i=e.eventTarget,r=c.node("si_"+t.id),a=c.node("cz_"+t.id).clientWidth,n=r.clientHeight/2,d=i.getBoundingClientRect(),o=(e.pageY-d.top-window.scrollY)/a*360;t._ba({h:o,s:t._a8.s,v:t._a8.v});var l=parseInt(getComputedStyle(r).top,10);t._x(e,function(i){var d=i.pageY-e.pageY;(d+=l)<=-n?d=-n:d>=a-n&&(d=a-n),r.style.top=d+"px";var o=(d+n)/a*360;t._ba({h:o,s:t._a8.s,v:t._a8.v},!0)})},"_bg<mousedown>":function(e){var t=e.eventTarget,i=this,r=c.node("ai_"+i.id),a=c.node("at_"+i.id).clientWidth,n=r.clientWidth/2,d=t.getBoundingClientRect(),o=(e.pageX-d.left)/a*255|0;i._bb=("0"+o.toString(16)).slice(-2),i._bc(o),i._b_();var l=getComputedStyle(r),s=parseInt(l.left,10);i._x(e,function(t){var d=t.pageX-e.pageX;(d+=s)<=-n?d=-n:d>=a-n&&(d=a-n),r.style.left=d+"px";var o=Math.round((d+n)/a*255);i._bb=("0"+o.toString(16)).slice(-2),i._b_()})},"_bh<click>":function(){var e=this;e._z();var t=c.node("v_"+e.id).value;t!=e._2&&(e.digest({color:t,current:t}),c.default.dispatch(e.root,"input",{color:e._2=t}))},"_bi<click>":function(e){this._bd(e.params.color),e.eventTarget.classList.add("rd-aG")},_bj:function(e){return c.default.inside(e,this.root)},_y:function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return e=c.node("bd_"+this.id),"none"!=getComputedStyle(e).display?[3,2]:(e.style.display="block",p.default._as(this),c.node("root_"+this.id).classList.add("rd-v"),this._bk?[3,2]:[4,this.digest({renderUI:!0})]);case 1:t.sent(),this._bd(this._2),this._bk=1,t.label=2;case 2:return[2]}})})},_z:function(){var e=c.node("bd_"+this.id);"none"!=getComputedStyle(e).display&&(c.node("root_"+this.id).classList.remove("rd-v"),e.style.display="none",p.default._ar(this))},"_bl<click>":function(){if(!this.get("disabled")){var e=c.node("bd_"+this.id);"none"==getComputedStyle(e).display?this._y():this._z()}},"_bm<click>":function(){if(!this.get("disabled")){var e=this;if(e._bk){var t=c.node("v_"+e.id).value;e._z(),e.digest({color:"",current:t})}else e.digest({color:""});c.default.dispatch(e.root,"input",{color:e._2=""})}}})}),define("gallery/mx-column/index",["magix","../mx-number/index"],(e,t,i)=>{let r;e("../mx-number/index"),Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix");a.default.State;a.default.applyStyle("rd-j",".rd-aT{border-radius:2px;font-size:12px;color:#999;border:1px solid #e6e6e6;padding:0 4px}"),t.default=a.default.View.extend({tmpl:(e,t,i,a,n,d,o,l)=>{let s,u,c,f,p=[],{fields:h,min:g,max:x,columns:b}=e;if(h.length){u=[];for(let e=h.length,r=0;r<e;r+=1){let e=h[r];f="gallery/mx-number/index?",null!=(s=g)&&(f+="min="+n(s)),null!=(s=x)&&(f+="&max="+n(s)),f+="&value="+o(d,b[e.id],"\x1ef."+e.id),c=[t("div",{$:"columns,fields","mx5-input":i+"\x1e_bo({id:'"+l(e.id)+"'})","mx5-change":i+"\x1e_bp()",class:"rd-g rd-t","mx5-view":f})],u.push(...c)}p.push(...u)}else r?u=[r]:(c=[t(0,0,"\u8bf7\u5148\u7ed1\u5b9a\u6570\u636e\u5b57\u6bb5")],u=[r=t("div",{_:"_",class:"rd-aT"},c)]),p.push(...u);return t(i,0,p)},assign:function(e){var t=e.props,i=e.min,r=e.max,a=t.bind.fields||[],n=t.columns||{};this.set({min:i,max:r,fields:a,columns:n})},_bn:function(){var e=this.get("columns");a.default.dispatch(this.root,"change",{columns:e})},render:function(){this.digest()},"_bo<input>":function(e){e.stopPropagation(),this.get("columns")[e.params.id]=e.value,this._bn()},"_bp<change>":function(e){e.stopPropagation()}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],(e,t,i)=>{let r={class:"rd-o"},a={class:"rd-p",style:"word-break:break-all"},n={class:"rd-i rd-q"};Object.defineProperty(t,"__esModule",{value:!0});var d=e("magix"),o=e("../../i18n/index");t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let o,l,s=[],{title:u,body:c,i18n:f}=e;return l=[t(0,0,d(u))],o=[t("h5",0,l)],s.push(t("div",r,o)),o=[t(0,0,d(c))],s.push(t("div",a,o)),l=[t(0,0,d(f("a6")))],o=[t("button",{"mx5-click":i+"\x1e_bh();",class:"rd-e rd-m rd-n",type:"button"},l)],s.push(t("div",n,o)),t(i,0,s)},init:function(e){this._bq=e.dialog,this._br=e.body,this._bs=e.title||o.default("a5"),this._bt=e.enterCallback},render:function(){this.digest({body:this._br,title:this._bs})},"_bh<click>":function(){this._bq.close(),this._bt&&d.default.toTry(this._bt)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],(e,t,i)=>{let r={class:"rd-o"},a={class:"rd-p",style:"word-break:break-all"},n={class:"rd-i rd-q"};Object.defineProperty(t,"__esModule",{value:!0});var d=e("magix"),o=e("../../i18n/index");t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let o,l,s=[],{title:u,body:c,i18n:f}=e;return l=[t(0,0,d(u))],o=[t("h5",0,l)],s.push(t("div",r,o)),o=[t(0,0,d(c))],s.push(t("div",a,o)),l=[t(0,0,d(f("a7")))],o=[t("button",{type:"button","mx5-click":i+"\x1e_bv()",class:"rd-e rd-m"},l)],l=[t(0,0,d(f("a6")))],o.push(t("button",{type:"button","mx5-click":i+"\x1e_bh()",class:"rd-a rd-e rd-m rd-n"},l)),s.push(t("div",n,o)),t(i,0,s)},init:function(e){var t=this;t._bq=e.dialog,t._br=e.body,t._bs=e.title||o.default("a5"),t._bt=e.enterCallback,t._bu=e.cancelCallback},render:function(){this.digest({body:this._br,title:this._bs})},"_bh<click>":function(){this._bq.close(),this._bt&&d.default.toTry(this._bt)},"_bv<click>":function(){this._bq.close(),this._bu&&d.default.toTry(this._bu)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],(e,t,i)=>{let r={class:"rd-a1 rd-r"},a={class:"rd-s"};var n=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=e("magix");e("./alert"),e("./confirm"),o.default.applyStyle("rd-k",".rd-aU{position:absolute}.rd-aV{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.rd-aW{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.rd-aW:focus,.rd-aW:hover{opacity:.5}.rd-aX{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.rd-aY{-webkit-filter:blur(3px);filter:blur(3px)}.rd-aZ{-webkit-animation:rd-a .3s;animation:rd-a .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.rd-a0{position:absolute;right:10px;top:0;width:1px;height:0}.rd-a1{padding:80px 0}@-webkit-keyframes rd-a{0%{opacity:0}to{opacity:.2}}@keyframes rd-a{0%{opacity:0}to{opacity:.2}}.rd-a2{-webkit-animation:rd-b .2s;animation:rd-b .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-b{0%{opacity:.2}to{opacity:0}}@keyframes rd-b{0%{opacity:.2}to{opacity:0}}.rd-a3{margin-bottom:50px;min-height:60px}.rd-a4{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.rd-a5{-webkit-animation:rd-c .3s;animation:rd-c .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.rd-a6{-webkit-animation:rd-d .2s;animation:rd-d .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");var l=500,s=[];t.default=o.default.View.extend({tmpl:(e,t,i,n)=>{let d,o,l,s,u,c=[],{removeClass:f,zIndex:p,left:h,top:g,width:x,closable:b}=e;return d="rd-aX",f||(d+=" rd-aZ"),c.push(t("div",{style:"z-index:"+n(p-1),id:"mask_"+i,class:d})),l=[t("input",{_:"_",id:"focus_"+i,class:"rd-a0"},0,0,1)],s=[t(0,0,"\ue67f")],l.push(t("span",{class:"rd-_ rd-aW "+n(b?"":"rd-h"),"mx5-click":i+"\x1e_bz()"},s)),u=[t("span",a)],s=[t("div",r,u)],l.push(t("div",{_:"a",class:"rd-a3 rd-aV",id:"cnt_"+i},s)),d="rd-aU",f||(d+=" rd-a5"),o=[t("div",{id:"body_"+i,style:"left:"+n(h)+"px;top:"+n(g)+"px;width:"+n(x)+"px",class:d},l)],c.push(t("div",{class:"rd-a4",style:"z-index:"+n(p)},o)),t(i,0,c)},init:function(e){var t=this,i=o.default.node("app"),r=t.root;t.on("destroy",function(){!function(e){for(var t=s.length-1;t>=0;t--)if(s[t].id==e.id){s.splice(t,1);break}}(t),500==(l-=2)&&i.classList.remove("rd-aY"),o.default.dispatch(r,"close"),r.parentNode.removeChild(r)}),o.default.has(e,"closable")||(e.closable=!0),t.set(e),500==l&&i.classList.add("rd-aY"),l+=2,s.push(t)},render:function(){return n(this,void 0,void 0,function(){var e,t,i;return d(this,function(r){switch(r.label){case 0:return[4,(e=this).digest({zIndex:l})];case 1:return r.sent(),t=e.get(),i=o.default.mark(e,"_bw"),setTimeout(function(){i()&&(e.root.style.display="block",o.default.node("focus_"+e.id).focus())},30),e.owner.mountVframe(o.default.node("cnt_"+e.id),t.view,t),setTimeout(function(){i()&&e.digest({removeClass:!0})},300),[2]}})})},_bx:function(e){var t=o.default.node("cnt_"+this.id);o.default.Vframe.byNode(t).invoke("fire",["unload",e])},_by:function(){var e=this.id;o.default.node("body_"+e).classList.add("rd-a6"),o.default.node("mask_"+e).classList.add("rd-a2")},"_bz<click>":function(){o.default.dispatch(this.root,"dlg_close")},"$doc<keyup>":function(e){if(27==e.keyCode){var t=s[s.length-1];t==this&&t.get("closable")&&o.default.dispatch(this.root,"dlg_close")}}},{_bB:function(e,t){var i=o.default.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+i+'" style="display:none" />');var r,a=o.default.node(i),n=e.owner.mountVframe(a,"gallery/mx-dialog/index",t);return a.addEventListener("dlg_close",function(){if(!a._bA&&!r){var e=function(){a._bA=1,n.invoke("_by"),setTimeout(function(){n.unmountVframe()},200)},t={p:0,prevent:function(){r=1},resolve:function(){t.p=1,r=0,e()},reject:function(){t.p=1,r=0}};n.invoke("_bx",[t]),r||t.p||e()}}),a},alert:function(e,t,i){this.confirm(e,t,null,i,"alert")},confirm:function(e,t,i,r,a){this.mxDialog("gallery/mx-dialog/"+(a||"confirm"),{body:e,cancelCallback:i,enterCallback:t,title:r,modal:!0,width:300,closable:!1,left:(window.innerWidth-300)/2,top:Math.max((window.innerHeight-220)/2,0)})},mxDialog:function(e,t){var i,r,a=this,n={view:e},d=o.default.mark(this,"_bq");return o.default.use(e,function(l){var s="$dlg_"+e;!a[s]&&d()&&(a[s]=1,Object.assign(n,l.dialogOptions),Object.assign(n,t),n.width||(n.width=500),n.left||(n.left=(window.innerWidth-n.width)/2),n.top||(n.top=100),n.dialog={close:function(){i&&o.default.dispatch(i,"dlg_close")}},(i=a._bB(a,n)).addEventListener("close",function(){delete a[s],r&&r()}))}),{close:function(){i&&o.default.dispatch(i,"dlg_close")},whenClose:function(e){r=e}}}})}),define("gallery/mx-dragdrop/index",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.getComputedStyle,a=function(e){(e=window.getSelection)&&e().removeAllRanges()},n=function(e){e.preventDefault()},d=["mousemove"],o=["mouseup"],l=["keydown","mousewheel","DOMMouseScroll","fullscreenchange"];t.default={ctor:function(){var e=this;e.on("destroy",function(){e._bC()})},_bC:function(e){var t=this;if(t._bD){for(var i=void 0,r=0,a=d;r<a.length;r++)i=a[r],document.removeEventListener(i,t._bD);for(var s=0,u=o;s<u.length;s++)i=u[s],document.removeEventListener(i,t._bE);for(var c=0,f=l;c<f.length;c++)i=f[c],document.removeEventListener(i,n);window.removeEventListener("blur",t._bE),delete t._bD;var p=t._bF;p&&p(e)}},_x:function(e,t,i){var r=this;if(r._bC(),e){a(),r._bF=i,r._bE=r._bC.bind(r),r._bD=function(e){t&&t(e)};for(var s=void 0,u=0,c=d;u<c.length;u++)s=c[u],document.addEventListener(s,r._bD);for(var f=0,p=o;f<p.length;f++)s=p[f],document.addEventListener(s,r._bE);for(var h=0,g=l;h<g.length;h++)s=g[h],document.addEventListener(s,n,{passive:!1});window.addEventListener("blur",r._bE)}},_L:function(e,t){var i=null;if(document.elementFromPoint)for(!n._bG&&r&&(n._bG=!0,n._bH=null!==document.elementFromPoint(-1,-1)),n._bH&&(e+=window.pageXOffset,t+=window.pageYOffset),i=document.elementFromPoint(e,t);i&&3==i.nodeType;)i=i.parentNode;return i},_bI:a}}),define("gallery/mx-dropdown/index",["magix","../mx-monitor/index"],(e,t,i)=>{let r,a={class:"rd-bd"};var n=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=e("magix"),l=e("../mx-monitor/index");o.default.applyStyle("rd-l",".rd-a7{outline:0;position:relative;min-width:50px;width:100%;background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;display:inline-block;vertical-align:middle;height:22px;transition:all .25s}.rd-a7:hover{border-color:#ccc}.rd-a8{color:#333;position:relative;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 20px 0 3px}.rd-a9{cursor:not-allowed;background-color:#fbfbfb}.rd-a9:hover{border-color:#e6e6e6}.rd-a9 .rd-a8{cursor:not-allowed}.rd-b_{position:absolute;right:0;top:0;font-size:20px;color:#ccc;transition:all .25s}.rd-ba .rd-b_{transform:rotate(180deg);top:0}.rd-ba,.rd-ba:hover{border-color:#fa742b}.rd-bb{height:20px;line-height:21px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.rd-bc{color:#999}.rd-bd{position:absolute;top:100%;left:-1px;right:-1px;margin-top:4px;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-ba .rd-bd{display:block}.rd-be{overflow:auto;max-height:196px;padding:2px 0}.rd-bf{padding:0 2px;margin:2px 0}.rd-bg{cursor:pointer;color:#666;display:block;width:100%;padding:0 5px;height:20px;line-height:20px;border-radius:2px}.rd-bg:hover{color:#333;background-color:#f0f0f0}.rd-bh,.rd-bh:active,.rd-bh:focus,.rd-bh:hover{color:#fff;background-color:#fa742b}"),t.default=o.default.View.extend({tmpl:(e,t,i,n,d,o,l)=>{let s,u,c,f,p,h,g,x,b,_=[],{disabled:v,selectedText:y,selected:m,emptyText:w,rList:k,list:A,textKey:S,valueKey:M}=e;if(u=[],f=[t(0,0,n(y))],s="rd-bb",""!==m&&m!=w||(s+=" rd-bc"),c=[t("span",{class:s},f)],r?c.push(r):(f=[t(0,0,"\ue692")],c.push(r=t("span",{_:"_",class:"rd-_ rd-b_"},f))),u.push(t("div",{class:"rd-a8","mx5-click":i+"\x1e_bl()",title:n(y)},c)),k){h=[];for(let e=A.length,r=0;r<e;r+=1){let e=A[r];g=[];let a=e,d=e;S&&M&&(p="",a=e[S],p+=" ",d=e[M]);let u=d+""==m+"";b=[t(0,0,n(a))],s="rd-bg rd-l",u&&(s+=" rd-bh"),x=[t("span",{"mx5-click":i+"\x1e_bJ({item:'"+l(o,e,"\x1eg."+r)+"'})",class:s},b)],g.push(t("li",{title:n(a),active:u,class:"rd-bf"},x)),h.push(...g)}f=[t("ul",{class:"rd-be",id:"list_"+i},h)],c=[t("div",a,f)],u.push(...c)}return s="rd-a7",v&&(s+=" rd-a9"),_.push(t("div",{id:"dd_"+i,class:s},u)),t(i,0,_)},init:function(e){var t=this;l.default._a5(),this.on("destroy",function(){l.default._ar(t),l.default._a6()})},assign:function(e){var t=e.selected,i=e.textKey||"",r=e.valueKey||"",a=e.emptyText||"",n=e.disabled+""=="true",d=e.list||[];d=d.slice();var l=o.default.toMap(d,r);if(a)if(i&&r){if(!l[""]){var s={};s[i]=a,s[r]="",d.unshift(s),l[""]=s}}else l[a]||(d.unshift(a),l[a]=a);t||!a||i||r||(t=a),t&&l[t]||(t=l[t]||d[0],i&&r&&(t=t[r]));var u=i&&r?l[t][i]:t;return this.set({selected:t,selectedText:u,list:d,textKey:i,valueKey:r,emptyText:a,disabled:n}),!0},render:function(){this.digest()},_bj:function(e){return o.default.inside(e,this.root)},_y:function(){return n(this,void 0,void 0,function(){var e,t,i;return d(this,function(r){switch(r.label){case 0:return e=this,(t=o.default.node("dd_"+e.id)).classList.contains("rd-ba")?[3,3]:(t.classList.add("rd-ba"),e.get("rList")?[3,2]:[4,e.digest({rList:!0})]);case 1:r.sent(),r.label=2;case 2:t=o.default.node("list_"+e.id),(i=t.querySelector("li[active]"))&&i.scrollIntoViewIfNeeded&&i.scrollIntoViewIfNeeded(),l.default._as(e),r.label=3;case 3:return[2]}})})},_z:function(){var e=o.default.node("dd_"+this.id);e.classList.contains("rd-ba")&&(e.classList.remove("rd-ba"),l.default._ar(this))},"_bl<click>":function(){var e=o.default.node("dd_"+this.id);e.classList.contains("rd-ba")?this._z():e.classList.contains("rd-a9")||this._y()},"_bJ<click>":function(e){var t=this;t._z();var i=t.get("valueKey"),r=t.get("textKey"),a=t.get("selected"),n=e.params.item,d=n,l=n;r&&i&&(l=n[r],d=n[i]),a!==d&&(t.digest({selected:d,selectedText:l}),o.default.dispatch(t.root,"change",{item:n,value:i?n[i]:n,text:r?n[r]:n}))}})}),define("gallery/mx-field/index",["magix"],(e,t,i)=>{let r,a={class:"rd-bj"};var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var d=e("magix"),o=d.default.State;d.default.applyStyle("rd-m",'.rd-bi{min-height:100px;border:1px solid #e6e6e6;background:#fff;border-radius:2px}.rd-bj{margin-top:40px;font-size:12px;text-align:center;color:#999}.rd-bk{border:1px solid #e6e6e6;border-radius:2px;margin:2px;line-height:20px;height:20px;font-size:12px;position:relative;background-color:#fff}.rd-bk:after{content:" ";width:98%;margin:0 1%;height:2px;left:0;position:absolute}.rd-bl{cursor:not-allowed}.rd-bl,.rd-bl .rd-bk{background:#fbfbfb}.rd-bm-top:after{top:-3px;background-color:#bd361b}.rd-bm-bottom:after{bottom:-3px;background-color:#bd361b}.rd-bn{background-color:#fff;opacity:.4}.rd-bo{background-color:rgba(250,116,43,.06)}'),t.default=d.default.View.extend({tmpl:(e,t,i,n)=>{let d,o,l,s,u,c,f=[],{enter:p,disabled:h,fields:g,dragIndex:x,index:b,onTop:_,i18n:v}=e;if(o=[],g&&g.length){l=[];for(let e=g.length,a=0;a<e;a+=1){let e=g[a];r?u=[r]:(c=[t(0,0,"\ue69c")],u=[r=t("span",{_:"_",class:"rd-w"},c)]),c=[t(0,0,n(e.name))],u.push(t("span",0,c)),d="rd-bk",a==x?d+=" rd-bn":a==b&&(d+=" rd-bm-"+n(_?"top":"bottom")),s=[t("div",{draggable:!h&&"true","mx5-dragstart":i+"\x1e_bT({index:"+n(a)+"})","mx5-dragover":i+"\x1e_bU({index:"+n(a)+"})",class:d},u)],l.push(...s)}o.push(...l)}else s=[t(0,0,n(v("a8")))],l=[t("div",a,s)],o.push(...l);return d="rd-bi",p&&(d+=" rd-bo"),h&&(d+=" rd-bl"),f.push(t("div",{"mx5-dragleave":i+"\x1e_bQ()","mx5-dragenter":i+"\x1e_bS()","mx5-contextmenu":i+"\x1e_B()",class:d},o)),t(i,0,f)},assign:function(e){if(this._bK=e.props,this._bL=null,this._bM=null,this._bN=null,this._bO=null,this._bP=null,e.props.bind){var t=e.props.bind,i=t.url,r=t.fields,a=t.id;i&&(this._bL=i),a&&(this._bM=a),r&&(this._bN=r,this.set({fields:r}))}this.set(e)},render:function(){this.digest()},_bn:function(){var e,t=this._bL,i=this._bN,r=this._bM,a=this._bK.columns||{},o=n({},a);for(var l in a)delete a[l];for(var s=0,u=i;s<u.length;s++){a[(l=u[s]).id]=null!==(e=o[l.id])&&void 0!==e?e:120}d.default.dispatch(this.root,"change",{bindField:{url:t,id:r,fields:i}})},"_bQ<dragleave>":function(e){this.get("disabled")||(d.default.inside(e.relatedTarget,e.eventTarget)||this.digest({enter:!1,index:-1}))},"_bS<dragenter>":function(e){if(!this.get("disabled")&&!d.default.inside(e.relatedTarget,e.eventTarget)){var t=this._bN,i=this.get("index"),r=this._bO;o.get("_bR")&&t.length&&(null==i||-1==i)&&this.set({index:t.length-1,onTop:0}),this.digest({enter:-1==r||null==r})}},"_bT<dragstart>":function(e){this._bO=e.params.index,this._bP=e.eventTarget,e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain","fix ff"),this.set({dragIndex:this._bO})},"_bU<dragover>":function(e){if(e.preventDefault(),!this.get("disabled"))if(this._bP!=e.eventTarget){e.dataTransfer.dropEffect="move";var t=e.eventTarget.getBoundingClientRect(),i=t.top+t.height/2>e.pageY,r=e.params.index;this.digest({onTop:i,index:r})}else e.dataTransfer.dropEffect="none"},"$doc<drop>":function(e){if(e.preventDefault(),!this.get("disabled")){if(d.default.inside(e.target,this.root)){var t=o.get("_bR");if(t){o.set({_bR:null});var i=t.url,r=t.field,a=t.id;u=this._bN;if(this._bL!=i)this._bL=i,u=[r],this._bN=u,this._bM=a,this.set({index:-1,fields:u});else null!=(n=this.get()).index&&-1!=n.index?u.splice(n.index+(n.onTop?0:1),0,r):u.length||u.push(r),this.set({index:-1,fields:u});this._bn()}else{var n;if(null!=(n=this.get()).index&&-1!=n.index){var l=this._bO,s=(u=this._bN)[l];u.splice(n.index+(n.onTop?0:1),0,s),n.index<l?u.splice(l+1,1):u.splice(l,1),this.set({fields:u,index:-1}),this._bO=-1,this._bn()}}}else{var u,c=this._bO;if(null!=c&&-1!=c)this._bO=-1,(u=this._bN).splice(c,1),this.set({index:-1,fields:u}),this._bn()}this.digest({enter:!1,dragIndex:-1}),this._bP=null}},"_B<contextmenu>":function(e){e.preventDefault()}})}),define("gallery/mx-font/align",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");r.default.applyStyle("rd-n",".rd-bp{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.rd-bq{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-bq:hover{background:#ccc}.rd-br,.rd-br:hover{background:#fa742b;color:#fff}.rd-bs,.rd-bs .rd-bq{cursor:not-allowed;opacity:.7}.rd-bs .rd-bq,.rd-bs .rd-bq:hover{background:#e9e9e9}.rd-bs .rd-br,.rd-bs .rd-br:hover{background:#fb955d}"),t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,n,d,o=[],{disabled:l,i18n:s,value:u}=e;return d=[t(0,0,"\ue687")],a="rd-d rd-bq rd-w","flex-start"==u.h&&(a+=" rd-br"),n=[t("li",{title:r(s("a9")),"mx5-click":i+"\x1e_aq({type:'h',v:'flex-start'})",class:a},d)],d=[t(0,0,"\ue68a")],a="rd-d rd-bq rd-w","center"==u.h&&(a+=" rd-br"),n.push(t("li",{title:r(s("b_")),"mx5-click":i+"\x1e_aq({type:'h',v:'center'})",class:a},d)),d=[t(0,0,"\ue686")],a="rd-d rd-bq rd-w","flex-end"==u.h&&(a+=" rd-br"),n.push(t("li",{title:r(s("ba")),"mx5-click":i+"\x1e_aq({type:'h',v:'flex-end'})",class:a},d)),d=[t(0,0,"\ue614")],a="rd-d rd-bq rd-w","flex-start"==u.v&&(a+=" rd-br"),n.push(t("li",{title:r(s("bb")),"mx5-click":i+"\x1e_aq({type:'v',v:'flex-start'})",class:a},d)),d=[t(0,0,"\ue613")],a="rd-d rd-bq rd-w","center"==u.v&&(a+=" rd-br"),n.push(t("li",{title:r(s("bc")),"mx5-click":i+"\x1e_aq({type:'v',v:'center'})",class:a},d)),d=[t(0,0,"\ue612")],a="rd-d rd-bq rd-w","flex-end"==u.v&&(a+=" rd-br"),n.push(t("li",{title:r(s("bd")),"mx5-click":i+"\x1e_aq({type:'v',v:'flex-end'})",class:a},d)),a="rd-j rd-bp",l&&(a+=" rd-bs"),o.push(t("ul",{class:a},n)),t(i,0,o)},assign:function(e){return this._bV=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render:function(){this.digest()},"_aq<click>":function(e){var t=this;if(!t.get("disabled")){var i=t._bV,a=e.params,n=a.type,d=a.v;i[n]=d,t._bV=i,t.digest({value:i}),r.default.dispatch(t.root,"input",{value:i})}}})}),define("gallery/mx-font/style",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");r.default.applyStyle("rd-n",".rd-bp{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.rd-bq{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-bq:hover{background:#ccc}.rd-br,.rd-br:hover{background:#fa742b;color:#fff}.rd-bs,.rd-bs .rd-bq{cursor:not-allowed;opacity:.7}.rd-bs .rd-bq,.rd-bs .rd-bq:hover{background:#e9e9e9}.rd-bs .rd-br,.rd-bs .rd-br:hover{background:#fb955d}"),t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,n,d,o=[],{disabled:l,i18n:s,value:u}=e;return d=[t(0,0,"\ue749")],a="rd-d rd-bq rd-w",u.bold&&(a+=" rd-br"),n=[t("li",{title:r(s("be")),"mx5-click":i+"\x1e_aq({key:'bold'})",class:a},d)],d=[t(0,0,"\ue65f")],a="rd-d rd-bq rd-w",u.italic&&(a+=" rd-br"),n.push(t("li",{title:r(s("bf")),"mx5-click":i+"\x1e_aq({key:'italic'})",class:a},d)),d=[t(0,0,"\ue62e")],a="rd-d rd-bq rd-w",u.underline&&(a+=" rd-br"),n.push(t("li",{title:r(s("bg")),"mx5-click":i+"\x1e_aq({key:'underline'})",class:a},d)),a="rd-j rd-bp",l&&(a+=" rd-bs"),o.push(t("ul",{class:a},n)),t(i,0,o)},assign:function(e){return this._bV=e.value,this.set({value:e.value,disabled:e.disabled}),!0},render:function(){this.digest()},"_aq<click>":function(e){var t=this;if(!t.get("disabled")){var i=t._bV,a=e.params.key;i[a]=!i[a],t._bV=i,t.digest({value:i}),r.default.dispatch(t.root,"input",{value:i})}}})}),define("gallery/mx-menu/index",["magix","../mx-monitor/index"],(e,t,i)=>{let r,a={class:"rd-bu rd-j"};var n=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=e("magix"),l=e("../mx-monitor/index");o.default.applyStyle("rd-o",".rd-bt{z-index:400}.rd-bu{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;cursor:default;padding:2px 0;box-shadow:0 1px 3px 1px rgba(0,0,0,.06)}.rd-bv{height:22px;line-height:22px;cursor:default;border-radius:2px;padding:0 8px;margin:2px}.rd-bw{color:#fff;background-color:#fa742b}.rd-bx{height:1px;background:#eee;margin:4px 0}.rd-by{color:#ccc;cursor:not-allowed}"),t.default=o.default.View.extend({tmpl:(e,t,i,n,d,o,l)=>{let s,u,c,f,p,h,g=[],{width:x,list:b,disabled:_,textKey:v}=e;u=[];for(let e=b.length,a=0;a<e;a+=1){let e=b[a];c=[],e.spliter?(f=r?[r]:[r=t("li",{_:"_",class:"rd-bx"})],c.push(...f)):(h=[t(0,0,n(e[v]))],p="rd-l rd-bv ",_[e.id]&&(p+=" rd-by"),f=[t("li",{"mx5-mouseover":i+"\x1e_b3({d:"+n(_[e.id]||0)+"})","mx5-mouseout":i+"\x1e_b3({d:"+n(_[e.id]||0)+"});","mx5-click":i+"\x1e_bJ({item:'"+l(o,e,"\x1eg."+a)+"',d:"+n(_[e.id]||0)+"})",title:n(e[v]),class:p},h)],c.push(...f)),u.push(...c)}return s=[t("ul",a,u)],g.push(t("div",{style:"width:"+n(x)+"px;position:absolute;left:-10000px;top:-10000px",class:"rd-bt",id:"cnt_"+i,"mx5-contextmenu":i+"\x1e_B()"},s)),t(i,0,g)},init:function(e){var t=this;l.default._a5(),t.on("destroy",function(){l.default._ar(t),l.default._a6()})},assign:function(e){var t=this,i=e.width||140,r=e.valueKey||"id",a=e.textKey||"text";t._bW=e.list,t._bX=i,t._bY=r,t._bZ=a,t._b0=e.disabled||{},t._b1=e.picked},render:function(e){return n(this,void 0,void 0,function(){var t;return d(this,function(i){switch(i.label){case 0:return[4,(t=this).digest({disabled:t._b0,list:t._bW,width:t._bX,valueKey:t._bY,textKey:t._bZ})];case 1:return i.sent(),e&&this._y(e),[2]}})})},_bj:function(e){return o.default.inside(e,this.root)},_y:function(e){if(!this._b2){this._b2=1;var t=o.node("cnt_"+this.id),i=t.clientWidth,r=t.clientHeight,a=e.pageX,n=e.pageY;a+i>window.innerWidth&&(a-=i)<0&&(a=0),n+r>window.innerHeight&&(n-=r)<0&&(n=0),t.style.left=a+"px",t.style.top=n+"px",l.default._as(this)}},_z:function(){this._b2&&(this._b2=!1,o.node("cnt_"+this.id).style.left="-10000px",l.default._ar(this))},"_b3<mouseover,mouseout>":function(e){if(!e.params.d){var t=e.eventTarget;!o.default.inside(e.relatedTarget,t)&&t.classList["mouseout"==e.type?"remove":"add"]("rd-bw")}},"_bJ<click>":function(e){if(!e.params.d){this._z();var t=this._b1;t&&t(e.params.item)}},"_B<contextmenu>":function(e){e.preventDefault()}},{show:function(e,t,i){var r="ctx_"+e.id,a=o.node(r),n=a&&o.default.Vframe.byNode(a);n?(n.invoke("assign",[i]),n.invoke("render",[t])):(document.body.insertAdjacentHTML("beforeend",'<div id="'+r+'"></div>'),(n=e.owner.mountVframe(o.node(r),"gallery/mx-menu/index",i)).invoke("_y",[t]))}})}),define("gallery/mx-monitor/index",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0,a=[],n=["mousedown","keyup","touchstart","pointerstart"],d=function(e){for(var t=a.length;t--;){var i=a[t];if(i._b4)a.splice(t,1);else{var r=i._b5;"resize"!=e.type&&r._bj(e.target)||r._z()}}},o=function(e){var t=a[e.id];t&&(t._b4=!0),delete a[e.id]};t.default={_as:function(e){o(e);var t={_b5:e};a.push(t),a[e.id]=t},_ar:o,_a5:function(){if(!r){for(var e=0,t=n;e<t.length;e++){var i=t[e];document.addEventListener(i,d)}window.addEventListener("resize",d)}r++},_a6:function(){if(r>0&&!--r){for(var e=0,t=n;e<t.length;e++){var i=t[e];document.removeEventListener(i,d)}window.removeEventListener("resize",d)}}}}),define("gallery/mx-number/index",["magix"],(e,t,i)=>{"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("magix");n.default.applyStyle("rd-p",'.rd-bz{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}.rd-bA,.rd-bB{width:20px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:2px;cursor:pointer}.rd-bA:hover,.rd-bB:hover{background-color:#f0f0f0}.rd-bB{top:1px}.rd-bA{bottom:1px}.rd-bC:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:4px solid transparent;border-right:4px solid transparent;content:"";display:block;margin:auto}.rd-bA:after{border-top:4px solid #ccc}.rd-bB:after{border-bottom:4px solid #ccc}.rd-bA.rd-bD,.rd-bB.rd-bD{cursor:not-allowed;border-color:transparent}.rd-bA.rd-bD:hover,.rd-bB.rd-bD:hover{background-color:transparent}'),t.default=n.default.View.extend({tmpl:(e,t,i)=>{let r,a=[],{disabled:n}=e;return a.push(t("input",{class:"rd-bz",id:"ipt_"+i,"mx5-focusin":i+"\x1e_cn()","mx5-focusout":i+"\x1e_cp()","mx5-change":i+"\x1e_cm()","mx5-keydown":i+"\x1e_cv()",disabled:n,autocomplete:"off","mx5-input":i+"\x1e_cw()"},0,0,1)),r="rd-bB rd-bC rd-j",n&&(r+=" rd-bD"),a.push(t("span",{"mx5-click":i+"\x1e_ci({i:1})","mx5-mousedown":i+"\x1e_cu({i:1})","mx5-contextmenu":i+"\x1e_B()",class:r})),r="rd-bA rd-bC rd-j",n&&(r+=" rd-bD"),a.push(t("span",{"mx5-click":i+"\x1e_ci()","mx5-mousedown":i+"\x1e_cu()","mx5-contextmenu":i+"\x1e_B()",class:r})),t(i,0,a)},assign:function(e){var t=this,i=e.value;void 0===i&&(i=""),""!==i&&(i=+i);var r=t._b6!==i,a=t._b7;return t._b6=i,t._b8=+e.step||1,t._b9=e.empty+""=="true",t._c_=e.format+""=="true",t._b7=t.root.hasAttribute("disabled"),t._ca=n.default.has(e,"max")?+e.max:Number.MAX_VALUE,t._cb=n.default.has(e,"min")?+e.min:-Number.MAX_VALUE,t._cc=+e.ratio||10,t._cd=e.fixed||0,r||a!=t._b7},render:function(){return r(this,void 0,void 0,function(){var e,t;return a(this,function(i){switch(i.label){case 0:return e=this,t=n.default.mark(this,"@{render}"),[4,e.digest({disabled:e._b7})];case 1:return i.sent(),t()&&e._ce(),[2]}})})},_ce:function(){var e=this,t=e._b6;""!==t&&(t=e._cf(t),e._c_&&(t=t.toFixed(e._cd))),e._cg=n.node("ipt_"+e.id),e._cg.value=t},_cf:function(e){if((e=+e)||0===e){var t=this._ca,i=this._cb;e>t?e=t:e<i&&(e=i),e=+e.toFixed(this._cd)}return isNaN(e)?this._b9?"":0:e},_ch:function(e,t){var i=this;if(""!==e||!i._b9)return(e=i._cf(e))!==i._b6&&(t||(i._cg.value=e),n.default.dispatch(i.root,"input",{value:i._b6=e})),i._b6;n.default.dispatch(i.root,"input",{value:i._b6=e})},_ci:function(e,t){var i=this._b6;""===i&&(i=0);var r=this._b8,a=i;t&&(r*=this._cc),e?a+=r:a-=r,this._ch(a)},_cj:function(){var e=this._cg;e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},_cl:function(){this.root.classList.add("rd-v"),n.default.has(this,"_ck")||(this._ck=this._b6)},"_cm<change>":function(e){e.stopPropagation()},"_cn<focusin>":function(){this._cl()},"_cp<focusout>":function(e){var t=this;t._co||(t.root.classList.remove("rd-v"),t._ce(),t._ck!=t._b6&&n.default.dispatch(t.root,"change",{value:t._b6}),delete t._ck)},"_ci<click>":function(e){this._b7||this._cq||(this._ci(e.params.i,e.shiftKey),this._cj())},"_cu<mousedown>":function(e){var t=this;if(!t._b7){t._co=!0,t._cl();var i=e.params.i,r=n.default.mark(this,"_cr");t._cs=setTimeout(function(){r()&&(t._ct=setInterval(function(){r()&&(t._cq=!0,t._ci(i),t._cj())},50))},300)}},"_cv<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();var t=this;if(!t._b7){var i=e.eventTarget.value;if(""===i)t._b6="";else{var r=Number(i);(r||0===r)&&r!=t._b6&&(t._b6=r)}t._ci(38==e.keyCode,e.shiftKey)}}},"_B<contextmenu>":function(e){e.preventDefault()},"_cw<input>":function(e){e.stopPropagation();var t=e.eventTarget;this._ch(t.value,!0)},"$doc<mouseup>":function(){var e=this;clearTimeout(e._cs),clearInterval(e._ct),delete e._co;var t=n.default.mark(this,"@:mouseup");setTimeout(function(){t()&&delete e._cq},0)}})}),define("gallery/mx-picture/index",["magix","../mx-dialog/index"],(e,t,i)=>{let r={class:"rd-bF"};Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix"),n=e("../mx-dialog/index");a.default.applyStyle("rd-q",".rd-bE{height:100px;padding:4px;border:1px solid #e6e6e6;background:#fff;cursor:pointer;margin:4px 0;border-radius:2px}.rd-bF{line-height:92px;text-align:center;color:#999}.rd-bG{min-height:500px}.rd-bH{width:100px;height:100px;margin:4px;overflow:hidden;border:1px solid #e6e6e6;cursor:pointer;padding:4px}.rd-bH:hover{border-color:#999}.rd-bI{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.rd-bJ{width:100px;margin:0 5px;height:25px}.rd-bK{margin:30px 0}.rd-bL{font-size:16px}.rd-bM{position:absolute;right:3px;top:2px;opacity:.2}.rd-bM:hover{opacity:.5}.rd-bN{background:#fbfbfb;cursor:not-allowed}.rd-bN .rd-bM,.rd-bN .rd-bM:hover{opacity:.1}.rd-bO{margin-bottom:10px;border-bottom:1px solid #fca576}.rd-bP{float:left;height:25px;line-height:25px;padding:0 4px;cursor:pointer;margin:0 5px -1px;transition:all .25s}.rd-bQ{background:#fca576;border-radius:4px 4px 0 0}"),t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d,o,l,s,u=[],{disabled:c,src:f,i18n:p}=e;return d=[],f?(s=[t(0,0,"\ue67f")],l=[t("i",{class:"rd-_ rd-bM","mx5-click":!c&&i+"\x1e_cz()",title:a(p("bh"))},s)],o=[t("div",{class:"rd-bI",style:"background-image:url('"+a(f)+"')"},l)],d.push(...o)):(l=[t(0,0,a(p("bi")))],o=[t("div",r,l)],d.push(...o)),n="rd-bE rd-g",c&&(n+=" rd-bN"),u.push(t("div",{"mx5-click":!c&&i+"\x1e_cy()",class:n},d)),t(i,0,u)},mixins:[n.default],assign:function(e){return this.set(e),!0},render:function(){this.digest()},"_cy<click>":function(){var e=this;e.mxDialog("gallery/mx-picture/list",{width:932,done:function(t){e.digest(t),e._cx(t)}})},_cx:function(e){a.default.dispatch(this.root,"change",e)},"_cz<click>":function(e){e.stopPropagation(),this.digest({src:""}),this._cx({src:"",width:0,height:0})}})}),define("gallery/mx-picture/list",["magix","../../designer/service","../../i18n/index"],(e,t,i)=>{let r={class:"rd-F rd-o"},a={class:"rd-bG rd-i rd-p"},n={class:"rd-bK rd-bL rd-c"},d={class:"rd-bO rd-i"},o={class:"rd-bJ rd-c rd-l"};Object.defineProperty(t,"__esModule",{value:!0});var l=e("magix"),s=e("../../designer/service"),u=e("../../i18n/index");t.default=l.default.View.extend({mixins:[s.default],tmpl:(e,t,i,l,s,u,c,f)=>{let p,h,g,x,b,_,v=[],{i18n:y,error:m,list:w,cIndex:k}=e;if(h=[t(0,0,l(y("bk")))],p=[t("h5",0,h)],v.push(t("div",r,p)),p=[],m)g=[t(0,0,l(m.msg))],h=[t("div",n,g)],p.push(...h);else{h=[],g=[];for(let e=w.length,r=0;r<e;r+=1){_=[t(0,0,l(w[r].title))],b="rd-bP",r==k&&(b+=" rd-bQ"),x=[t("div",{"mx5-click":r!=k&&i+"\x1e_cC({to:"+l(r)+"})",class:b},_)],g.push(...x)}h.push(t("div",d,g));for(let e=w[k].list,r=e.length,a=0;a<r;a+=1){let r=e[a];_=[t("div",{class:"rd-bI",style:"background-image:url('"+l(r.src)+"')"})],x=[t("div",{class:"rd-bH","mx5-click":i+"\x1e_cB({src:'"+f(r.src)+"'})"},_)],_=[t(0,0,l(r.title))],x.push(t("div",o,_)),g=[t("div",{class:"rd-d",title:l(r.title)},x)],h.push(...g)}p.push(...h)}return v.push(t("div",a,p)),t(i,0,v)},init:function(e){this._bq=e.dialog,this._cA=e.done,this.set({cIndex:0})},render:function(){var e=this,t=l.default.mark(this,"_bw");this.fetch("_ae",function(i,r){t()&&e.digest({error:i,list:r.get("data",[])})})},"_cB<click>":function(e){var t=this,i=new Image,r=t._cA,a=e.params.src,n=l.default.mark(this,"_cB");i.onerror=function(){n()&&t.alert(u.default("bj"))},i.onload=function(){if(n()){var e=i.width,d=i.height;t._bq.close(),r({src:a,width:e,height:d})}},i.src=a},"_cC<click>":function(e){var t=e.params.to;this.digest({cIndex:t})}})}),define("gallery/mx-pointer/cursor",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=r.default.guid("cursor_");r.default.applyStyle("rd-r",".rd-bR{opacity:0;background:#fff;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10000}");var n=document.body;t.default={_y:function(e){var t=getComputedStyle(e);this._au(t.cursor)},_au:function(e){var t=r.node(a);t||(document.body.insertAdjacentHTML("beforeend",'<div class="rd-bR" id="'+a+'"/>'),t=r.node(a)),t.style.cursor=e,t.style.display="block"},_z:function(){var e=r.node(a);e&&(e.style.display="none")},_K:function(e){n.style.cursor=e},_M:function(){n.style.cursor="auto"}}}),define("gallery/mx-pointer/follower",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");r.default.applyStyle("rd-s",".rd-bS{background:#fa742b;position:absolute;opacity:.6;left:-1000px;top:-1000px;width:30px;height:30px;text-align:center;line-height:30px;color:#fff;border-radius:2px;z-index:5000;pointer-events:none}");var a=r.default.guid("de_");t.default={_aF:function(e){var t=r.node(a);t||(document.body.insertAdjacentHTML("beforeend",'<div class="rd-bS rd-w" id="'+a+'"/>'),t=r.node(a)),t.innerHTML=e},_y:function(e){var t=r.node(a).style;t.left=e.pageX+10+"px",t.top=e.pageY+18+"px"},_z:function(){var e=r.node(a).style;e.left="-1000px",e.top="-1000px"}}}),define("gallery/mx-pointer/select",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");r.default.applyStyle("rd-t",".rd-bT{position:absolute;border:1px dashed #fa742b;display:none;pointer-events:none}");var a=r.default.guid("set_");t.default={_J:function(){r.node(a)||document.body.insertAdjacentHTML("beforeend",'<div id="'+a+'" class="rd-bT"></div>')},_aF:function(e,t,i,n){var d=r.node(a).style;d.left=e+"px",d.top=t+"px",d.width=i+"px",d.height=n+"px",d.display="block"},_z:function(){r.node(a).style.display="none"}}}),define("gallery/mx-runner/fx",["./index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("./index"),a=function(e){return e},n=Date.now,d=function(e,t){var i=this;i._cD&&!t||(t=t||a,i._cD=function(e,r){return e+(r-e)*t(i._cE/i._cF)}),i._cG=[],i._cH=e};Object.assign(d.prototype,{_cM:function(e,t){this._b4||(this._cG.push({_cI:e,_cJ:t}),this._cK||this._cL())},_cL:function(){var e=this,t=e._cG.shift();t?(e._cF=t._cI,e._cN=t._cJ,e._cO=n(),e._cK||r.default._cP(e._cH,e._cK=function(t){e._cE=Date.now()-e._cO,e._cE>e._cF&&(e._cE=e._cF,t=1);try{e._cN(e._cD)}catch(e){t=e}t&&e._cL()})):e._bp()},_bp:function(){this._cK&&(r.default._cQ(this._cK),delete this._cK)},_cR:function(){this._bp(),this._cG=[],this._b4=1}}),t.default={_cS:function(e,t){var i=new d(e,t);return this.on("destroy",function(){i._cR()}),i}}}),define("gallery/mx-runner/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=window.requestAnimationFrame||function(e){return setTimeout(e,16)},n=window.cancelAnimationFrame||clearTimeout,d=Date.now;t.default={_cG:[],_cP:function(e,t){this._cG.push({i:e||15,f:t,n:d()}),this._cL()},_cQ:function(e){for(var t=this._cG,i=void 0,r=0;r<t.length;r++)if(!(i=t[r]).r&&i.f==e){i.r=1;break}},_cL:function(){var e=this;if(!e._cT){var t=function(){for(var i=e._cG,o=0,l=void 0,s=void 0;o<i.length;o++)(l=i[o]).r?i.splice(o--,1):(s=d())-l.n>=l.i&&(l.n=s,r.default.toTry(l.f));i.length?e._cT=a(t):(n(e._cT),delete e._cT)};e._cT=a(t)}}}}),define("i18n/index",["magix","./zh-cn"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("./zh-cn"),n={"zh-cn":a.default,zh:a.default},d=r.default.has,o=/\{(\d+)\}/g;t.default=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var a=(r.default.config("lang")||navigator.language).toLowerCase();d(n,a)||(a="zh-cn");var l=n[a],s=d(l,e)?l[e]:e;return t.length&&(s=s.replace(o,function(e,i,r){return i|=0,t.length>i?(r=t[i],d(l,r)?l[r]:r):e})),s}}),define("i18n/zh-cn",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={l:"\u7269\u8054\u7f51\u8bbe\u8ba1\u5668",a5:"\u63d0\u793a",a6:"\u786e\u5b9a",a7:"\u53d6\u6d88",x:"\u653e\u5927",w:"\u7f29\u5c0f",_:"\u5220\u9664\u8f85\u52a9\u7ebf",a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",s:"\u64a4\u9500(Ctrl+Z)",t:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",bl:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",bm:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",bn:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",bo:"\u5143\u7d20",bp:"\u5c5e\u6027",bq:"\u6570\u636e\u6e90",br:"\u6982\u89c8\u56fe",v:"\u6253\u5f00{0}\u9762\u677f",u:"\u5173\u95ed{0}\u9762\u677f",bs:"\u5c55\u5f00{0}\u9762\u677f",bt:"\u6298\u53e0{0}\u9762\u677f",ag:"\u6309\u4e0b\u62d6\u52a8\u65cb\u8f6c\u5143\u7d20",ah:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6",ai:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u9ad8\u5ea6",aj:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6\u548c\u9ad8\u5ea6",bu:"\u7c7b\u578b\uff1a",Q:"X\u5750\u6807\uff1a",R:"Y\u5750\u6807\uff1a",L:"\u5bbd\uff1a",S:"\u9ad8\uff1a",T:"\u65cb\u8f6c\u89d2\u5ea6\uff1a",U:"\u80cc\u666f\u989c\u8272\uff1a",aZ:"\u6587\u5b57\u989c\u8272\uff1a",c:"\u5168\u9009",f:"\u7c98\u8d34",d:"\u590d\u5236",e:"\u526a\u5207",k:"\u5220\u9664",g:"\u4e0a\u79fb\u4e00\u5c42",i:"\u79fb\u81f3\u9876\u5c42",h:"\u4e0b\u79fb\u4e00\u5c42",j:"\u79fb\u81f3\u5e95\u5c42",m:"\u5de6\u5bf9\u9f50",o:"\u53f3\u5bf9\u9f50",p:"\u4e0a\u5bf9\u9f50",r:"\u4e0b\u5bf9\u9f50",q:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",n:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",bj:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",bh:"\u6e05\u9664\u56fe\u7247",bi:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",bk:"\u56fe\u7247\u5e93",a4:"\u6e05\u9664\u989c\u8272",aX:"\u5b57\u53f7\uff1a",as:"\u5168\u5c4f\u663e\u793a\uff1a",av:"\u80cc\u666f\u56fe\u7247\uff1a",N:"\u989c\u8272\uff1a",aw:"\u5e73\u94fa\u65b9\u5f0f\uff1a",ax:"\u62c9\u4f38\u94fa\u6ee1",ay:"\u539f\u59cb\u5c3a\u5bf8",az:"\u6a2a\u5411\u5e73\u94fa",aA:"\u5782\u76f4\u5e73\u94fa",aB:"\u53cc\u5411\u5e73\u94fa",at:"\u81ea\u9002\u5e94",au:"\u5168\u5c4f\u94fa\u6ee1",aL:"\u7ed1\u5b9a\u5b57\u6bb5\uff1a",O:"\u9501\u5b9a\u7f16\u8f91\uff1a",aW:"\u6587\u672c",ar:"\u9875\u9762",ao:"\u76f4\u7ebf",C:"\u8d1d\u585e\u5c14",aG:"\u77e9\u5f62",ak:"\u56fe\u7247",Z:"\u5706\u5f62",aI:"\u5e73\u94fa\u56fe",W:"\u6298\u7ebf\u56fe",X:"\u4eea\u8868\u76d8",P:"\u67f1\u72b6\u56fe",Y:"\u997c\u56fe",aK:"\u8868\u683c",aJ:"\u8bf7\u9009\u62e9\u5e73\u94fa\u56fe\u7247",an:"\u8bf7\u9009\u62e9\u56fe\u7247",M:"\u900f\u660e\u5ea6\uff1a",aY:"\u5b57\u95f4\u8ddd\uff1a",a2:"\u5185\u5bb9\uff1a",a0:"\u6837\u5f0f\uff1a",a1:"\u6392\u5217\uff1a",be:"\u52a0\u7c97",bf:"\u659c\u4f53",bg:"\u4e0b\u5212\u7ebf",a9:"\u6c34\u5e73\u5c45\u5de6",b_:"\u6c34\u5e73\u5c45\u4e2d",ba:"\u6c34\u5e73\u5c45\u53f3",bb:"\u5782\u76f4\u5c45\u4e0a",bc:"\u5782\u76f4\u5c45\u4e2d",bd:"\u5782\u76f4\u5c45\u4e0b",a8:"\u62d6\u52a8\u6570\u636e\u6e90\u5b57\u6bb5\u5230\u8fd9\u91cc",ap:"\u957f\uff1a",al:"\u56fe\u7247\uff1a",ae:"\u8fb9\u6846\u989c\u8272\uff1a",af:"\u586b\u5145\u989c\u8272\uff1a",aq:"\u7ebf\u7c7b\u578b\uff1a",aa:"\u8fb9\u6846\u7c7b\u578b\uff1a",a_:"\u8fb9\u6846\u5bbd\u5ea6\uff1a",aH:"\u5706\u89d2\uff1a",ab:"\u5b9e\u7ebf",ad:"\u865a\u7ebf",ac:"\u70b9\u7ebf",aC:"\u56fe\u7247\u5bbd\uff1a",aD:"\u56fe\u7247\u9ad8\uff1a",am:"\u8fd8\u539f\u5c3a\u5bf8\uff1a",V:"\u56fe\u8868\u6807\u9898\uff1a",aE:"\u6c34\u5e73(%)\uff1a",aF:"\u5782\u76f4(%)\uff1a",bv:"\u539f\u59cb\u56fe\u7247\u5bbd\u9ad8",a3:"\u8bf7\u8f93\u5165\u5185\u5bb9",y:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u5bbd\u5ea6)\u540c\u6b65\u5bbd\u5ea6",z:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u9ad8\u5ea6)\u540c\u6b65\u9ad8\u5ea6",B:"\u4ee5\u5143\u7d20\u4e2d\u5fc3\u70b9(\u6309\u4e0bshift\u5219\u4ee5\u5143\u7d20\u81ea\u8eab)\u5782\u76f4\u5747\u5206\u6392\u5217",A:"\u4ee5\u5143\u7d20\u4e2d\u5fc3\u70b9(\u6309\u4e0bshift\u5219\u4ee5\u5143\u7d20\u81ea\u8eab)\u6c34\u5e73\u5747\u5206\u6392\u5217",D:"\u8d77\u59cb\u70b9X\uff1a",E:"\u8d77\u59cb\u70b9Y\uff1a",F:"\u63a7\u5236\u70b91X\uff1a",G:"\u63a7\u5236\u70b91Y\uff1a",H:"\u63a7\u5236\u70b92X\uff1a",I:"\u63a7\u5236\u70b92Y\uff1a",J:"\u7ed3\u675f\u70b9X\uff1a",K:"\u7ed3\u675f\u70b9Y\uff1a",aM:"\u5217\u5bbd\uff1a",aT:"\u8868\u5934\u80cc\u666f\uff1a",aR:"\u8868\u5934\u884c\u9ad8\uff1a",aS:"\u5185\u5bb9\u884c\u9ad8\uff1a",aV:"\u5947\u6570\u884c\uff1a",aU:"\u5076\u6570\u884c\uff1a",aN:"\u5185\u5bb9\u5bf9\u9f50\uff1a",aO:"\u5c45\u5de6",aP:"\u5c45\u4e2d",aQ:"\u5c45\u53f3",bw:"\u8bf7\u5728\u4e0a\u65b9\u9009\u62e9\u6570\u636e\u6e90",bx:"\u8bf7\u9009\u4e2d\u4e00\u4e2a\u652f\u6301\u6570\u636e\u7ed1\u5b9a\u7684\u7ec4\u4ef6\uff0c\u5982\u8868\u683c",b:"\u4fdd\u5b58\u5185\u5bb9",by:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}}),define("util/bezier",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,i,r,a){return t*(1-e)*(1-e)*(1-e)+3*i*e*(1-e)*(1-e)+3*r*e*e*(1-e)+a*e*e*e},a=function(e,t,i,r){var a=-2*(3*e-6*t+3*i),n=4*Math.pow(3*e-6*t+3*i,2)-36*(r-e+3*t-3*i)*(t-e),d=6*(r-e+3*t-3*i);if(n>0){var o=Math.sqrt(n),l=(a+o)/d,s=(a-o)/d;if(l>=0&&s>=0&&l<=1&&s<=1)return[l,s,0,1];if(l>=0&&l<=1)return[l,0,1];if(s>=0&&s<=1)return[s,0,1]}return[0,1]};t.default=function(e){var t=function(e){for(var t=a(e.startX,e.ctrl1X,e.ctrl2X,e.endX),i=a(e.startY,e.ctrl1Y,e.ctrl2Y,e.endY),n=[],d=[],o=0,l=t;o<l.length;o++){var s=l[o];n.push(r(s,e.startX,e.ctrl1X,e.ctrl2X,e.endX))}for(var u=0,c=i;u<c.length;u++){var f=c[u];d.push(r(f,e.startY,e.ctrl1Y,e.ctrl2Y,e.endY))}var p=Math.min.apply(Math,n),h=Math.max.apply(Math,n),g=Math.min.apply(Math,d);return{x:p,y:g,width:h-p,height:Math.max.apply(Math,d)-g}}(e),i=t.x,n=t.y,d=t.width,o=t.height;e.x=i,e.y=n,e.width=d,e.height=o}}),define("util/converter",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");t.default={_aE:function(e){var t=e.x,i=e.y,a=r.node("stage_canvas").getBoundingClientRect();return{x:t-=a.left,y:i-=a.top}},_cY:function(e){var t=e.x,i=e.y,a=r.node("stage_canvas").getBoundingClientRect();return{x:t+=a.left,y:i+=a.top}},_aU:function(e){return e/r.State.get("_d")|0},_aV:function(e){return e*r.State.get("_d")}}}),define("util/transform",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7};t.default={_ax:function(e,t){var i=e.x,r=e.y,a=e.width,n=e.height,d=Math.sqrt(Math.pow(a,2)+Math.pow(n,2))/2,o=a?Math.round(180*Math.atan(n/a)/Math.PI):0,l=180-t-o,s=o-t,u=90-t,c=t,f=a/2,p=n/2,h=i+f,g=r+p,x={x:h+d*Math.cos(l*Math.PI/180),y:g-d*Math.sin(l*Math.PI/180)},b={x:h+p*Math.cos(u*Math.PI/180),y:g-p*Math.sin(u*Math.PI/180)},_={x:h+d*Math.cos(s*Math.PI/180),y:g-d*Math.sin(s*Math.PI/180)},v={x:h+f*Math.cos(c*Math.PI/180),y:g+f*Math.sin(c*Math.PI/180)},y={x:h-d*Math.cos(l*Math.PI/180),y:g+d*Math.sin(l*Math.PI/180)},m={x:h-p*Math.sin(c*Math.PI/180),y:g+p*Math.cos(c*Math.PI/180)},w={x:h-d*Math.cos(s*Math.PI/180),y:g+d*Math.sin(s*Math.PI/180)},k={x:h-f*Math.cos(c*Math.PI/180),y:g-f*Math.sin(c*Math.PI/180)},A=Math.min(x.x,_.x,y.x,w.x),S=Math.max(x.x,_.x,y.x,w.x),M=Math.min(x.y,_.y,y.y,w.y),j=Math.max(x.y,_.y,y.y,w.y);return{point:[x,b,_,v,y,m,w,k],width:S-A,height:j-M,left:A,right:S,top:M,bottom:j}},_aZ:function(e,t){var i=r[t],a=i-4;return a<0&&(a=i+4),{current:{index:i,point:e[i]},opposite:{index:a,point:e.slice(a,a+1)[0]}}},_dh:function(e,t){var i=e.x,r=e.y,a=e.width,n=e.height,d=e.scale,o={x:0,y:0},l=a*(d.x-1),s=n*(d.y-1),u=a+l,c=n+s,f=i-l/2,p=r-s/2;if(t){var h=[{x:i,y:r},{x:i+a,y:r},{x:i+a,y:r+n},{x:i,y:r+n}],g=[{x:f,y:p},{x:f+u,y:p},{x:f+u,y:p+c},{x:f,y:p+c}];o.x=h[t].x-g[t].x,o.y=h[t].y-g[t].y}return{x:f+o.x,y:p+o.y,width:u,height:c}},_a0:function(e,t,i,r){var a=this._dh({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),n=a.width,d=a.height,o=this._ax(a,e.rotate),l=i.point[r].x-o.point[r].x+o.left,s=i.point[r].y-o.point[r].y+o.top;return{left:l+o.width/2-n/2,top:s+o.height/2-d/2,width:n,height:d}},_de:function(e,t){var i=e.x,r=e.y,a=e.width,n=e.height;if(0==a)return{x:i,y:r};var d=i+a/2,o=r+n/2,l=Math.sqrt(a*a/2/2+n*n/2/2),s=180*Math.atan(n/a)/Math.PI+t+180;return{x:d+l*Math.cos(s*Math.PI/180),y:o+l*Math.sin(s*Math.PI/180)}}}}),define("panels/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=[{title:"bo",icon:"&#xe629;",width:100,height:270,left:25,top:90,show:!0,resizeY:!0,id:"p-elements",view:"panels/elements/index"},{title:"bp",icon:"&#xe7a1;",width:240,height:120,right:10,top:90,show:!0,resizeY:!0,id:"p-props",view:"panels/props/index"},{title:"bq",icon:"&#xe609;",width:200,height:120,show:!1,right:260,top:90,id:"p-data",view:"panels/data/index"},{title:"br",icon:"&#xe7ad;",width:180,height:124,show:!0,left:25,bottom:10,id:"p-overview",view:"panels/overview/index",fixedSize:!0}],n=r.default.toMap(a,"id");t.default={_0:function(){for(var e=0,t=a;e<t.length;e++){var i=t[e];i.show&&this._c3(i.id,!0)}r.State.fire("m")},_c3:function(e,t){var i=this,a=n[e];if(!a.opened){if(a.opened=1,a.eId)r.node(a.eId).style.display="block";else{a.eId=r.default.guid("panel_");var d=r.node(r.default.config("rootId"));d.insertAdjacentHTML("beforeend",'<div id="'+a.eId+'"></div>');var o=r.Vframe.byNode(d);a.close=function(){i._c4(a.id)},o.mountVframe(r.node(a.eId),"panels/panel",a)}if(!t)r.State.fire("m"),r.Vframe.byNode(r.node(a.eId)).invoke("_y")}},_c4:function(e){var t=n[e];if(t.opened){t.opened=0;var i=r.node(t.eId);i.style.display="none",r.State.fire("m"),r.Vframe.byNode(i).invoke("_z")}},_aQ:function(e){n[e].opened?this._c4(e):this._c3(e)},_aP:function(){return a}}}),define("panels/panel",["magix","../gallery/mx-pointer/cursor","../gallery/mx-dragdrop/index"],(e,t,i)=>{let r={class:"rd-ca rd-i rd-j"},a={class:"rd-w rd-x rd-y"},n={class:"rd-E rd-b rd-e"};Object.defineProperty(t,"__esModule",{value:!0});var d=e("magix"),o=e("../gallery/mx-pointer/cursor"),l=e("../gallery/mx-dragdrop/index");d.default.applyStyle("rd-x",".rd-c_{background:hsla(0,0%,100%,.93);position:absolute;box-shadow:0 2px 4px 0 rgba(0,0,0,.3)}.rd-ca{font-size:12px;height:18px;line-height:18px;background:#fa742b;color:#fff}.rd-cb{padding:0 5px;cursor:move;width:calc(100% - 36px)}.rd-cc{width:16px;height:14px;margin:0 1px;font-size:11px;cursor:pointer;display:inline-flex;justify-content:center;align-items:center;border-radius:2px}.rd-cc:hover{background:#e64e30}.rd-cd{overflow:hidden;transition:height .25s}.rd-ce{transition:none}.rd-cf{width:calc(100% - 2px);overflow:auto;float:left}.rd-cg{width:2px;float:right;cursor:ew-resize}.rd-ch,.rd-cg{background:#fafafa}.rd-ch{height:2px;cursor:ns-resize}.rd-ci{scroll-behavior:smooth}.rd-ci::-webkit-scrollbar,.rd-ci::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}");var s=[],u={_as:function(e){s.push(e)},_ar:function(e){for(var t=s.length;t--;)if(s[t]==e){s.splice(t,1);break}this._c8()},_c8:function(){for(var e=s.length;e--;)s[e]._c9(300+e)},_d_:function(e){if(s[s.length-1]!=e){for(var t=s.length;t--;)if(s[t]==e){s.splice(t,1);break}s.push(e),this._c8()}}};t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let o,l,s,u,c,f,p=[],{width:h,left:g,right:x,top:b,bottom:_,zIndex:v,i18n:y,icon:m,title:w,shrink:k,fixedSize:A,height:S,resizeX:M,view:j,resizeY:z}=e;return c=[t(0,1,d(m))],u=[t("i",a,c),t(0,0,d(y(w)))],s=[t("div",{class:"rd-cb rd-d",title:d(y("bl")),"mx5-mousedown":i+"\x1e_db()"},u)],c=[t(0,0,"\ue73a")],f="rd-w rd-cc",k&&(f+=" rd-z"),u=[t("i",{"mx5-click":i+"\x1e_dd()",title:d(y(k?"bs":"bt",w)),class:f},c)],c=[t(0,0,"\ue635")],u.push(t("i",{class:"rd-cc rd-w","mx5-click":i+"\x1e_bz()",title:d(y("u",w))},c)),s.push(t("div",n,u)),l=[t("div",r,s)],(s=[]).push(t("div",{style:"width:"+d(M?"calc(100% - 2px)":"100%"),class:"rd-b rd-cf rd-ci rd-k","mx5-view":d(j)})),M||(u=[t("div",{class:"rd-b rd-cg rd-j",title:d(y("bm")),"mx5-mousedown":i+"\x1e_a1({w:1})"})],s.push(...u)),l.push(t("div",{class:"rd-cd",id:"c_"+i,style:"height:"+d(k?0:A?`${S}px`:`calc(100vh - ${S}px)`)},s)),f="rd-ch rd-j",!k&&z||(f+=" rd-h"),l.push(t("div",{title:d(y("bn")),"mx5-mousedown":i+"\x1e_a1({h:1})",class:f})),o="width:"+d(h)+"px;",o+=null!=g?"left:"+d(g):"right:"+d(x),o+="px;",o+=null!=b?"top:"+d(b)+"px":"bottom:"+d(_)+"px",o+=";z-index:"+d(v),p.push(t("div",{class:"rd-c_",id:"p_"+i,"mx5-mousedown":i+"\x1e_dc()",style:o},l)),t(i,0,p)},mixins:[l.default],init:function(e){var t=this;u._as(this),this.on("destroy",function(){u._ar(t)}),this._da=e.close,this.set({icon:e.icon,title:e.title,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,bottom:e.bottom,view:e.view,fixedSize:e.fixedSize,resizeX:e.resizeX,resizeY:e.resizeY})},render:function(){this.digest({zIndex:300+s.length})},"_db<mousedown>":function(e){var t=this,i=d.node("p_"+this.id).style,r=this.get("left"),a=this.get("width"),n=0;null==r&&(n=1,r=this.get("right"));var l=this.get("top"),s=0;null==l&&(s=1,l=this.get("bottom"));var u=n?"right":"left",c=s?"bottom":"top",f=0,p=e.eventTarget;this._x(e,function(d){var h;f||(f=1,o.default._y(p));var g=(n?e.pageX-d.pageX:d.pageX-e.pageX)+r;g<0?g=0:g+a>window.innerWidth&&(g=window.innerWidth-a);var x=(s?e.pageY-d.pageY:d.pageY-e.pageY)+l;x<0?x=0:x+18>window.innerHeight&&(x=window.innerHeight-18),i[u]=g+"px",i[c]=x+"px",t.set(((h={})[u]=g,h[c]=x,h))},function(){o.default._z()})},"_a1<mousedown>":function(e){var t=this,i=e.params.w,r=this.get("width"),a=this.get("height"),n=this.get("right"),l=d.node("c_"+this.id);l.classList.add("rd-ce");var s=l.style,u=d.node("p_"+this.id).style,c=0,f=e.eventTarget;this._x(e,function(d){if(c||(c=1,o.default._y(f)),i){var l=d.pageX-e.pageX;l+r<100&&(l=100-r);var p=l+r;u.width=p+"px",(n||0===a)&&(u.right=n-l+"px",t.set({right:n-l})),t.set({width:p})}else{var h=e.pageY-d.pageY+a;s.height="calc(100vh - "+h+"px)",t.digest({height:h})}},function(){o.default._z(),l.classList.remove("rd-ce")})},_c9:function(e){d.node("p_"+this.id).style.zIndex=e},"_dc<mousedown>":function(){u._d_(this)},_y:function(){u._d_(this)},_z:function(){},"_dd<click>":function(){this.digest({shrink:!this.get("shrink")})},"_bz<click>":function(){var e=this._da;e&&d.default.toTry(e)}})}),define("panels/data/index",["magix","../../designer/service","../../i18n/index","gallery/mx-dropdown/index"],(e,t,i)=>{let r,a;e("gallery/mx-dropdown/index");let n={class:"rd-G"};var d=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<i;t++)for(var n=arguments[t],d=0,o=n.length;d<o;d++,a++)r[a]=n[d];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=e("magix"),l=e("../../designer/service"),s=o.default.State;o.default.applyStyle("rd-u",".rd-bU{padding:4px}.rd-bV{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-bW{border:1px solid #e6e6e6;border-radius:2px;margin:2px 0;background-color:#fff}.rd-bX{opacity:.4}");var u=e("../../i18n/index");t.default=o.default.View.extend({tmpl:(e,t,i,d,o,l,s,u)=>{let c,f,p,h,g,x,b,_,v,y=[],{error:m,canUseBind:w,selected:k,source:A,i18n:S,fields:M,bindFieldsMap:j,url:z}=e;if(m)c=[t(0,0,d(m))],y.push(...c);else{if(f=[],w){if((p=[]).push(t("div",{$:"source","mx5-change":i+"\x1e_cW()","mx5-view":"gallery/mx-dropdown/index?selected="+o(k)+"&list="+s(l,A,"\x1eh")+"&textKey=name&valueKey=id"})),r?p.push(r):p.push(r=t("div",{_:"_",class:"rd-bV"})),k){if(h=[],M){g=[];for(let e=M.length,r=0;r<e;r+=1){let e=M[r];a?_=[a]:(v=[t(0,0,"\ue69c")],_=[a=t("span",{_:"a",class:"rd-w"},v)]),v=[t(0,0,d(e.name))],_.push(t("span",0,v)),b="rd-bW",j[e.id]&&(b+=" rd-bX"),x=[t("div",{draggable:!j[e.id]&&"true","mx5-dragstart":i+"\x1e_cX({url:'"+u(z)+"',field:'"+s(l,e,"\x1ei."+r)+"',id:'"+u(k)+"'})",class:b},_)],g.push(...x)}h.push(...g)}p.push(...h)}else g=[t(0,0,d(S("bw")))],h=[t("div",n,g)],p.push(...h);f.push(...p)}else p=[t(0,0,d(S("bx")))],f.push(...p);c=[t("div",{class:"rd-bU rd-j","mx5-contextmenu":i+"\x1e_B()"},f)],y.push(...c)}return t(i,0,y)},mixins:[l.default],_cV:function(){var e=this._b(this._cU.bind(this),100);s.on("l",e),s.on("e",e),s.on("_",e)},assign:function(){return!1},_cU:function(){var e,t=s.get("_Q"),i=!1,r={};if(t&&1==t.length){var a=t[0].props.bind;if(a){var n=a.url,d=a.fields,l=a.id;if(i=!0,n&&(e=n),d&&(r=o.default.toMap(d,"id")),l){var u=this.get("source"),c=o.default.toMap(u,"id")[l];this.set({selected:c?l:"",fields:c?c.fields:[],url:c?c.url:""})}}}this.digest({canUseBind:i,bindUrl:e,bindFieldsMap:r})},render:function(){var e=this,t=o.default.mark(this,"_bw");this.fetch("_af",function(i,r){if(t()){var a=d([{name:u.default("by"),id:""}],r.get("data",[]));e.set({error:i,source:a,selected:""}),e._cU(),e._cV()}})},"_cW<change>":function(e){this.digest({url:e.item.url,fields:e.item.fields,selected:e.value})},"_cX<dragstart>":function(e){var t=e.params;s.set({_bR:t}),e.dataTransfer.setData("text/plain","fix ff")},"_B<contextmenu>":function(e){e.preventDefault()}})}),define("panels/elements/index",["magix","../../util/converter","../../designer/stage-elements"],(e,t,i)=>{let r={class:"rd-b1 rd-w"},a={class:"rd-l"};Object.defineProperty(t,"__esModule",{value:!0});var n=e("magix"),d=e("../../util/converter"),o=e("../../designer/stage-elements");n.default.applyStyle("rd-v",".rd-bY{padding:5px 2px}.rd-bZ{display:flex;align-items:center;padding:0 2px;color:#333;height:22px;line-height:22px;cursor:pointer;margin:1px 0}.rd-bZ:hover{background:#f0f0f0}.rd-b0,.rd-b0:hover{background:#fcb58f}.rd-b1{margin:0 4px 0 2px;font-size:12px}.rd-b2{background:#fa742b;opacity:.4}.rd-b3-top{box-shadow:0 -1px #fa742b}.rd-b3-bottom{box-shadow:0 1px #fa742b}");var l=n.default.guid("rp_"),s=function(){n.node(l)||document.body.insertAdjacentHTML("beforeend",'<div class="rd-f rd-b2" id="'+l+'"></div>')},u=function(e){var t=n.node(l).style,i=e.props,r=d.default._cY(i);t.left=r.x+"px",t.top=r.y+"px",t.width=i.width+"px",t.height=i.height+"px";var a=i.rotate||0;t.transform="rotate("+a+"deg)"},c=function(){n.node(l).style.left="-10000px"};t.default=n.default.View.extend({tmpl:(e,t,i,n,d,o,l)=>{let s,u,c,f,p,h=[],{elements:g,selectedMap:x,drag:b,index:_,onTop:v,i18n:y}=e;s=[];for(let e=g.length;e--;){let d=g[e];p=[t(0,1,n(d.ctrl.icon))],f=[t("i",r,p)],p=[t(0,0,n(y(d.ctrl.title)))],f.push(t("div",a,p)),c="rd-bZ",x[d.id]&&(c+=" rd-b0"),b&&e==_&&(c+=" rd-b3-"+n(v?"top":"bottom")),u=[t("div",{"mx5-mouseover":i+"\x1e_cZ({element:'"+l(o,d,"\x1e_."+e)+"'})","mx5-mouseout":i+"\x1e_c0()","mx5-click":i+"\x1e_c1({element:'"+l(o,d,"\x1e_."+e)+"'})","mx5-dragstart":i+"\x1e_bT({index:"+n(e)+"})","mx5-dragover":i+"\x1e_bU({index:"+n(e)+"})",draggable:"true",class:c},f)],s.push(...u)}return h.push(t("div",{class:"rd-bY rd-j","mx5-dragend":i+"\x1e_c2()"},s)),t(i,0,h)},init:function(){s();var e=this.render.bind(this);n.State.on("_",e),n.State.on("c",e),n.State.on("l",e)},render:function(){var e=n.State.get("_F"),t=n.State.get("_Y");this.digest({selectedMap:t,elements:e})},"_cZ<mouseover>":function(e){if(!n.default.inside(e.relatedTarget,e.eventTarget)){var t=e.params.element;u(t)}},"_c0<mouseout>":function(e){n.default.inside(e.relatedTarget,e.eventTarget)||c()},"_c1<click>":function(e){var t=e.params.element;o.default._at(e,t)},"_bT<dragstart>":function(e){this._bO=e.params.index,this._bP=e.eventTarget,e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain","fix ff")},"_bU<dragover>":function(e){if(this._bP!=e.eventTarget){e.dataTransfer.dropEffect="move";var t=e.eventTarget.getBoundingClientRect(),i=t.top+t.height/2>e.pageY,r=e.params.index;this.digest({onTop:i,drag:!0,index:r})}else e.dataTransfer.dropEffect="none",this.digest({drag:!1})},"_c2<dragend>":function(e){var t=this.get();if(t.drag){var i=this._bO,r=t.elements[i];t.elements.splice(t.index+(t.onTop?1:0),0,r),t.index<i?t.elements.splice(i+1,1):t.elements.splice(i,1),this.set({elements:t.elements}),n.State.fire("c")}this.digest({drag:!1})}})}),define("panels/overview/index",["magix","../../gallery/mx-dragdrop/index","../../gallery/mx-pointer/cursor"],(e,t,i)=>{let r={class:"rd-b6"};Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix"),n=e("../../gallery/mx-dragdrop/index"),d=e("../../gallery/mx-pointer/cursor");a.default.applyStyle("rd-w",".rd-b4{transition:all .25s}.rd-b5{transition:width,height .25s}.rd-b6{padding:2px 0}.rd-b7{background:#edeef3;position:relative;overflow:hidden;box-shadow:inset 1px 1px 6px 2px #dadada}.rd-b8{position:absolute;box-shadow:inset 0 0 1px 1px #fa742b;cursor:move}.rd-b9{background:#fcb58f;position:absolute;border:1px dotted #fff}");var o=[50,240,50,120],l=[180,120];t.default=a.default.View.extend({mixins:[n.default],tmpl:(e,t,i,a)=>{let n,d,o,l,s=[],{width:u,height:c,centerMargin:f,page:p,pageWidth:h,pageHeight:g,canvasMargin:x,elements:b,ratio:_,left:v,top:y,viewportWidth:m,viewportHeight:w}=e;o=[];for(let e=b.length,r=0;r<e;r+=1){let{id:e,props:n,type:d}=b[r];l=[];let s=Math.max(n.width*_,1),u=Math.max(n.height*_,1),c=(n.radius?n.radius*_:0)+"px";"circle"==d&&(c="50%"),l.push(t("div",{id:i+"_"+a(e),class:"rd-b4 rd-b9",style:"left:"+a(n.x*_)+"px;top:"+a(n.y*_)+"px;width:"+a(s)+"px;height:"+a(u)+"px;transform:rotate("+a(n.rotate)+"deg);border-radius:"+a(c)})),o.push(...l)}return d=[t("div",{style:"position:relative;background:"+a(p.background)+";width:"+a(h)+"px;height:"+a(g)+"px;margin:"+a(x)},o),t("div",{class:"rd-b5 rd-b8",style:"left:"+a(v)+"px;top:"+a(y)+"px;width:"+a(m)+"px;height:"+a(w)+"px","mx5-mousedown":i+"\x1e_c7()"})],n=[t("div",{class:"rd-b4 rd-b7",style:"width:"+a(u)+"px;height:"+a(c)+"px;margin:"+a(f)},d)],s.push(t("div",r,n)),t(i,0,s)},init:function(){var e=a.node("stage"),t=this._b(this.render);a.State.on("_",t),a.State.on("a",t),a.State.on("b",t),a.State.on("c",t),a.State.on("d",t),a.State.on("e",t),e.addEventListener("scroll",this._c5.bind(this)),this._c6=t},_c5:function(){var e=a.node("stage"),t=this.get("ratio");if(t){var i=this.get("width"),r=this.get("height"),n=this.get("viewportWidth"),d=this.get("viewportHeight");this.digest({left:Math.min(e.scrollLeft*t,i-n),top:Math.min(e.scrollTop*t,r-d)})}},render:function(){var e=this,t=a.default.mark(this,"_bw"),i=function(){if(t()){if(!a.node("stage_canvas"))return void setTimeout(i,20);var r=a.State.get("_G"),n=a.State.get("_d"),d=a.node("stage"),s=d.scrollWidth,u=d.scrollHeight,c=l[0],f=c/s,p=f*u;p>l[1]&&(c=(f=(p=l[1])/u)*s);for(var h=f*r.width*n,g=f*r.height*n,x="",b=0,_=o;b<_.length;b++){x+=f*_[b]+"px "}var v=(l[1]-p)/2+"px "+(l[0]-c)/2+"px",y=Math.min(d.offsetWidth,s)*f,m=Math.min(d.offsetHeight,u)*f;e.set({width:c,height:p,page:r,pageWidth:h,pageHeight:g,ratio:f,elements:a.State.get("_F"),viewportHeight:m,viewportWidth:y,canvasMargin:x,centerMargin:v}),e._c5()}};setTimeout(i,20)},"_c7<mousedown>":function(e){var t=this.get("left"),i=this.get("top"),r=this.get("viewportWidth"),n=this.get("viewportHeight"),o=this.get("width"),l=this.get("height"),s=a.node("stage"),u=this.get("ratio");d.default._K("move"),this._x(e,function(a){var d=t+a.pageX-e.pageX,c=i+a.pageY-e.pageY;d<0?d=0:d>o-r&&(d=o-r),c<0?c=0:c>l-n&&(c=l-n),s.scrollLeft=d/u,s.scrollTop=c/u},function(){d.default._M()})},"$win<resize>":function(){this._c6()}})}),define("panels/props/index",["magix","../../designer/props","../../designer/history","../../util/transform","../../util/bezier","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-font/style","gallery/mx-font/align","gallery/mx-dropdown/index","gallery/mx-picture/index","gallery/mx-field/index","gallery/mx-column/index","./page"],(e,t,i)=>{let r,a,n;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-font/style"),e("gallery/mx-font/align"),e("gallery/mx-dropdown/index"),e("gallery/mx-picture/index"),e("gallery/mx-field/index"),e("gallery/mx-column/index"),e("./page");let d={class:"rd-cj rd-j"},o={class:"rd-ck"},l={class:"rd-cl"},s={class:"rd-cq"},u={checked:"checked"},c={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});var f=e("magix"),p=e("../../designer/props"),h=e("../../designer/history"),g=e("../../util/transform"),x=e("../../util/bezier");f.default.applyStyle("rd-y",'.rd-cj{padding:4px;min-width:200px}.rd-ck{line-height:24px;display:flex;align-items:center;padding:2px 0}.rd-cl{width:80px;text-align:right}.rd-cm{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-cn{width:140px}.rd-co{height:90px}.rd-cp{align-items:flex-start}.rd-cq{display:flex;align-items:center;cursor:pointer}.rd-cr{visibility:hidden;position:absolute}.rd-cs{width:32px;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;border-radius:22px;background:#ccc}.rd-cs:before{content:"";width:12px;height:12px;position:absolute;left:0;margin:2px;border-radius:50%;background:#fff;transition:all .25s}.rd-cr:checked+.rd-cs{background:#fa742b}.rd-cr:checked+.rd-cs:before{left:100%;margin-left:-14px}.rd-cr:disabled+.rd-cs{background:#e6e6e6;cursor:not-allowed}'),t.default=f.default.View.extend({tmpl:(e,t,i,f,p,h,g,x)=>{let b,_,v,y,m,w,k,A,S,M,j,z=[],{elements:T,i18n:P,props:U}=e;if(1==T.length){let e=T[0];v=[],m=[t(0,0,f(P("bu")))],y=[t("span",l,m)],m=[t(0,0,f(P(e.ctrl.title)))],y.push(t("span",0,m)),v.push(t("li",o,y));for(let n=e.ctrl.props,d=n.length,o=0;o<d;o+=1){let d=n[o];if(y=[],d.type==U._3)m=r?[r]:[r=t("li",{_:"_",class:"rd-cm"})],y.push(...m);else{m=[];let r=e.props[d.key];d.read&&(r=d.read(r)),d.ifShow&&!d.ifShow(e.props)||(A=[],S=[t(0,0,f(P(d.tip)))],A.push(t("span",l,S)),d.type==U._ad?(S=[t(0,0,f(r))],A.push(...S)):d.type==U._1?(M="gallery/mx-number/index?value="+g(h,r,"\x1e_.0.j."+d.key),null!=(b=d.max)&&(M+="&max="+p(b)),null!=(b=d.step)&&(M+="&step="+p(b)),null!=(b=d.fixed)&&(M+="&fixed="+p(b)),null!=(b=d.min)&&(M+="&min="+p(b)),S=[t("div",{$:"elements",class:"rd-cn rd-g rd-t",disabled:e.props.locked,"mx5-input":i+"\x1e_df({key:'"+x(d.key)+"',use:'value',element:'"+g(h,e,"\x1e_.0")+"',write:'"+g(h,d.write,"\x1e_.0.k."+o+".l")+"',bezier:'"+g(h,d.bezier,"\x1e_.0.k."+o+".m")+"'})","mx5-view":M})],A.push(...S)):d.type==U._2?(S=[t("div",{$:"elements",class:"rd-cn","mx5-input":i+"\x1e_df({key:'"+x(d.key)+"',use:'color',element:'"+g(h,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-color/index?clear="+p(d.clear)+"&color="+g(h,r,"\x1e_.0.j."+d.key)+"&align=right&disabled="+p(e.props.locked)+"&alpha="+p(d.alpha)})],A.push(...S)):d.type==U._4?(j=[t("input",{class:"rd-cr",type:"checkbox",checked:e.props[d.key],"mx5-change":i+"\x1e_df({key:'"+x(d.key)+"',native:'checked',element:'"+g(h,e,"\x1e_.0")+"',refresh:'"+g(h,d.refresh,"\x1e_.0.k."+o+".n")+"'})"},0,u,1)],a?j.push(a):j.push(a=t("i",{_:"a",class:"rd-cs"})),S=[t("label",s,j)],A.push(...S)):d.type==U._7?(S=[t("textarea",{class:"rd-cn rd-co rd-u",disabled:e.props.locked,"mx5-input":i+"\x1e_df({key:'"+x(d.key)+"',native:'value',element:'"+g(h,e,"\x1e_.0")+"'})",value:f(r)},0,c)],A.push(...S)):d.type==U._5?(S=[t("div",{$:"elements",class:"rd-cn","mx5-input":i+"\x1e_df({key:'"+x(d.key)+"',use:'value',element:'"+g(h,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-font/style?disabled="+g(h,e.props.locked,"\x1e_.0.o")+"&value="+g(h,r,"\x1e_.0.j."+d.key)})],A.push(...S)):d.type==U._6?(S=[t("div",{$:"elements",class:"rd-cn","mx5-input":i+"\x1e_df({key:'"+x(d.key)+"',use:'value',element:'"+g(h,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-font/align?disabled="+g(h,e.props.locked,"\x1e_.0.o")+"&value="+g(h,r,"\x1e_.0.j."+d.key)})],A.push(...S)):d.type==U._9?(M="gallery/mx-dropdown/index?",(b=e.props.locked)&&(M+="disabled="+g(h,b,"\x1e_.0.o")),M+="&selected="+p(r)+"&list="+g(h,d.items,"\x1e_.0.k."+o+".p")+"&textKey=text&valueKey=value",S=[t("div",{$:"elements",class:"rd-cn","mx5-change":i+"\x1e_df({key:'"+x(d.key)+"',use:'value',element:'"+g(h,e,"\x1e_.0")+"'})","mx5-view":M})],A.push(...S)):d.type==U._8?(S=[t("div",{$:"elements",class:"rd-cn","mx5-change":i+"\x1e_df({key:'"+x(d.key)+"',use:'src',refresh:'"+g(h,d.refresh,"\x1e_.0.k."+o+".n")+"',element:'"+g(h,e,"\x1e_.0")+"',write:'"+g(h,d.write,"\x1e_.0.k."+o+".l")+"'})","mx5-view":"gallery/mx-picture/index?src="+p(r)+"&disabled="+g(h,e.props.locked,"\x1e_.0.o")})],A.push(...S)):d.type==U._a_?(j=[t(0,0,f(P("bv")))],S=[t("button",{class:"rd-m rd-n",disabled:e.props.locked,"mx5-click":i+"\x1e_dg({key:'"+x(d.key)+"',element:'"+g(h,e,"\x1e_.0")+"'})"},j)],A.push(...S)):d.type==U._aa?(S=[t("input",{class:"rd-t",disabled:e.props.locked,"mx5-input":i+"\x1e_df({key:'"+x(d.key)+"',native:'value',element:'"+g(h,e,"\x1e_.0")+"'})"},0,0,1)],A.push(...S)):d.type==U._ab?(S=[t("div",{$:"elements",class:"rd-cn","mx5-change":i+"\x1e_df({key:'"+x(d.key)+"',use:'bindField',refresh:1,element:'"+g(h,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-field/index?props="+g(h,e.props,"\x1e_.0.j")+"&disabled="+g(h,e.props.locked,"\x1e_.0.o")})],A.push(...S)):d.type==U._ac&&(M="gallery/mx-column/index?",null!=(b=d.min)&&(M+="min="+p(b)),null!=(b=d.max)&&(M+="&max="+p(b)),M+="&props="+g(h,e.props,"\x1e_.0.j")+"&disabled="+g(h,e.props.locked,"\x1e_.0.o"),S=[t("div",{$:"elements",class:"rd-cn","mx5-change":i+"\x1e_df({key:'"+x(d.key)+"',use:'columns',element:'"+g(h,e,"\x1e_.0")+"'})","mx5-view":M})],A.push(...S)),k="rd-ck",d.dockTop&&(k+=" rd-cp"),w=[t("li",{class:k},A)],m.push(...w)),y.push(...m)}v.push(...y)}_=[t("ul",d,v)],z.push(..._)}else _=n?[n]:[n=t("div",{_:"b","mx5-view":"panels/props/page"})],z.push(..._);return t(i,0,z)},init:function(){var e=this._b(this.render.bind(this),100);f.State.on("l",e),f.State.on("d",e),f.State.on("_",e)},render:function(){this.digest({scale:f.State.get("_d"),props:p.default,elements:f.State.get("_Q")})},"_df<input,change>":function(e){var t=e.params,i=t.key,r=t.use,a=t.element,n=t.refresh,d=t.native,o=t.write,l=t.bezier;if(r||d){var s=a.props,u="width"==i||"height"==i,c=void 0;u&&(c=g.default._de(s,s.rotate));var p=d?e.eventTarget[d]:e[r];if(o&&(p=o(p,s,e)),s[i]=p,u){var b=g.default._de(s,s.rotate);s.x+=c.x-b.x,s.y+=c.y-b.y,n=!0}l&&x.default(s)}n&&this.render(),f.State.fire("e");var _=f.node(a.id),v=f.Vframe.byNode(_);v&&v.invoke("_aF",[a]),h.default._t("a"+i,500)},"_dg<click>":function(e){var t=this,i=e.params,r=i.key,a=i.element,n=a.props,d=g.default._de(n,n.rotate),o=new Image;o.onload=function(){n.width=o.width,n.height=o.height;var e=g.default._de(n,n.rotate);n.x+=d.x-e.x,n.y+=d.y-e.y,t.render(),f.State.fire("e");var i=f.node(a.id),l=f.Vframe.byNode(i);l&&l.invoke("_aF",[a]),h.default._t("a"+r,500)},o.src=n[r]}})}),define("panels/props/page",["magix","../../designer/history","../../designer/props","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-picture/index","gallery/mx-dropdown/index"],(e,t,i)=>{let r;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-picture/index"),e("gallery/mx-dropdown/index");let a={class:"rd-cj rd-j"},n={class:"rd-ck"},d={class:"rd-cl"};Object.defineProperty(t,"__esModule",{value:!0});var o=e("magix"),l=e("../../designer/history"),s=e("../../designer/props");t.default=o.default.View.extend({tmpl:(e,t,i,o,l,s,u,c)=>{let f,p,h,g,x,b,_,v,y=[],{i18n:m,ctrl:w,props:k,page:A}=e;p=[],g=[t(0,0,o(m("bu")))],h=[t("span",d,g)],g=[t(0,0,o(m(w.title)))],h.push(t("span",0,g)),p.push(t("li",n,h));for(let e=w.props,a=e.length,n=0;n<a;n+=1){let a=e[n];h=[],a.type==k._3?(g=r?[r]:[r=t("li",{_:"_",class:"rd-cm"})],h.push(...g)):a.ifShow&&!a.ifShow(A)||(b=[],_=[t(0,0,o(m(a.tip)))],b.push(t("span",d,_)),a.type==k._1?(v="gallery/mx-number/index?value="+u(s,A[a.key],"\x1eq."+a.key),null!=(f=a.max)&&(v+="&max="+l(f)),null!=(f=a.step)&&(v+="&step="+l(f)),null!=(f=a.fixed)&&(v+="&fixed="+l(f)),null!=(f=a.min)&&(v+="&min="+l(f)),_=[t("div",{$:"page,ctrl",class:"rd-cn rd-g rd-t","mx5-input":i+"\x1e_df({key:'"+c(a.key)+"',use:'value'})","mx5-view":v})],b.push(..._)):a.type==k._2?(v="gallery/mx-color/index?clear="+l(a.clear)+"&color="+u(s,A[a.key],"\x1eq."+a.key)+"&align=right",null!=(f=a.alpha)&&(v+="&alpha="+l(f)),_=[t("div",{$:"page,ctrl",class:"rd-cn","mx5-input":i+"\x1e_df({key:'"+c(a.key)+"',use:'color'})","mx5-view":v})],b.push(..._)):a.type==k._8?(_=[t("div",{class:"rd-cn","mx5-change":i+"\x1e_df({key:'"+c(a.key)+"',use:'src',refresh:'"+u(s,a.refresh,"\x1ek."+n+".n")+"',write:'"+u(s,a.write,"\x1ek."+n+".l")+"'})","mx5-view":"gallery/mx-picture/index?src="+l(A[a.key])})],b.push(..._)):a.type==k._9&&(_=[t("div",{$:"ctrl",class:"rd-cn","mx5-change":i+"\x1e_df({key:'"+c(a.key)+"',use:'value',refresh:'"+u(s,a.refresh,"\x1ek."+n+".n")+"'})","mx5-view":"gallery/mx-dropdown/index?selected="+l(A[a.key])+"&list="+u(s,a.items,"\x1ek."+n+".p")+"&textKey=text&valueKey=value"})],b.push(..._)),x="rd-ck",a.dockTop&&(x+=" rd-cp"),g=[t("li",{class:x},b)],h.push(...g)),p.push(...h)}return y.push(t("ul",a,p)),t(i,0,y)},init:function(){var e=this.render.bind(this);o.State.on("_",e)},render:function(){this.digest({props:s.default,ctrl:o.State.get("_Z"),page:o.State.get("_G")})},"_df<input,change>":function(e){var t=e.params,i=t.key,r=t.use,a=t.refresh,n=t.write,d=o.State.get("_G");d[i]=e[r],n&&n(e[r],d,e),l.default._t("b",500),o.State.fire("b"),a&&this.render()}})}),define("elements/designer",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","../designer/history","../util/transform","../util/converter","../util/bezier"],(e,t,i)=>{let r,a={style:"position:absolute;pointer-events:none;overflow:visible"};Object.defineProperty(t,"__esModule",{value:!0});var n=e("magix"),d=e("../gallery/mx-dragdrop/index"),o=e("../gallery/mx-pointer/cursor"),l=e("../designer/history"),s=e("../util/transform"),u=e("../util/converter"),c=e("../util/bezier");n.default.applyStyle("rd-g",'.rd-al{left:50%;top:50%;position:absolute}.rd-al:before{width:1px;height:5px;left:0;top:-2px}.rd-al:after,.rd-al:before{content:" ";position:absolute;background:red}.rd-al:after{width:5px;height:1px;left:-2px;top:0}.rd-am{border:1px dotted hsla(0,0%,86.7%,.4);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-an{border:1px solid #fa742b}.rd-ao{border:1px solid #999}.rd-ap{fill:#fff;stroke:#fa742b;pointer-events:all;stroke-width:1px;cursor:pointer;transition:stroke-width .25s}.rd-ap:hover{stroke-width:2px}.rd-aq{fill:none;stroke:#fa742b;stroke-width:1px}.rd-ar{border-right:3px solid #fa742b;right:-2px}.rd-as,.rd-at{border-bottom:3px solid #fa742b;bottom:-2px}.rd-at{border-right:3px solid #fa742b;right:-2px}.rd-au{cursor:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABvUExURUdwTP///9XV1R0dHf///3Nzc////////////////1ZWVq+vr/T09PX19QQEBP///////8XFxf///////////wYGBv///+jo6P///4aGhqioqMzMzP///2BgYP///////////zExMf///wAAAP///xLps0AAAAAjdFJOUwCxxOdixRDmzSDMv8/Z+tz5wWpXWPk3zALCv8KnyXZVMNuNPnv3CwAAAJ1JREFUKM/NkckOwyAMRFkDBMhC9qWr+//fWCIV1WlzrjoXS36yxmMT8hdqqKoUvRAjMtw22kvecem1GjTuK1vApmI+wQMBbQFy5li+QQRaX4AtRX+vbntAJeRl9HTTx4TiwESs61DXNUPmVQeujzVrQwh43TTxpeRBslVfMUhbiXKWyiAwvnIsMcdyJkfJYdpNvG/ltDm+bjP+8KFP8ggL+zQLGxwAAAAASUVORK5CYII=") 14 14,pointer;top:-3px;right:-3px;width:6px;height:6px;border-radius:50%;background:#fa742b}');var f={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3},p={};n.State.on("l",function(){for(var e in p){var t=n.Vframe.byId(e);t&&(t.invoke("_aX"),t.invoke("render"))}}),t.default=n.default.View.extend({tmpl:(e,t,i,n,d,o,l)=>{let s,u,c,f,p,h,g,x,b,_=[],{element:v,view:y,onlyMove:m,fullscreen:w,selected:k,count:A,i18n:S}=e,M=v.props,j=v.ctrl,z=v.type;_.push(t("div",{$:"element,onlyMove",class:"rd-j","mx5-view":n(y)+"?props="+l(o,M,"\x1ed")+"&onlyMove="+l(o,m,"\x1ee"),id:"entity_"+i}));let T=M.rotate%360;if(f=[],!w&&!M.locked){if(p=[],k){if(h=[],r?h.push(r):h.push(r=t("div",{_:"_",class:"rd-al"})),1==A&&j.modifier&&j.modifier.rotate){if((g=[]).push(t("div",{class:"rd-au rd-f","mx5-mousedown":i+"\x1e_aY()",title:n(S("ag"))})),j.modifier){x=[],s="";let e=Math.min(20,M.height-3)-4;s+=" ";let r=Math.min(20,M.width)-4;s+=" ";let a=Math.max(Math.min(r,e)-2,0);s+=" ",r=Math.min(r,M.width-a-6),s+=" ",e=Math.min(e,M.height-a-6-3),s+=" ";let d=(M.height-e-a+3)/2;if(j.modifier.width&&(u="height:"+n(Math.max(e,0))+"px;top:"+n(d)+"px;cursor:",T<=22.5||T>337.5||T>157.5&&T<=202.5?u+="ew":T<=67.5||T>202.5&&T<=247.5?u+="nwse":T<=112.5||T>247.5&&T<=292.5?u+="ns":(T<=157.5||T>292.5&&T<=337.5)&&(u+="nesw"),u+="-resize",b=[t("div",{class:"rd-ar rd-f",title:n(S("ah")),"mx5-mousedown":i+"\x1e_a1({key:'rm'})",style:u})],x.push(...b)),j.modifier.height){let e=(M.width-r-a)/2;u="width:"+n(Math.max(r,0))+"px;left:"+n(e)+"px;cursor:",T<=22.5||T>337.5||T>157.5&&T<=202.5?u+="ns":T<=67.5||T>202.5&&T<=247.5?u+="nesw":T<=112.5||T>247.5&&T<=292.5?u+="ew":(T<=157.5||T>292.5&&T<=337.5)&&(u+="nwse"),u+="-resize",b=[t("div",{class:"rd-as rd-f",title:n(S("ai")),"mx5-mousedown":i+"\x1e_a1({key:'mb'})",style:u})],x.push(...b)}j.modifier.width&&j.modifier.height&&(u="",0==a&&(u+="display:none;"),u+="width:"+n(a)+"px;height:"+n(a)+"px;cursor:",T<=22.5||T>337.5||T>157.5&&T<=202.5?u+="nwse":T<=67.5||T>202.5&&T<=247.5?u+="ns":T<=112.5||T>247.5&&T<=292.5?u+="nesw":(T<=157.5||T>292.5&&T<=337.5)&&(u+="ew"),u+="-resize",b=[t("div",{class:"rd-at rd-f",title:n(S("aj")),"mx5-mousedown":i+"\x1e_a1({key:'rb'})",style:u})],x.push(...b)),g.push(...x)}h.push(...g)}p.push(...h)}f.push(...p)}return u="left:"+n(M.x)+"px;top:"+n(M.y)+"px;width:"+n(M.width)+"px;height:"+n(M.height)+"px;",T&&(u+="transform:rotate("+n(T)+"deg);"),c="rd-f rd-j",w||(c+=" rd-am"),k&&!w&&("bezier"!=z||A>1)&&(c+=" ",M.locked?c+="rd-ao":c+="rd-an"),_.push(t("div",{id:"mask_"+n(v.id),style:u,class:c},f)),"bezier"==z&&k&&!w&&1==A&&(p=[t("path",{d:"M"+n(M.startX)+" "+n(M.startY)+" L"+n(M.ctrl1X)+" "+n(M.ctrl1Y)+" M"+n(M.ctrl2X)+" "+n(M.ctrl2Y)+" L"+n(M.endX)+" "+n(M.endY),class:"rd-aq"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_a3({key:'start'})",r:"4",cx:n(M.startX),cy:n(M.startY),class:"rd-ap"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_a2({key:'ctrl1'})",r:"4",cx:n(M.ctrl1X),cy:n(M.ctrl1Y),class:"rd-ap"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_a3({key:'end'})",r:"4",cx:n(M.endX),cy:n(M.endY),class:"rd-ap"},0,0,1),t("circle",{"mx5-mousedown":i+"\x1e_a2({key:'ctrl2'})",r:"4",cx:n(M.ctrl2X),cy:n(M.ctrl2Y),class:"rd-ap"},0,0,1)],f=[t("svg",a,p)],_.push(...f)),t(i,0,_)},mixins:[d.default],ctor:function(){var e=this;p[this.id]=1,this.on("destroy",function(){delete p[e.id]})},_aX:function(){var e=n.State.get("_Y"),t=n.State.get("_Q").length,i=this.get().element.id;this.set({selected:n.has(e,i),count:t})},assign:function(e){this.set(e),this._aX()},render:function(){this.digest()},_aF:function(e){this.digest({element:e,onlyMove:!1})},"_aY<mousedown>":function(e){var t=this;e.stopPropagation();var i=this.get("element"),r=i.props;n.State.fire("k",{show:1});var a=r.x+r.width/2,d=r.y+r.height/2,s=u.default._aE({x:e.pageX,y:e.pageY}),c=r.rotate,f=Math.atan2(s.y-d,s.x-a)-c*Math.PI/180,p=!1;this._x(e,function(l){p||o.default._y(e.eventTarget),p=!0,s=u.default._aE({x:l.pageX,y:l.pageY});var c=Math.atan2(s.y-d,s.x-a);c=180*(c-f)/Math.PI,r.rotate=(360+(0|c))%360,t.digest({element:i,onlyMove:!0}),n.State.fire("d")},function(){o.default._z(),p&&l.default._t(),n.State.fire("k")})},"_a1<mousedown>":function(e){if(!e.button){e.stopPropagation();var t=this,i=t.get("element"),r=i.props,a=i.ctrl;n.State.fire("k",{show:1});var d=r.rotate||0,u=e.params.key;d=(d+360)%360,0==r.width&&(r.width=.01),0==r.height&&(r.height=.01);for(var c=r.width,p=r.height,h=r.x,g=r.y,x=0,b=0,_=Number.MAX_VALUE,v=Number.MAX_VALUE,y=0,m=a.props;y<m.length;y++){var w=m[y];"width"==w.key?(n.default.has(w,"max")&&(_=w.max),n.default.has(w,"min")&&(x=w.min)):"height"==w.key&&(n.default.has(w,"max")&&(v=w.max),n.default.has(w,"min")&&(b=w.min))}var k=s.default._ax(r,d),A=s.default._aZ(k.point,u),S=A.opposite,M=A.current,j=S.index,z=S.point,T=M.point,P=z.x,U=z.y,V=Math.abs(T.x-P),O=Math.abs(T.y-U),E={x:h,y:g,rotate:d,width:c,height:p},Y=e.pageX,I=e.pageY,X=!1;t._x(e,function(a){X||o.default._y(e.eventTarget);var l={x:1,y:1};X=!0;var u=V>O,c=1,p=a.pageX-Y,h=a.pageY-I;0==j||7==j?u&&d>90&&d<270?p=-p:!u&&d>180&&d<360&&(h=-h):0!=j&&1!=j||(u&&d>45&&d<135?p=-p:!u&&d>90&&d<270&&(h=-h)),(c=u?(p+V)/V:(h+O)/O)<0&&(c=0);var g=f[j];1===g?l.x=l.y=c:2===g?l.y=c:3===g&&(l.x=c);var y=s.default._a0(E,l,k,j),m=y.width,w=y.height;m<x?m=x:m>_&&(m=_),w<b?w=b:w>v&&(w=v),m==r.width&&w==r.height||(r.x=y.left,r.y=y.top,r.width=m,r.height=w,t.digest({element:i,onlyMove:!1}),n.State.fire("d"))},function(){X&&(l.default._t(),o.default._z()),n.State.fire("k")})}},"_a2<mousedown>":function(e){var t=this;e.stopPropagation();var i=this.get("element"),r=i.props;n.State.fire("k",{show:1});var a=!1,d=e.params.key,s=r[d+"X"],u=r[d+"Y"];this._x(e,function(l){a||o.default._y(e.eventTarget),a=!0;var f=l.pageX-e.pageX,p=l.pageY-e.pageY;r[d+"X"]=s+f,r[d+"Y"]=u+p,c.default(r),t.digest({element:i,onlyMove:!0}),n.State.fire("d")},function(){o.default._z(),a&&l.default._t(),n.State.fire("k")})},"_a3<mousedown>":function(e){var t=this;e.stopPropagation();var i=this.get("element"),r=i.props,a=e.params.key,d=r[a+"X"],s=r[a+"Y"];n.State.fire("k",{show:1});var u=!1;this._x(e,function(l){u||o.default._y(e.eventTarget),u=!0;var f=l.pageX-e.pageX,p=l.pageY-e.pageY;r[a+"X"]=d+f,r[a+"Y"]=s+p,c.default(r),t.digest({element:i,onlyMove:!0}),n.State.fire("d")},function(){o.default._z(),u&&l.default._t(),n.State.fire("k")})}})}),define("elements/index",["magix","./line/designer","./bezier/designer","./rect/designer","./circle/designer","./text/designer","./image/designer","./repeat/designer","./page/designer","./chart-line/designer","./chart-meter/designer","./chart-bar/designer","./chart-pie/designer","./table/designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("./line/designer"),n=e("./bezier/designer"),d=e("./rect/designer"),o=e("./circle/designer"),l=e("./text/designer"),s=e("./image/designer"),u=e("./repeat/designer"),c=e("./page/designer"),f=e("./chart-line/designer"),p=e("./chart-meter/designer"),h=e("./chart-bar/designer"),g=e("./chart-pie/designer"),x=e("./table/designer"),b=[a.default,n.default,d.default,o.default,l.default,s.default,u.default,f.default,p.default,h.default,g.default,x.default],_=r.toMap(b,"type"),v=[a.default,n.default,d.default,o.default,l.default,s.default,u.default,x.default,{spliter:!0},{icon:"&#xe629;",title:"\u56fe\u8868",subs:[f.default,p.default,h.default,g.default]}];t.default={_H:function(){return v},_W:function(){return c.default},_X:function(e){var t={},i=function(e){for(var r=0,a=e;r<a.length;r++){var n=a[r],d=_[n.type];if(n.ctrl=d,t[n.id]=n,"layout"==n.role)for(var o=0,l=n.props.columns;o<l.length;o++){var s=l[o];i(s.elements)}}};return i(e),{elements:e,map:t}}}}),define("elements/bezier/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../util/converter"),n=e("../designer");t.default=n.default.extend({ctor:function(){this.set({view:"elements/bezier/index"})}},{type:"bezier",role:"bezier",title:"C",icon:"&#xe71b;",scales:["x","y","width","height","startX","startY","endX","endY","ctrl1X","ctrl1Y","ctrl2X","ctrl2Y"],moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"ctrl1X",use:"x"},{key:"ctrl1Y",use:"y"},{key:"ctrl2X",use:"x"},{key:"ctrl2Y",use:"y"},{key:"startX",use:"x"},{key:"startY",use:"y"},{key:"endX",use:"x"},{key:"endY",use:"y"}],json:{startX:a.default._aU,startY:a.default._aU,endX:a.default._aU,endY:a.default._aU,ctrl1X:a.default._aU,ctrl1Y:a.default._aU,ctrl2X:a.default._aU,ctrl2Y:a.default._aU,alpha:1,linewidth:1,color:1},getProps:function(e,t){return{alpha:1,x:e,y:t,startX:e,startY:t,endX:e+300,endY:t+100,ctrl1X:e+50,ctrl1Y:t+50,ctrl2X:e+250,ctrl2Y:t+50,width:300,height:100,linewidth:1,color:"#000000",locked:!1}},props:[{tip:"D",key:"startX",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{tip:"E",key:"startY",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{tip:"F",key:"ctrl1X",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{tip:"G",key:"ctrl1Y",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{tip:"H",key:"ctrl2X",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{tip:"I",key:"ctrl2Y",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{tip:"J",key:"endX",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{tip:"K",key:"endY",type:r.default._1,read:a.default._aU,write:a.default._aV,bezier:1},{type:r.default._3},{tip:"L",key:"linewidth",type:r.default._1,min:0,max:20},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"N",key:"color",type:r.default._2},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/bezier/index",["magix"],(e,t,i)=>{let r={style:"position:absolute;pointer-events:none;overflow:visible"};Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d=[],{props:o}=e;return n=[t("path",{d:"M"+a(o.startX)+","+a(o.startY)+" C"+a(o.ctrl1X)+" "+a(o.ctrl1Y)+" "+a(o.ctrl2X)+" "+a(o.ctrl2Y)+" "+a(o.endX)+","+a(o.endY),style:"fill:none;stroke:"+a(o.color)+";stroke-width:"+a(o.linewidth)+";opacity:"+a(o.alpha)},0,0,1)],d.push(t("svg",r,n)),t(i,0,d)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("elements/chart-line/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../util/converter"),n=e("../designer");t.default=n.default.extend({ctor:function(){this.set({view:"elements/chart-line/index"})}},{type:"chart-line",role:"chart-line",title:"W",icon:"&#xe64b;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:a.default._aU,y:a.default._aU,width:a.default._aU,height:a.default._aU,alpha:1,title:1,rotate:1,background:1},getProps:function(e,t){return{background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:a.default._aU,write:a.default._aV},{tip:"R",type:r.default._1,key:"y",read:a.default._aU,write:a.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:a.default._aU,write:a.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:a.default._aU,write:a.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:r.default._2,key:"background",alpha:!0,clear:!0},{tip:"V",key:"title",type:r.default._aa},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/chart-line/index",["magix"],(e,t,i)=>{"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("magix");t.default=n.default.View.extend({tmpl:(e,t,i,r)=>{let a,n=[],{props:d}=e;return a="position:absolute;left:"+r(d.x)+"px;top:"+r(d.y)+"px;height:"+r(d.height)+"px;opacity:"+r(d.alpha)+";width:"+r(d.width)+"px;transform:rotate("+r(d.rotate)+"deg);",d.background&&(a+="background:"+r(d.background)+";"),n.push(t("div",{id:"chart_"+i,style:a})),t(i,0,n)},assign:function(e){return this.set(e),!0},render:function(){return r(this,void 0,void 0,function(){var e,t,i=this;return a(this,function(r){switch(r.label){case 0:return[4,this.digest()];case 1:return r.sent(),this.get("onlyMove")?[2]:(e=this.get("props"),this._aW||(this._aW=echarts.init(n.node("chart_"+this.id)),this.on("destroy",function(){i._aW.dispose()})),(t=this._aW).setOption({title:{text:e.title},tooltip:{trigger:"axis"},xAxis:{data:[1,2,3,4,5]},yAxis:{type:"value"},series:[{data:[120,300,400,220,40],type:"line"},{data:[90,200,600,100,50],type:"line"}]},!0),t.resize(),[2])}})})}})}),define("elements/chart-bar/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../util/converter"),n=e("../designer");t.default=n.default.extend({ctor:function(){this.set({view:"elements/chart-bar/index"})}},{type:"chart-bar",role:"chart-bar",title:"P",icon:"&#xe603;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:a.default._aU,y:a.default._aU,width:a.default._aU,height:a.default._aU,alpha:1,title:1,rotate:1,background:1},getProps:function(e,t){return{background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:a.default._aU,write:a.default._aV},{tip:"R",type:r.default._1,key:"y",read:a.default._aU,write:a.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:a.default._aU,write:a.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:a.default._aU,write:a.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:r.default._2,key:"background",alpha:!0,clear:!0},{tip:"V",key:"title",type:r.default._aa},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/chart-bar/index",["magix"],(e,t,i)=>{"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("magix");t.default=n.default.View.extend({tmpl:(e,t,i,r)=>{let a,n=[],{props:d}=e;return a="position:absolute;left:"+r(d.x)+"px;top:"+r(d.y)+"px;height:"+r(d.height)+"px;opacity:"+r(d.alpha)+";width:"+r(d.width)+"px;transform:rotate("+r(d.rotate)+"deg);",d.background&&(a+="background:"+r(d.background)+";"),n.push(t("div",{id:"chart_"+i,style:a})),t(i,0,n)},assign:function(e){return this.set(e),!0},render:function(){return r(this,void 0,void 0,function(){var e,t,i=this;return a(this,function(r){switch(r.label){case 0:return[4,this.digest()];case 1:return r.sent(),this.get("onlyMove")?[2]:(e=this.get("props"),this._aW||(this._aW=echarts.init(n.node("chart_"+this.id)),this.on("destroy",function(){i._aW.dispose()})),(t=this._aW).setOption({title:{text:e.title},tooltip:{trigger:"axis"},xAxis:{data:[1,2,3,4,5]},yAxis:{type:"value"},series:[{data:[120,300,400,220,40],type:"bar"},{data:[90,200,600,100,50],type:"bar"}]},!0),t.resize(),[2])}})})}})}),define("elements/chart-pie/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../util/converter"),n=e("../designer");t.default=n.default.extend({ctor:function(){this.set({view:"elements/chart-pie/index"})}},{type:"chart-pie",role:"chart-pie",title:"Y",icon:"&#xe6d4;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],getProps:function(e,t){return{background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:a.default._aU,write:a.default._aV},{tip:"R",type:r.default._1,key:"y",read:a.default._aU,write:a.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:a.default._aU,write:a.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:a.default._aU,write:a.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:r.default._2,key:"background",alpha:!0,clear:!0},{tip:"V",key:"title",type:r.default._aa},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/chart-pie/index",["magix"],(e,t,i)=>{"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("magix");t.default=n.default.View.extend({tmpl:(e,t,i,r)=>{let a,n=[],{props:d}=e;return a="position:absolute;left:"+r(d.x)+"px;top:"+r(d.y)+"px;height:"+r(d.height)+"px;opacity:"+r(d.alpha)+";width:"+r(d.width)+"px;transform:rotate("+r(d.rotate)+"deg);",d.background&&(a+="background:"+r(d.background)+";"),n.push(t("div",{id:"chart_"+i,style:a})),t(i,0,n)},assign:function(e){return this.set(e),!0},render:function(){return r(this,void 0,void 0,function(){var e,t,i=this;return a(this,function(r){switch(r.label){case 0:return[4,this.digest()];case 1:return r.sent(),this.get("onlyMove")?[2]:(e=this.get("props"),this._aW||(this._aW=echarts.init(n.node("chart_"+this.id)),this.on("destroy",function(){i._aW.dispose()})),(t=this._aW).setOption({title:{text:e.title,x:"center"},series:[{data:[{value:120,name:"pie1"},{vaue:300,name:"pie2"},{value:400,name:"pie3"},{value:220,name:"pie4"},{value:40,name:"pie5"}],type:"pie",name:"test"}]},!0),t.resize(),[2])}})})}})}),define("elements/circle/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../i18n/index"),n=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor:function(){this.set({view:"elements/circle/index"})}},{type:"circle",role:"circle",title:"Z",icon:"&#xe654;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:n.default._aU,y:n.default._aU,width:n.default._aU,height:n.default._aU,alpha:1,title:1,rotate:1,fillcolor:1,borderwidth:1,bordertype:1,bordercolor:1},getProps:function(e,t){return{fillcolor:"",alpha:1,width:150,height:150,x:e,y:t,rotate:0,borderwidth:1,bordertype:"solid",bordercolor:"#000000",locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:n.default._aU,write:n.default._aV},{tip:"R",type:r.default._1,key:"y",read:n.default._aU,write:n.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:n.default._aU,write:n.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:n.default._aU,write:n.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"a_",key:"borderwidth",type:r.default._1,min:0},{tip:"aa",key:"bordertype",type:r.default._9,items:[{text:a.default("ab"),value:"solid"},{text:a.default("ac"),value:"dotted"},{text:a.default("ad"),value:"dashed"}]},{tip:"ae",key:"bordercolor",type:r.default._2},{tip:"af",key:"fillcolor",clear:!0,alpha:!0,type:r.default._2},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/circle/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,n=[],{props:d}=e;return a="position:absolute;border-radius:50%;left:"+r(d.x)+"px;top:"+r(d.y)+"px;",d.borderwidth&&(a+="border:"+r(d.borderwidth)+"px "+r(d.bordertype)+" "+r(d.bordercolor)+";"),d.fillcolor&&(a+="background:"+r(d.fillcolor)+";"),a+="height:"+r(d.height)+"px;opacity:"+r(d.alpha)+";width:"+r(d.width)+"px;transform:rotate("+r(d.rotate)+"deg)",n.push(t("div",{style:a})),t(i,0,n)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("elements/chart-meter/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../util/converter"),n=e("../designer");t.default=n.default.extend({ctor:function(){this.set({view:"elements/chart-meter/index"})}},{type:"chart-meter",role:"chart-meter",title:"X",icon:"&#xeb94;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:a.default._aU,y:a.default._aU,width:a.default._aU,height:a.default._aU,alpha:1,rotate:1,background:1},getProps:function(e,t){return{background:"",alpha:1,width:500,height:300,x:e,y:t,rotate:0,locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:a.default._aU,write:a.default._aV},{tip:"R",type:r.default._1,key:"y",read:a.default._aU,write:a.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:a.default._aU,write:a.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:a.default._aU,write:a.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"U",type:r.default._2,key:"background",alpha:!0,clear:!0},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/chart-meter/index",["magix"],(e,t,i)=>{"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var n=e("magix");t.default=n.default.View.extend({tmpl:(e,t,i,r)=>{let a,n=[],{props:d}=e;return a="position:absolute;left:"+r(d.x)+"px;top:"+r(d.y)+"px;height:"+r(d.height)+"px;opacity:"+r(d.alpha)+";width:"+r(d.width)+"px;transform:rotate("+r(d.rotate)+"deg);",d.background&&(a+="background:"+r(d.background)+";"),n.push(t("div",{id:"chart_"+i,style:a})),t(i,0,n)},assign:function(e){return this.set(e),!0},render:function(){return r(this,void 0,void 0,function(){var e,t=this;return a(this,function(i){switch(i.label){case 0:return[4,this.digest()];case 1:return i.sent(),this.get("onlyMove")?[2]:(this.get("props"),this._aW||(this._aW=echarts.init(n.node("chart_"+this.id)),this.on("destroy",function(){t._aW.dispose()})),(e=this._aW).setOption({series:[{type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}]},!0),e.resize(),[2])}})})}})}),define("elements/image/designer",["../../designer/props","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../util/converter"),n=e("../designer");t.default=n.default.extend({ctor:function(){this.set({view:"elements/image/index"})}},{type:"image",role:"image",title:"ak",icon:"&#xe650;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:a.default._aU,y:a.default._aU,width:a.default._aU,height:a.default._aU,alpha:1,image:1,rotate:1},getProps:function(e,t){return{height:100,alpha:1,x:e,y:t,rotate:0,width:200,image:"",locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:a.default._aU,write:a.default._aV},{tip:"R",type:r.default._1,key:"y",read:a.default._aU,write:a.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:a.default._aU,write:a.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:a.default._aU,write:a.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"al",key:"image",refresh:!0,type:r.default._8,write:function(e,t,i){return e||(i.width=200,i.height=100),t.width=i.width,t.height=i.height,e}},{tip:"am",type:r.default._a_,key:"image",ifShow:function(e){return e.image}},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/image/index",["magix"],(e,t,i)=>{let r={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d,o,l=[],{props:s,i18n:u}=e;return n=[],s.image?(d=[t("img",{style:"width:100%;height:100%",src:a(s.image)},0,0,1)],n.push(...d)):(o=[t(0,0,a(u("an")))],d=[t("div",r,o)],n.push(...d)),l.push(t("div",{style:"position:absolute;left:"+a(s.x)+"px;top:"+a(s.y)+"px;height:"+a(s.height)+"px;opacity:"+a(s.alpha)+";width:"+a(s.width)+"px;transform:rotate("+a(s.rotate)+"deg)"},n)),t(i,0,l)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("elements/line/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../i18n/index"),n=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor:function(){this.set({view:"elements/line/index"})}},{type:"line",role:"line",title:"ao",icon:"&#xe601;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:n.default._aU,y:n.default._aU,width:n.default._aU,height:n.default._aU,alpha:1,title:1,rotate:1,linetype:1,color:1},getProps:function(e,t){return{height:1,alpha:1,x:e,y:t,rotate:0,width:200,linetype:"solid",color:"#000000",locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:n.default._aU,write:n.default._aV},{tip:"R",type:r.default._1,key:"y",read:n.default._aU,write:n.default._aV},{tip:"ap",type:r.default._1,key:"width",min:0,read:n.default._aU,write:n.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"S",key:"height",type:r.default._1,min:0,max:100,read:n.default._aU,write:n.default._aV},{tip:"aq",key:"linetype",type:r.default._9,items:[{text:a.default("ab"),value:"solid"},{text:a.default("ac"),value:"dotted"},{text:a.default("ad"),value:"dashed"}]},{tip:"N",key:"color",type:r.default._2},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/line/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a=[],{props:n}=e;return a.push(t("div",{style:"position:absolute;left:"+r(n.x)+"px;top:"+r(n.y)+"px;border-top:"+r(n.height)+"px "+r(n.linetype)+" "+r(n.color)+";opacity:"+r(n.alpha)+";width:"+r(n.width)+"px;transform:rotate("+r(n.rotate)+"deg)"})),t(i,0,a)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("elements/page/designer",["../../designer/props","../../i18n/index","../../designer/const"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../i18n/index"),n=e("../../designer/const");t.default={title:"ar",getProps:function(){return{width:n.default._D,height:n.default._E,background:"#ffffff",backgroundImage:"",backgroundRepeat:"full",backgroundWidth:0,backgroundHeight:0,scaleType:"auto",hor:0,ver:0}},props:[{tip:"L",key:"width",type:r.default._1,min:0},{tip:"S",key:"height",type:r.default._1,min:0},{tip:"as",key:"scaleType",type:r.default._9,items:[{text:a.default("at"),value:"auto"},{text:a.default("au"),value:"full"}]},{type:r.default._3},{tip:"U",key:"background",type:r.default._2},{tip:"av",key:"backgroundImage",type:r.default._8,refresh:!0,write:function(e,t,i){return t.backgroundWidth=i.width,t.backgroundHeight=i.height,e}},{tip:"aw",key:"backgroundRepeat",type:r.default._9,items:[{text:a.default("ax"),value:"full"},{text:a.default("ay"),value:"no-repeat"},{text:a.default("az"),value:"repeat-x"},{text:a.default("aA"),value:"repeat-y"},{text:a.default("aB"),value:"repeat"}],refresh:!0,ifShow:function(e){return e.backgroundImage}},{tip:"aC",key:"backgroundWidth",type:r.default._1,min:0,ifShow:function(e){var t=e.backgroundImage,i=e.backgroundRepeat;return t&&"full"!==i}},{tip:"aD",key:"backgroundHeight",type:r.default._1,min:0,ifShow:function(e){var t=e.backgroundImage,i=e.backgroundRepeat;return t&&"full"!=i}},{tip:"aE",key:"hor",type:r.default._1,ifShow:function(e){return e.backgroundImage&&"full"!=e.backgroundRepeat}},{tip:"aF",key:"ver",type:r.default._1,ifShow:function(e){return e.backgroundImage&&"full"!=e.backgroundRepeat}}]}}),define("elements/rect/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../i18n/index"),n=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor:function(){this.set({view:"elements/rect/index"})}},{type:"rect",role:"rect",title:"aG",icon:"&#xe6c7;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:n.default._aU,y:n.default._aU,width:n.default._aU,height:n.default._aU,alpha:1,rotate:1,fillcolor:1,borderwidth:1,bordertype:1,bordercolor:1,radius:1},getProps:function(e,t){return{fillcolor:"",height:100,alpha:1,x:e,y:t,rotate:0,width:200,borderwidth:1,bordertype:"solid",bordercolor:"#000000",radius:0,locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:n.default._aU,write:n.default._aV},{tip:"R",type:r.default._1,key:"y",read:n.default._aU,write:n.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:n.default._aU,write:n.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:n.default._aU,write:n.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"a_",key:"borderwidth",type:r.default._1,min:0},{tip:"aa",key:"bordertype",type:r.default._9,items:[{text:a.default("ab"),value:"solid"},{text:a.default("ac"),value:"dotted"},{text:a.default("ad"),value:"dashed"}]},{tip:"ae",key:"bordercolor",type:r.default._2},{tip:"af",key:"fillcolor",clear:!0,alpha:!0,type:r.default._2},{tip:"aH",key:"radius",type:r.default._1,min:0},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/rect/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,n=[],{props:d}=e;return a="position:absolute;left:"+r(d.x)+"px;top:"+r(d.y)+"px;",d.borderwidth&&(a+="border:"+r(d.borderwidth)+"px "+r(d.bordertype)+" "+r(d.bordercolor)+";"),d.fillcolor&&(a+="background:"+r(d.fillcolor)+";"),a+="height:"+r(d.height)+"px;opacity:"+r(d.alpha)+";width:"+r(d.width)+"px;transform:rotate("+r(d.rotate)+"deg);",d.radius&&(a+="border-radius:"+r(d.radius)+"px;"),n.push(t("div",{style:a})),t(i,0,n)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("elements/repeat/designer",["../../designer/props","../../i18n/index","../../util/converter","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../../designer/props"),a=e("../../i18n/index"),n=e("../../util/converter"),d=e("../designer");t.default=d.default.extend({ctor:function(){this.set({view:"elements/repeat/index"})}},{type:"repeat",role:"repeat",title:"aI",icon:"&#xe78f;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height","imageWidth","imageHeight"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:n.default._aU,y:n.default._aU,width:n.default._aU,height:n.default._aU,alpha:1,rotate:1,background:1,image:1,repeat:1,imageWidth:1,imageHeight:1,hor:1,ver:1},getProps:function(e,t){return{height:100,alpha:1,x:e,y:t,rotate:0,width:200,radius:0,image:"",repeat:"repeat",imageWidth:0,imageHeight:0,hor:0,ver:0,locked:!1}},props:[{tip:"Q",type:r.default._1,key:"x",read:n.default._aU,write:n.default._aV},{tip:"R",type:r.default._1,key:"y",read:n.default._aU,write:n.default._aV},{tip:"L",type:r.default._1,key:"width",min:0,read:n.default._aU,write:n.default._aV},{tip:"S",key:"height",type:r.default._1,min:0,read:n.default._aU,write:n.default._aV},{tip:"T",type:r.default._1,key:"rotate",min:-360,max:360},{type:r.default._3},{tip:"M",key:"alpha",type:r.default._1,step:.1,fixed:1,min:0,max:1},{tip:"aH",key:"radius",type:r.default._1,min:0},{tip:"al",key:"image",type:r.default._8,refresh:!0,write:function(e,t,i){return t.imageWidth=n.default._aV(i.width),t.imageHeight=n.default._aV(i.height),e}},{tip:"aC",key:"imageWidth",type:r.default._1,min:0,read:n.default._aU,write:n.default._aV,ifShow:function(e){return e.image}},{tip:"aD",key:"imageHeight",type:r.default._1,min:0,read:n.default._aU,write:n.default._aV,ifShow:function(e){return e.image}},{tip:"aE",key:"hor",type:r.default._1,ifShow:function(e){return e.image}},{tip:"aF",key:"ver",type:r.default._1,ifShow:function(e){return e.image}},{tip:"aw",key:"repeat",type:r.default._9,ifShow:function(e){return e.image},items:[{text:a.default("aB"),value:"repeat"},{text:a.default("az"),value:"repeat-x"},{text:a.default("aA"),value:"repeat-y"}]},{type:r.default._3},{tip:"O",key:"locked",type:r.default._4,refresh:!0,free:!0}]})}),define("elements/repeat/index",["magix"],(e,t,i)=>{let r={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d,o,l,s=[],{props:u,i18n:c}=e;return d=[],u.image||(l=[t(0,0,a(c("aJ")))],o=[t("div",r,l)],d.push(...o)),n="position:absolute;left:"+a(u.x)+"px;top:"+a(u.y)+"px;height:"+a(u.height)+"px;opacity:"+a(u.alpha)+";width:"+a(u.width)+"px;transform:rotate("+a(u.rotate)+"deg);",u.radius&&(n+="border-radius:"+a(u.radius)+"px;"),u.image&&(n+="background-image:url("+a(u.image)+");background-size:"+a(u.imageWidth)+"px "+a(u.imageHeight)+"px;background-repeat:"+a(u.repeat)+";background-position:"+a(u.hor)+"% "+a(u.ver)+"%"),s.push(t("div",{style:n},d)),t(i,0,s)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("elements/table/designer",["magix","../../designer/props","../../i18n/index","../../util/converter","../designer","../../designer/service"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("../../designer/props"),n=e("../../i18n/index"),d=e("../../util/converter"),o=e("../designer"),l=e("../../designer/service"),s=o.default.prototype,u=function(e,t,i){var r=e.bind,a=e.columns;if(r.fields&&r.fields.length){for(var n=0,d=0,o=r.fields;d<o.length;d++){n+=a[o[d].id]||120}e.width=n+1,i||!t?(e.height=125+e.theadRowHeight,e.data={tip:(null==i?void 0:i.msg)||"\u6b63\u5728\u52a0\u8f7d\u6570\u636e..."}):(t.length>15&&(t=t.slice(0,15)),e.height=25+e.theadRowHeight+e.tbodyRowHeight*t.length,e.data={list:t})}else e.height=e.theadRowHeight+e.tbodyRowHeight+1,e.width=200},c=new r.default.Cache;t.default=o.default.extend({mixins:[l.default],ctor:function(){this.set({view:"elements/table/index"})},_a4:function(e){var t=this,i=e.bind;if(i.url){var a=c.get(i.url);if(a)u(e,a.list,a.error);else{var n=r.default.mark(this,"_a4");this.fetch({name:"_ag",url:i.url},function(r,a){var d=a.get("data",[]);c.set(i.url,{list:d,error:r}),u(e,d,r);var o=t.get("element");n()&&t.digest({element:o})})}}},assign:function(e){var t=e.element.props;u(t),this._a4(t),s.assign.call(this,e)},_aF:function(e){var t=e.props;u(t),this._a4(t),s._aF.call(this,e)}},{type:"table",role:"table",title:"aK",icon:"&#xe660;",modifier:{rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:d.default._aU,y:d.default._aU,alpha:1,rotate:1,bind:1,cellAlign:1,theadRowHeight:1,tbodyRowHeight:1,columns:1,theadRowBackground:1,tbodyEvenRowBackground:1,tbodyOddRowBackground:1},getProps:function(e,t){return{alpha:1,x:e,y:t,rotate:0,width:200,height:71,locked:!1,cellAlign:"center",theadRowHeight:40,tbodyRowHeight:30,theadRowBackground:"#ffda95",tbodyEvenRowBackground:"#dde09d",tbodyOddRowBackground:"#f2f5cc",bind:{url:"",id:"",fields:[]},columns:{}}},props:[{tip:"Q",type:a.default._1,key:"x",read:d.default._aU,write:d.default._aV},{tip:"R",type:a.default._1,key:"y",read:d.default._aU,write:d.default._aV},{type:a.default._3},{tip:"aL",key:"bind",type:a.default._ab},{tip:"aM",key:"columns",type:a.default._ac,min:20,max:300},{type:a.default._3},{tip:"aN",key:"cellAlign",type:a.default._9,items:[{text:n.default("aO"),value:"left"},{text:n.default("aP"),value:"center"},{text:n.default("aQ"),value:"right"}]},{tip:"aR",min:25,max:100,key:"theadRowHeight",type:a.default._1},{tip:"aS",min:25,max:100,key:"tbodyRowHeight",type:a.default._1},{tip:"aT",key:"theadRowBackground",type:a.default._2,clear:!0,alpha:!0},{tip:"aU",key:"tbodyEvenRowBackground",type:a.default._2,clear:!0,alpha:!0},{tip:"aV",key:"tbodyOddRowBackground",type:a.default._2,clear:!0,alpha:!0},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/table/index",["magix"],(e,t,i)=>{let r={class:"rd-H rd-av"},a={style:"height:100px"},n={style:"height:24px"};Object.defineProperty(t,"__esModule",{value:!0});var d=e("magix");d.default.applyStyle("rd-h",".rd-av{border-collapse:collapse;border:1px solid #000;border-spacing:0;table-layout:fixed}.rd-aw{border:1px solid #000;overflow:hidden;white-space:pre}.rd-ax{text-align:center;font-size:12px;color:#999}"),t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let o,l,s,u,c,f,p,h,g,x,b,_=[],{props:v}=e;if(l=[],v.bind&&v.bind.fields&&v.bind.fields.length){c=[];for(let e=v.bind.fields,i=e.length,r=0;r<i;r+=1){let i=e[r];h=[t(0,0,d(i.name))],p="width:"+d(v.columns[i.id])+"px;text-align:"+d(v.cellAlign)+";",v.theadRowBackground&&(p+="background:"+d(v.theadRowBackground)),f=[t("th",{class:"rd-aw",style:p},h)],c.push(...f)}if(u=[t("tr",{style:"height:"+d(v.theadRowHeight)+"px"},c)],s=[t("thead",0,u)],u=[],v.data){if(c=[],v.data.tip)g=[t(0,0,d(v.data.tip))],h=[t("td",{class:"rd-aw rd-ax",colspan:d(v.bind.fields.length)},g)],f=[t("tr",a,h)],c.push(...f);else{f=[];for(let e=v.data.list,i=e.length,r=0;r<i;r+=1){let i=e[r];g=[];for(let e=v.bind.fields,a=e.length,n=0;n<a;n+=1){b=[t(0,0,d(i[e[n].id]))],p="text-align:"+d(v.cellAlign)+";",r%2&&v.tbodyOddRowBackground?p+="background:"+d(v.tbodyOddRowBackground):r%2==0&&v.tbodyEvenRowBackground&&(p+="background:"+d(v.tbodyEvenRowBackground)),x=[t("td",{class:"rd-aw",style:p},b)],g.push(...x)}h=[t("tr",{style:"height:"+d(v.tbodyRowHeight)+"px"},g)],f.push(...h)}c.push(...f)}u.push(...c)}s.push(t("tbody",0,u)),f=[t(0,0,"\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\u4ec5\u663e\u793a\u90e8\u5206\u6570\u636e")],c=[t("td",{class:"rd-aw rd-ax",colspan:d(v.bind.fields.length)},f)],u=[t("tr",n,c)],s.push(t("tfoot",0,u)),l.push(...s)}else f=[t(0,0,"\u7ed1\u5b9a\u6570\u636e")],p="text-align:"+d(v.cellAlign)+";",v.theadRowBackground&&(p+="background:"+d(v.theadRowBackground)),c=[t("th",{class:"rd-aw",style:p},f)],u=[t("tr",{style:"height:"+d(v.theadRowHeight)+"px"},c)],s=[t("thead",0,u)],f=[t(0,0,"\u8bf7\u5148\u7ed1\u5b9a\u6570\u636e")],p="text-align:"+d(v.cellAlign)+";",v.tbodyOddRowBackground&&(p+="background:"+d(v.tbodyOddRowBackground)),c=[t("td",{class:"rd-aw",style:p},f)],u=[t("tr",{style:"height:"+d(v.tbodyRowHeight)+"px"},c)],s.push(t("tbody",0,u)),l.push(...s);return o=[t("table",r,l)],_.push(t("div",{style:"position:absolute;left:"+d(v.x)+"px;top:"+d(v.y)+"px;opacity:"+d(v.alpha)+";width:"+d(v.width)+"px;transform:rotate("+d(v.rotate)+"deg)"},o)),t(i,0,_)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("elements/text/designer",["../designer","../../designer/props","../../util/converter"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("../designer"),a=e("../../designer/props"),n=e("../../util/converter");t.default=r.default.extend({ctor:function(){this.set({view:"elements/text/index"})}},{type:"text",role:"text",title:"aW",icon:"&#xe6bc;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height","fontsize","ls"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],json:{x:n.default._aU,y:n.default._aU,width:n.default._aU,height:n.default._aU,alpha:1,text:1,rotate:1,ls:1,background:1,forecolor:1,fontsize:1,style:1,align:1},getProps:function(e,t){return{background:"",height:25,alpha:1,text:"",ls:0,x:e,y:t,rotate:0,width:200,forecolor:"#000000",fontsize:14,locked:!1,style:{bold:!1,underline:!1,italic:!1},align:{h:"center",v:"center"}}},props:[{tip:"Q",type:a.default._1,key:"x",read:n.default._aU,write:n.default._aV},{tip:"R",type:a.default._1,key:"y",read:n.default._aU,write:n.default._aV},{tip:"L",type:a.default._1,key:"width",min:0,read:n.default._aU,write:n.default._aV},{tip:"S",key:"height",type:a.default._1,min:0,read:n.default._aU,write:n.default._aV},{tip:"T",type:a.default._1,key:"rotate",min:-360,max:360},{type:a.default._3},{tip:"aX",key:"fontsize",type:a.default._1,min:0,read:n.default._aU,write:n.default._aV},{tip:"M",key:"alpha",type:a.default._1,step:.1,fixed:1,min:0,max:1},{tip:"aY",key:"ls",type:a.default._1,min:0,read:n.default._aU,write:n.default._aV},{tip:"U",key:"background",clear:!0,alpha:!0,type:a.default._2},{tip:"aZ",key:"forecolor",type:a.default._2},{tip:"a0",key:"style",type:a.default._5},{tip:"a1",key:"align",type:a.default._6},{tip:"a2",key:"text",type:a.default._7,dockTop:!0},{type:a.default._3},{tip:"O",key:"locked",type:a.default._4,refresh:!0,free:!0}]})}),define("elements/text/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,n,d,o=[],{props:l,i18n:s}=e;return d="",l.text?d+=" "+r(l.text)+" ":d+=" "+r(s("a3"))+" ",n=[t(0,0,d)],a="position:absolute;left:"+r(l.x)+"px;top:"+r(l.y)+"px;display:flex;color:"+r(l.forecolor)+";",l.background&&(a+="background:"+r(l.background)+";"),a+="font-size:"+r(l.fontsize)+"px;height:"+r(l.height)+"px;letter-spacing:"+r(l.ls)+"px;opacity:"+r(l.alpha)+";",l.style.bold&&(a+="font-weight:bold;"),l.style.italic&&(a+="font-style:italic;"),l.style.underline&&(a+="text-decoration:underline;"),a+="align-items:"+r(l.align.v)+";justify-content:"+r(l.align.h)+";overflow:hidden;width:"+r(l.width)+"px;transform:rotate("+r(l.rotate)+"deg)",o.push(t("div",{style:a},n)),t(i,0,o)},assign:function(e){return this.set(e),!0},render:function(){this.digest()}})}),define("designer/axis",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","./history"],(e,t,i)=>{let r,a={class:"rd-W"},n={class:"rd-U"};var d=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=e("magix"),s=e("../gallery/mx-dragdrop/index"),u=e("../gallery/mx-pointer/cursor"),c=e("./history");l.default.applyStyle("rd-a",".rd-I{height:20px;border-bottom:1px solid #ccc;overflow:hidden;width:100%;background:#fff;z-index:200;position:relative}.rd-J{top:0;width:1px}.rd-J,.rd-K{position:absolute;background:#fa742b;z-index:200;display:none;pointer-events:none}.rd-K{left:0;height:1px}.rd-L{float:left;overflow:hidden;z-index:200;position:relative}.rd-M,.rd-L{width:20px;border-right:1px solid #ccc;background:#fff}.rd-M{position:absolute;left:0;top:0;height:20px;border-bottom:1px solid #ccc;z-index:201}.rd-N{left:5px;top:22px}.rd-N,.rd-O{cursor:default;position:absolute;font-size:10px}.rd-O{top:2px;left:24px}.rd-P,.rd-Q{position:relative;z-index:100}.rd-P{top:20px}.rd-Q{left:20px}.rd-R{width:4px;border-left:1px solid #fa742b}.rd-R,.rd-S{position:absolute;pointer-events:none}.rd-S{height:1px;background:#fa742b}.rd-T{position:absolute;left:-15px;top:4px;font-size:10px;color:#666;cursor:pointer;pointer-events:all}.rd-U{top:2px;cursor:default}.rd-U,.rd-V{position:absolute;left:4px;font-size:10px;color:#666}.rd-V{top:-15px;cursor:pointer;pointer-events:all}.rd-W{position:absolute;left:4px;top:2px;font-size:10px;color:#666;cursor:default}.rd-X{width:25px;top:-1px;height:3px;left:30px;cursor:ns-resize}.rd-Y,.rd-X{position:absolute;overflow:hidden;background:#fa742b;pointer-events:all}.rd-Y{width:3px;left:-2px;height:25px;top:20px;cursor:ew-resize}");var f={.5:{space:200,step:10},1:{space:100,step:10},1.5:{space:80,step:10},2:{space:60,step:10},2.5:{space:48,step:8},3:{space:40,step:8},3.5:{space:32,step:8},4:{space:24,step:8},4.5:{space:16,step:8},5:{space:16,step:8}};t.default=l.default.View.extend({tmpl:(e,t,i,d,o,l,s,u)=>{let c,f,p,h,g,x,b,_,v,y,m=[],{sTop:w,yHelpers:k,yStart:A,scale:S,vWidth:M,i18n:j,sLeft:z,xHelpers:T,xStart:P,vHeight:U,width:V,step:O,space:E,hbar:Y,barColor:I,bar:X,xEnd:C,height:R,yEnd:L}=e;c=[];for(let e=k.length,r=0;r<e;r+=1){let e=k[r];y=Math.abs(A)+e.mm*S+20,h=[t(0,0,"\ue600")],p=[t("i",{class:"rd-V rd-w",title:d(j("_")),"mx5-click":i+"\x1e_w({type:'y',id:'"+u(e.id)+"'})"},h)],h=[t(0,0,d(e.mm))],p.push(t("span",a,h),t("span",{class:"rd-X","mx5-mousedown":i+"\x1e_A({type:'y',id:'"+u(e.id)+"',c:"+d(y)+"})",title:d(j("a"))})),f=[t("div",{class:"rd-S",style:"width:"+d(M)+"px;top:"+d(y)+"px"},p)],c.push(...f)}m.push(t("div",{class:"rd-Q",style:"top:-"+d(w)+"px",id:i+"_y_help","mx5-contextmenu":i+"\x1e_B()"},c)),c=[];for(let e=T.length,r=0;r<e;r+=1){let e=T[r];y=Math.abs(P)+e.mm*S,h=[t(0,0,"\ue600")],p=[t("i",{class:"rd-T rd-w",title:d(j("_")),"mx5-click":i+"\x1e_w({type:'x',id:'"+u(e.id)+"'})"},h)],h=[t(0,0,d(e.mm))],p.push(t("span",n,h),t("span",{class:"rd-Y","mx5-mousedown":i+"\x1e_A({type:'x',id:'"+u(e.id)+"',c:"+d(y)+"})",title:d(j("a"))})),f=[t("div",{class:"rd-R",style:"height:"+d(U)+"px;left:"+d(y)+"px"},p)],c.push(...f)}m.push(t("div",{class:"rd-P",style:"left:-"+d(z)+"px",id:i+"_x_help","mx5-contextmenu":i+"\x1e_B()"},c)),h=[];for(let e=0;e<P;e+=O)g=[],e&&(x=[],(v=e/S)%E==0?(b=[t("rect",{width:"1",height:d(Y),x:d(P-e),y:d(20-Y-1),style:"fill:"+d(I)},0,0,1)],_=[t(0,0,d(-v))],b.push(t("text",{x:d(P-e+2),y:"14",style:"font-size:10px;fill:#999"},_)),x.push(...b)):(b=[t("rect",{width:"1",height:d(X),x:d(P-e),y:d(20-X-1),style:"fill:"+d(I)},0,0,1)],x.push(...b)),g.push(...x)),h.push(...g);for(let e=0;e<C;e+=O)g=[],(v=e/S)%E==0?(x=[t("rect",{width:"1",height:d(Y),x:d(P+e),y:d(20-Y-1),style:"fill:"+d(I)},0,0,1)],b=[t(0,0,d(v))],x.push(t("text",{x:d(P+e+2),y:"14",style:"font-size:10px;fill:#999"},b)),g.push(...x)):(x=[t("rect",{width:"1",height:d(X),x:d(P+e),y:d(20-X-1),style:"fill:"+d(I)},0,0,1)],g.push(...x)),h.push(...g);p=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+d(V)+" 19",style:"cursor:default;position:absolute;width:"+d(V)+"px;height:19px"},h)],f=[t("div",{style:"width:"+d(V)+"px;height:100%"},p)],c=[t("div",{class:"rd-I",id:i+"_x"},f)],p=[t(0,0,"-")],f=[t("span",{_:"_",class:"rd-N",id:i+"_x_tip"},p)],c.push(t("div",{class:"rd-J",id:i+"_x_line",style:"height:"+d(U+20)+"px"},f)),m.push(t("div",{"mx5-mousemove":i+"\x1e_p()","mx5-mouseout":i+"\x1e_q()","mx5-click":i+"\x1e_u()"},c)),h=[];for(let e=0;e<A;e+=O)g=[],e&&(x=[],(v=e/S)%E==0?(b=[t("rect",{width:d(Y),height:"1",x:d(20-Y),y:d(A-e),style:"fill:"+d(I)},0,0,1)],_=[t(0,0,d(-v))],b.push(t("text",{x:"14",y:d(A-e+2),style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+d(A-e)+")"},_)),x.push(...b)):(b=[t("rect",{width:d(X),height:"1",x:d(20-X),y:d(A-e),style:"fill:"+d(I)},0,0,1)],x.push(...b)),g.push(...x)),h.push(...g);for(let e=0;e<L;e+=O)g=[],(v=e/S)%E==0?(x=[t("rect",{width:d(Y),height:"1",x:d(20-Y),y:d(A+e),style:"fill:"+d(I)},0,0,1)],b=[t(0,0,d(v))],x.push(t("text",{x:"14",y:d(A+e),style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+d(A+e-2)+")"},b)),g.push(...x)):(x=[t("rect",{width:d(X),height:"1",x:d(20-X),y:d(A+e),style:"fill:"+d(I)},0,0,1)],g.push(...x)),h.push(...g);return p=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 "+d(R),style:"cursor:default;position:absolute;width:19px;height:"+d(R)+"px"},h)],f=[t("div",{style:"height:"+d(R)+"px"},p)],c=[t("div",{class:"rd-L",style:"height:"+d(U)+"px",id:i+"_y"},f)],p=[t(0,0,"-")],f=[t("span",{_:"a",class:"rd-O",id:i+"_y_tip"},p)],c.push(t("div",{class:"rd-K",id:i+"_y_line",style:"width:"+d(M+20)+"px"},f)),m.push(t("div",{"mx5-mousemove":i+"\x1e_r()","mx5-mouseout":i+"\x1e_s()","mx5-click":i+"\x1e_v()"},c)),r?m.push(r):m.push(r=t("div",{_:"b",class:"rd-M"})),t(i,0,m)},mixins:[s.default],init:function(e){var t=this,i=l.node(e.scroll);i.addEventListener("scroll",function(){t.__()},{passive:!0}),this._a=i,this.set({bar:4,hbar:12,barColor:"#aaa"});var r=this._b(this.render);l.State.on("_",r),l.State.on("a",r),l.State.on("b",r),l.State.on("c",r),l.State.on("d",r),l.State.on("e",r)},_m:function(){return d(this,void 0,void 0,function(){var e,t,i,r,a,n,d,s,u,c,p,h,g,x,b,_,v;return o(this,function(o){switch(o.label){case 0:return this._c?(e=this._a,t=l.State.get("_d"),i=Math.max(e.scrollWidth,window.innerWidth)+500,r=Math.max(e.scrollHeight,window.innerHeight)+300,0,0,20,0,0,10,10,p=l.node("stage_canvas"),h=l.node("stage_outer"),g=p.getBoundingClientRect(),x=h.getBoundingClientRect(),b=Math.round(g.left-x.left),n=i-(a=b+20),d=Math.round(g.top-x.top),s=r-d,u=e.offsetHeight,c=e.offsetWidth,_=f[t],v=l.default.mark(this,"@{render}"),[4,this.digest({sTop:e.scrollTop,sLeft:e.scrollLeft,width:i,scale:t,space:_.space,step:_.step,height:r,xStart:a,xEnd:n,yStart:d,vHeight:u,vWidth:c,yEnd:s})]):[3,2];case 1:o.sent(),v()&&(this._e=l.node(this.id+"_x"),this._f=l.node(this.id+"_y"),this._g=l.node(this.id+"_x_line"),this._h=l.node(this.id+"_y_line"),this._i=l.node(this.id+"_x_tip"),this._j=l.node(this.id+"_y_tip"),this._k=l.node(this.id+"_x_help"),this._l=l.node(this.id+"_y_help")),o.label=2;case 2:return[2]}})})},__:function(){var e=this._e,t=this._f,i=this._l,r=this._k,a=this._a,n=a.scrollTop,d=a.scrollLeft;e&&(e.scrollLeft=d),t&&(t.scrollTop=n),r&&(r.style.left=-d+"px"),i&&(i.style.top=-n+"px"),this.set({sLeft:d,sTop:n})},render:function(){var e=this;this.set({xHelpers:l.State.get("_n"),yHelpers:l.State.get("_o")});var t=function(){l.node("stage_canvas")?(e._c=1,e._m()):setTimeout(t,30)};setTimeout(t,0)},"_p<mousemove>":function(e){var t=this._e,i=e.pageX,r=this.get("xStart"),a=this._g.style;a.display="block",a.left=i+"px";var n=i-r+t.scrollLeft,d=this.get("scale");this._i.innerHTML=(n/d).toFixed(0)},"_q<mouseout>":function(e){l.default.inside(e.relatedTarget,e.eventTarget)||(this._g.style.display="none")},"_r<mousemove>":function(e){var t=this.root.getBoundingClientRect(),i=e.pageY-t.top,r=this.get("yStart"),a=this._f,n=this._h.style;n.display="block",n.top=i+"px";var d=i-r-20+a.scrollTop,o=this.get("scale");this._j.innerHTML=(d/o).toFixed(0)},"_s<mouseout>":function(e){l.default.inside(e.relatedTarget,e.eventTarget)||(this._h.style.display="none")},"_u<click>":function(e){var t=(e.pageX-this.get("xStart")+this._e.scrollLeft)/this.get("scale")|0,i=this.get("xHelpers");i.push({mm:t,id:l.default.guid("x_")}),this.digest({xHelpers:i}),c.default._t()},"_v<click>":function(e){var t=this.root.getBoundingClientRect(),i=(e.pageY-t.top-this.get("yStart")-20+this._f.scrollTop)/this.get("scale")|0,r=this.get("yHelpers");r.push({mm:i,id:l.default.guid("x_")}),this.digest({yHelpers:r}),c.default._t()},"_w<click>":function(e){for(var t,i=e.params,r=i.type,a=i.id,n=r+"Helpers",d=this.get(n),o=d.length;o--;){if(d[o].id==a){d.splice(o,1);break}}this.digest(((t={})[n]=d,t)),c.default._t()},"_A<mousedown>":function(e){var t=this;if(e.target==e.eventTarget){for(var i,r=e.params,a=r.type,n=r.id,d=r.c,o=a+"Helpers",l=this.get(o),s=0,f=l;s<f.length;s++){var p=f[s];if(p.id==n){i=p;break}}if(i){var h=this.get(a+"Start"),g=0;this._x(e,function(r){var n,s;g||(g=1,u.default._y(e.eventTarget)),s="x"==a?r.pageX-e.pageX+d:r.pageY-e.pageY+d-20,i.mm=(s-h)/t.get("scale")|0,t.digest(((n={})[o]=l,n))},function(){g&&(u.default._z(),c.default._t())})}}},"_B<contextmenu>":function(e){e.preventDefault()},"$win<resize>":function(){var e=this;setTimeout(function(){e._m()},0)}})}),define("designer/const",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_C:50,_d:1,_D:1280,_E:800}}),define("designer/content",["magix"],(e,t,i)=>{let r={class:"rd-o"},a={class:"rd-p",style:"word-break:break-all"},n={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});var d=e("magix");d.default.applyStyle("rd-b",".rd-Z{width:100%;height:500px}"),t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let o,l,s=[],{i18n:u,body:c}=e;return l=[t(0,0,d(u("b")))],o=[t("h5",0,l)],s.push(t("div",r,o)),o=[t("textarea",{class:"rd-Z rd-u",value:d(c)},0,n)],s.push(t("div",a,o)),t(i,0,s)},render:function(){for(var e=d.State.get("_F"),t=d.State.get("_G"),i=[],r=0,a=e;r<a.length;r++){var n=a[r],o={type:n.type,props:{}},l=n.ctrl.json,s=void 0;if(l)for(var u in n.props)1===(s=l[u])?o.props[u]=n.props[u]:s&&(o.props[u]=s(n.props[u]));else o.props=n.props;i.push(o)}var c={page:t,elements:i};this.digest({body:JSON.stringify(c,null,4)})}})}),define("designer/contextmenu",["magix","../i18n/index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("../i18n/index"),n={spliter:!0},d={id:0,text:"c",short:" (Ctrl+A)"},o={id:1,text:"d",short:" (Ctrl+C)"},l={id:14,text:"e",short:" (Ctrl+X)"},s={id:2,text:"f",short:" (Ctrl+V)"},u={id:5,text:"g"},c={id:6,text:"h"},f={id:3,text:"i"},p={id:4,text:"j"},h={id:7,text:"k",short:" (Delete)"},g={},x=function(e){return function(t){e["@:{menu@u.id}"]||(e["@:{menu@u.id}"]=r.default.guid("_m"));var i=t+e["@:{menu@u.id}"];if(!g[i]){for(var n=[],d=0,o=e;d<o.length;d++){var l=o[d];l.spliter?n.push(l):n.push({id:l.id,text:a.default(l.text)+(l.short||"")})}g[i]=n}return g[i]}};t.default={allId:d.id,pasteId:s.id,topId:f.id,upId:u.id,bottomId:p.id,downId:c.id,cutId:l.id,copyId:o.id,deleteId:h.id,singleElement:x([o,l,h,n,u,f,n,c,p]),multipleElement:x([o,l,h]),stage:x([d,s])}}),define("designer/header",["magix","../elements/index","../gallery/mx-dragdrop/index","../gallery/mx-pointer/select","../gallery/mx-pointer/cursor","../gallery/mx-dialog/index"],(e,t,i)=>{let r,a,n,d,o={class:"rd-E rd-d"},l={class:"rd-C rd-E rd-d rd-j"},s={class:"rd-0 rd-2 rd-g"},u={class:"rd-4 rd-w"},c={class:"rd-5"},f={class:"rd-3"},p={class:"rd-w"};Object.defineProperty(t,"__esModule",{value:!0});var h=e("magix"),g=e("../elements/index"),x=e("../gallery/mx-dragdrop/index"),b=e("../gallery/mx-pointer/select"),_=e("../gallery/mx-pointer/cursor"),v=e("../gallery/mx-dialog/index");h.default.applyStyle("rd-c",".rd-0,.rd-1{width:60px;height:40px;display:grid;grid-template-rows:20px 20px;justify-items:center;align-items:center;cursor:pointer;margin:0 2px}.rd-2{grid-template-columns:50px 10px}.rd-1{float:left;border-radius:2px}.rd-1:hover{background:#bd361b}.rd-3{display:none;position:absolute;cursor:default;top:100%;left:0;width:264px;padding:4px}.rd-3,.rd-0:hover{background:#e64e30}.rd-0:hover .rd-3{display:block}.rd-4{grid-column:1/2;grid-row:1/2;align-self:flex-end}.rd-5{font-size:12px;font-weight:400;line-height:12px;grid-column:1/2;grid-row:2/3}.rd-6{font-size:10px;margin-left:-10px;grid-row:1/3;grid-column:2/3}.rd-7{height:30px;width:1px;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,.27)),color-stop(.3,#fff),color-stop(.7,#fff),to(hsla(0,0%,100%,.27)));margin:2px 12px;float:left}");var y=["requestFullscreen","webkitRequestFullScreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"];t.default=h.default.View.extend({tmpl:(e,t,i,h,g,x,b)=>{let _,v,y,m,w,k,A,S,M,j=[],{i18n:z,elements:T}=e;r?_=[r]:(v=[t(0,0,"\ue679")],_=[r=t("i",{_:"_",class:"rd-a rd-w"},v)]),_.push(t(0,0,h(z("l"))+"\u2122")),j.push(t("div",o,_)),_=[];for(let e=T.length,r=0;r<e;r+=1){let e=T[r];if(v=[],e.spliter)y=a?[a]:[a=t("div",{_:"a",class:"rd-7"})],v.push(...y);else{if(y=[],e.subs){k=[t(0,1,h(e.icon))],w=[t("i",u,k)],k=[t(0,0,h(z(e.title)))],w.push(t("b",c,k)),n?w.push(n):(k=[t(0,0,"\ue73a")],w.push(n=t("i",{_:"b",class:"rd-6 rd-w"},k))),k=[];for(let a=e.subs,n=a.length,d=0;d<n;d+=1){let e=a[d];M=[t(0,1,h(e.icon))],S=[t("i",u,M)],M=[t(0,0,h(z(e.title)))],S.push(t("b",c,M)),A=[t("div",{class:"rd-1","mx5-mousedown":i+"\x1e_N({ctrl:'"+b(x,e,"\x1e_."+r+".a."+d)+"',hide:true})"},S)],k.push(...A)}w.push(t("div",f,k)),m=[t("div",s,w)],y.push(...m)}else k=[t(0,1,h(e.icon))],w=[t("i",u,k)],k=[t(0,0,h(z(e.title)))],w.push(t("b",c,k)),m=[t("div",{class:"rd-0 rd-g","mx5-mousedown":i+"\x1e_N({ctrl:'"+b(x,e,"\x1e_."+r)+"'})"},w)],y.push(...m);v.push(...y)}_.push(...v)}return j.push(t("div",l,_)),d?j.push(d):(v=[t(0,0,"\u8054\u7cfbQQ:84685009")],_=[t("div",{style:"font-size:14px;margin-right:20px"},v)],y=[t(0,0,"\ue64a")],v=[t("i",p,y)],y=[t(0,0,"\u9884\u89c8")],v.push(t("b",c,y)),_.push(t("div",{class:"rd-0","mx5-click":i+"\x1e_O()"},v)),y=[t(0,0,"\ue6b0")],v=[t("i",p,y)],y=[t(0,0,"\u4fdd\u5b58")],v.push(t("b",c,y)),_.push(t("div",{class:"rd-0","mx5-click":i+"\x1e_t()"},v)),y=[t(0,0,"\ue764")],v=[t("i",p,y)],y=[t(0,0,"\u5c55\u793a")],v.push(t("b",c,y)),_.push(t("div",{class:"rd-0","mx5-click":i+"\x1e_P()"},v)),j.push(d=t("div",{_:"c",class:"rd-D rd-E rd-e rd-j"},_))),t(i,0,j)},mixins:[x.default,v.default],render:function(){this.digest({elements:g.default._H()})},"_N<mousedown>":function(e){var t=e.params,i=t.ctrl,r=t.hide,a=e.eventTarget.parentNode,n=!1,d=null;h.State.set({_I:i});var o=i.getProps(0,0),l=o.width,s=o.height,u=h.State.get("_d");l*=u,s*=u,b.default._J(),_.default._K("move"),this._x(e,function(e){n||r&&(a.style.display="none"),h.State.fire("f",{width:l,height:s,node:x.default._L(e.clientX,e.clientY),pageX:e.pageX-l/2,pageY:e.pageY-s/2}),n=!0},function(e){r&&(a.style.display=""),b.default._z(),_.default._M(),n?e&&(d=x.default._L(e.clientX,e.clientY),h.State.fire("h",{node:d,pageX:e.pageX-l/2,pageY:e.pageY-s/2})):h.State.fire("g",{pageX:50*Math.random()|0,pageY:50*Math.random()|0})})},"_O<click>":function(){for(var e=h.node("stage_outer"),t=0,i=y;t<i.length;t++){var r=i[t];if(e[r]){e[r]();break}}},"_t<click>":function(){this.mxDialog("designer/content",{width:800})},"_P<click>":function(){window.open("./display.html")},"$doc<webkitfullscreenchange,mozfullscreenchange,fullscreenchange>":function(e){var t=document,i=t.fullscreenElement||t.webkitCurrentFullScreenElement||t.mozFullScreenElement||null;h.State.fire("i",{fullscreen:!0,full:!!i})}})}),define("designer/history",["magix","./const"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("./const"),n=[],d=[],o=null,l=-1,s="",u=null,c=function(){return JSON.stringify({page:r.State.get("_G"),scale:r.State.get("_d"),elements:r.State.get("_F"),select:r.State.get("_Q"),xLines:r.State.get("_n"),yLines:r.State.get("_o")})},f=function(e){var t=JSON.parse(e),i=r.State.get("_d"),a=t.scale||i;r.State.fire("_",{json:t,scale:i!==a})};t.default={_R:function(){u||(u=c())},_S:function(){return{canRedo:d.length,canUndo:n.length}},_T:function(){n.length=0,d.length=0},_U:function(){if(n.length>0){var e=n.pop();d.push(e);var t=n[n.length-1]||u;f(t)}},_V:function(){var e=d.pop();e&&(n.push(e),f(e))},_t:function(e,t){void 0===e&&(e="_save"),void 0===t&&(t=0);var i=c();e!=s&&(o&&(n.push(o),o=null),s=e),d.length=0;var f=function(e){n.push(e),n.length>a.default._C&&(u=n.shift()),r.State.fire("j")};t?(o=i,clearTimeout(l),l=setTimeout(function(){f(o),o=null},t)):f(i)}}}),define("designer/index",["magix","../elements/index","../gallery/mx-dialog/index","./const","./history","../panels/index","./header","./toolbar","./axis","./stage"],(e,t,i)=>{let r;e("./header"),e("./toolbar"),e("./axis"),e("./stage");var a=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(a,n){function d(e){try{l(r.next(e))}catch(e){n(e)}}function o(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(d,o)}l((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var i,r,a,n,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(n){return function(o){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;d;)try{if(i=1,r&&(a=2&n[0]?r.return:n[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,n[1])).done)return a;switch(r=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,r=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(!(a=(a=d.trys).length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){d=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){d.label=n[1];break}if(6===n[0]&&d.label<a[1]){d.label=a[1],a=n;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(n);break}a[2]&&d.ops.pop(),d.trys.pop();continue}n=t.call(e,d)}catch(e){n=[6,e],r=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var d=e("magix"),o=e("../elements/index"),l=e("../gallery/mx-dialog/index"),s=e("./const"),u=e("./history"),c=e("../panels/index"),f=o.default._W();d.default.applyStyle("rd-d",".rd-8{background:#fa742b;height:40px;line-height:40px;font-size:16px;padding:0 10px;color:#fff;z-index:202}.rd-8,.rd-9{position:relative}.rd-9{padding:0 26px;background:#fafafa;color:#333;height:26px;z-index:201;border-bottom:1px solid #eee}.rd-a_{width:calc(100% - 20px);overflow:scroll;height:calc(100% - 85px);background-color:#edeef3;transition:all .3s;margin-left:20px;-webkit-overflow-scrolling:touch}.rd-aa{box-shadow:inset 1px 1px 6px 2px #dadada}");t.default=d.default.View.extend({tmpl:(e,t,i)=>{if(!r){let e=[];e.push(t("div",{"mx5-view":"designer/header",class:"rd-8"}),t("div",{"mx5-view":"designer/toolbar",class:"rd-9 rd-j"}),t("div",{"mx5-view":"designer/axis?scroll=stage",class:"rd-g rd-j"}),t("div",{"mx5-view":"designer/stage",id:"stage",class:"rd-a_ rd-aa rd-k"})),r=t(i,0,e)}return r},mixins:[l.default],init:function(){d.State.on("_",function(e){!function(e){var t=d.State.get("_G"),i=d.State.get("_F"),r=d.State.get("_Q"),a=d.State.get("_n"),n=d.State.get("_o"),l=o.default._X(e.elements),s=l.elements,u=l.map;i.length=0,i.push.apply(i,s),a.length=0,e.xLines&&a.push.apply(a,e.xLines),n.length=0,e.yLines&&n.push.apply(n,e.yLines);var c={};if(r.length=0,e.select)for(var f=0,p=e.select;f<p.length;f++){var h=u[p[f].id];h&&(c[h.id]=1,r.push(h))}Object.assign(t,e.page),d.State.set({_d:e.scale||1,_Y:c})}(e.json)}),d.State.set({_Z:f,_G:f.getProps(),_d:s.default._d,_F:[],_Q:[],_Y:{},_n:[],_o:[]}),u.default._R()},render:function(){return a(this,void 0,void 0,function(){var e;return n(this,function(t){switch(t.label){case 0:return e=d.default.mark(this,"@{render}"),[4,this.digest()];case 1:return t.sent(),e()&&c.default._0(),[2]}})})},"$doc<dragover>":function(e){e.preventDefault()}})}),define("designer/keys",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={UP:38,DOWN:40,LEFT:37,RIGHT:39,DELETE:46,BACKSPACE:8,TAB:9,C:67,V:86,A:65,N:78,X:88,Z:90,Y:89}}),define("designer/props",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_1:2,_2:4,_3:8,_4:16,_5:32,_6:64,_7:128,_8:256,_9:512,_a_:1024,_aa:2048,_ab:4096,_ac:8192,_ad:16384}}),define("designer/service",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=r.default.Service.extend(function(e,t){var i=e.get("method")||"GET";fetch(e.get("url"),{method:i,credentials:"include"}).then(function(e){if(e.ok)return e.json();throw new Error("Network response error")}).then(function(i){e.set("data",i.data),t()}).catch(function(e){t({msg:e.message})})});a.add([{name:"_ae",url:r.default.config("getImageUrl"),cache:18e5},{name:"_af",url:r.default.config("getFieldUrl"),cache:18e5},{name:"_ag",cache:18e5}]),t.default={fetch:function(e,t){return(new a).all(e,t)},save:function(e,t){return(new a).save(e,t)}}}),define("designer/stage-clipboard",["magix","./stage-elements","./stage-select"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("./stage-elements"),n=e("./stage-select"),d=function(e){if(Array.isArray(e)){for(var t=[],i=0,a=e;i<a.length;i++){var n=a[i];t.push(d(n))}e=t}else if("Object"==r.default.type(e)){t={};for(var n in e)t[n]=d(e[n]);e=t}return e};t.default={_ai:function(){return(this._ah||[]).length},_aj:function(){return this._ah||[]},_ak:function(){for(var e=[],t=0,i=r.State.get("_Q");t<i.length;t++){var a=i[t];e.push(a)}this._ah=e},_am:function(){var e=r.State.get("_Q");1==e.length&&e[0].props.locked||(this._ak(),this._al=!0)},_ap:function(e){var t=this,i=t._ah,o=r.State.get("_F"),l=!1;if(i){l=!0;for(var s=[],u=0,c=0,f=0,p=function(e){for(var t=0,i=o;t<i.length;t++){var r=i[t];if(r.props.x==e.x&&r.props.y==e.y)return 1}return 0},h=function(t){var i=t.props,r=t.ctrl;if(0===u)if(e)c=e.x-i.x,f=e.y-i.y;else{for(var a={x:i.x,y:i.y};p(a);)a.x+=20,a.y+=20;for(a.x+i.width<0&&(a.x=-i.width/2),a.y+i.height<0&&(a.y=-i.height/2);p(a);)a.x-=4,a.y-=4;c=a.x-i.x,f=a.y-i.y}for(var n=0,d=r.moved;n<d.length;n++){var o=d[n];i[o.key]=i[o.key]+("x"==o.use?c:f)}i.locked=!1},g=0,x=i;g<x.length;g++){var b=x[g],_=d(b);h(_),u++,_.id=r.default.guid("e_"),o.push(_),s.push(_),t._al&&a.default._an(b.id,!0)}t._al&&(delete t._al,delete t._ah),r.State.fire("c"),n.default._ao(s)}return l}}}),define("designer/stage-elements",["magix","./stage-select","./history","../gallery/mx-pointer/cursor","../util/transform"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("./stage-select"),n=e("./history"),d=e("../gallery/mx-pointer/cursor"),o=e("../util/transform");t.default={_N:function(e,t){var i=r.State.get("_I");if(i){for(var n=r.State.get("_F"),d=i.getProps(e.pageX,e.pageY),o=r.State.get("_d"),l={},s=0,u=i.scales;s<u.length;s++){var c=u[s];l[c]=d[c]*o}for(var f=l.x-d.x,p=l.y-d.y,h=0,g=i.moved;h<g.length;h++){var x=g[h];"x"==x.use?l[x.key]-=f:l[x.key]-=p}for(var b in l)d[b]=l[b];var _={id:r.default.guid("e_"),ctrl:i,type:i.type,props:d};return n.push(_),t&&a.default._aq(_),n}},_at:function(e,t){if(e.shiftKey||e.ctrlKey||e.metaKey){if(!t.props.locked){for(var i=r.State.get("_Q"),d=!1,o=i.length;o--;){var l=i[o];l.id==t.id&&(d=!0),l.props.locked&&i.splice(o,1)}if(d&&i.length>1)return void(a.default._ar(t)&&n.default._t());a.default._as(t)&&n.default._t()}}else a.default._aq(t)&&n.default._t()},_av:function(e,t){var i=e.params.element,o=r.State.get("_Q");if(void 0===e.button||0==e.button)if(e.shiftKey||e.ctrlKey||e.metaKey)this._at(e,i);else{d.default._au("move");for(var l=[],s=(m=!1,0),u=o;s<u.length;s++){var c=u[s],f=c.id,p=c.ctrl,h=c.props;i.id==f&&(m=!0);for(var g={},x=0,b=p.moved;x<b.length;x++){g[(A=b[x]).key]=h[A.key]}l.push(g)}if(!m){a.default._aq(i)&&n.default._t(),l.length=0;g={};for(var _=0,v=i.ctrl.moved;_<v.length;_++){g[(A=v[_]).key]=i.props[A.key]}l.push(g),o.length=0,o.push(i)}var y=!1;r.State.fire("k",{show:1}),t._x(e,function(t){for(var i=t.pageX-e.pageX,a=t.pageY-e.pageY,n=0,d=0,s=o;d<s.length;d++){var u=s[d],c=l[n++];if(!u.props.locked){y=!0;for(var f=0,p=u.ctrl.moved;f<p.length;f++){var h=p[f];u.props[h.key]=c[h.key]+("x"==h.use?i:a)}var g=r.Vframe.byNode(r.node(u.id));g&&g.invoke("assign",[{element:u}])&&g.invoke("render")}}r.State.fire("d")},function(){y&&n.default._t(),d.default._z(),r.State.fire("k")})}else{for(var m=!1,w=0,k=o;w<k.length;w++){var A;if((A=k[w]).id===i.id){m=!0;break}}m||a.default._aq(i)&&n.default._t()}},_aw:function(){var e=r.State.get("_Q"),t=r.State.get("_F"),i=!1;if(e.length){for(var n=r.toMap(e,"id"),d=t.length;d--;)n[t[d].id]&&(i=!0,t.splice(d,1));i&&a.default._aq()}return i},_ay:function(){for(var e,t,i=[],a=0,n=r.State.get("_F");a<n.length;a++){var d=n[a];if(!(e=d.props).locked){t=e.rotate||0;for(var l={x:e.x,y:e.y,width:e.width,height:e.height},s=o.default._ax(l,t),u=s.point[0],c=s.point[2],f=s.point[6],p=s.point[4],h=u,g=u,x=u,b=u,_=0,v=[c,f,p];_<v.length;_++){var y=v[_];y.x<h.x&&(h=y),y.x>x.x&&(x=y),y.y<g.y&&(g=y),y.y>b.y&&(b=y)}i.push({element:d,left:h,top:g,right:x,bottom:b,points:[u,c,f,p],lines:[{start:u,end:c},{start:c,end:p},{start:p,end:f},{start:f,end:u}]})}}return i},_az:function(e,t,i){for(var r,a,n,d,o,l,s,u,c,f=[],p=[{start:{x:t.x,y:t.y},end:{x:t.x+t.width,y:t.y}},{start:{x:t.x+t.width,y:t.y},end:{x:t.x+t.width,y:t.y+t.height}},{start:{x:t.x+t.width,y:t.y+t.height},end:{x:t.x,y:t.y+t.height}},{start:{x:t.x,y:t.y+t.height},end:{x:t.x,y:t.y}}],h=0,g=e;h<g.length;h++){var x=g[h];if(r=!1,i&&i[x.element.id])i&&f.push(x.element);else{for(var b=0,_=x.points;b<_.length;b++){var v=_[b];if(v.x>=t.x&&v.y>=t.y&&v.x<=t.x+t.width&&v.y<=t.y+t.height){f.push(x.element),r=!0;break}}if(!r)for(var y=0,m=x.lines;y<m.length;y++){for(var w=m[y],k=0,A=p;k<A.length;k++){if(n=A[k],d=void 0,o=void 0,l=void 0,s=void 0,u=void 0,c=void 0,d=(a=w).start,o=a.end,l=n.start,s=n.end,u=((o.x-d.x)*(l.y-d.y)-(o.y-d.y)*(l.x-d.x))*((o.x-d.x)*(s.y-d.y)-(o.y-d.y)*(s.x-d.x)),c=((s.x-l.x)*(d.y-l.y)-(s.y-l.y)*(d.x-l.x))*((s.x-l.x)*(o.y-l.y)-(s.y-l.y)*(o.x-l.x)),u<0&&c<0){r=!0,f.push(x.element);break}}if(r)break}}}return f},_an:function(e,t){for(var i=r.State.get("_F"),n=i.length;n--;){e==i[n].id&&i.splice(n,1)}t||a.default._ao()},_aB:function(){for(var e=r.State.get("_Y"),t=[],i=0,d=r.State.get("_F");i<d.length;i++){var o=d[i];o.props.locked||t.push(o)}a.default._ao(t),a.default._aA(e)&&n.default._t()},_aC:function(e,t){for(var i=r.State.get("_F"),a=-1,n=i.length;n--;){if(i[n].id===t.id){i.splice(a=n,1);break}}return 3==e?i.push(t):4==e?i.unshift(t):5==e?i.splice(a+1,0,t):6==e&&(0===a&&(a=1),i.splice(a-1,0,t)),!0},_aD:function(e){var t=r.State.get("_Q"),i=r.State.get("_F"),n=t.length,d=t[0];if(0===n||n>1)d=i[e.shiftKey?0:i.length-1],a.default._aq(d);else{for(var o=void 0,l=void 0,s=i.length;s--;){var u=i[s];if(u.id==d.id){o=i[s-1];break}l=u}var c=null;e.shiftKey?(o||(o=i[i.length-1]),c=o):(l||(l=i[0]),c=l),c.id!=d.id&&a.default._aq(c)}}}}),define("designer/stage-select",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix");t.default={_aq:function(e){var t=r.State.get("_Q"),i=t.length;if(i||e){var a=i>1?null:t[0];t.length=0;var n=!1;if(e?(t.push(e),n=e!=a):i&&(n=!0),n)return r.State.set({_Y:r.toMap(t,"id")}),r.State.fire("l"),!0}},_as:function(e){for(var t=r.State.get("_Q"),i=!1,a=0,n=t;a<n.length;a++){if(n[a].id===e.id){i=!0;break}}if(!i)return t.push(e),r.State.set({_Y:r.toMap(t,"id")}),r.State.fire("l"),!0},_ar:function(e){for(var t=r.State.get("_Q"),i=!1,a=-1,n=0,d=t;n<d.length;n++){if(a++,d[n].id===e.id){i=!0;break}}if(i)return t.splice(a,1),r.State.set({_Y:r.toMap(t,"id")}),r.State.fire("l"),!0},_ao:function(e){var t=r.State.get("_Q");t.length=0,e&&t.push.apply(t,e),r.State.set({_Y:r.toMap(t,"id")}),r.State.fire("l")},_aA:function(e){var t=r.State.get("_Y"),i=0;for(var a in e)if(!t[a]){i=1;break}if(!i)for(var a in t)if(!e[a]){i=1;break}return i}}}),define("designer/stage",["magix","../gallery/mx-dragdrop/index","./history","./keys","./stage-elements","./stage-select","./stage-clipboard","../util/converter","../gallery/mx-pointer/select","../gallery/mx-pointer/cursor","../gallery/mx-menu/index","./contextmenu"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("../gallery/mx-dragdrop/index"),n=e("./history"),d=e("./keys"),o=e("./stage-elements"),l=e("./stage-select"),s=e("./stage-clipboard"),u=e("../util/converter"),c=e("../gallery/mx-pointer/select"),f=e("../gallery/mx-pointer/cursor"),p=e("../gallery/mx-menu/index"),h=e("./contextmenu");r.default.applyStyle("rd-e",".rd-ab{outline:0;display:flex;position:relative}.rd-ac{padding:50px 240px 50px 120px}.rd-ad .rd-ac{padding:0}.rd-ae{background:#fff;box-shadow:0 3px 6px 0 rgba(0,0,0,.3)}"),t.default=r.default.View.extend({tmpl:(e,t,i,r,a,n,d)=>{let o,l,s,u,c,f,p=[],{fullscreen:h,rx:g,ry:x,marginTop:b,marginLeft:_,page:v,scale:y,elements:m}=e;c=[];for(let e=m.length,a=0;a<e;a+=1){let e=m[a];f=[t("div",{$:"elements,scale,fullscreen",id:r(e.id),"mx5-view":"elements/"+r(e.type)+"/designer?element="+d(n,e,"\x1e_."+a)+"&scale="+d(n,y,"\x1eb")+"&fullscreen="+d(n,h,"\x1ec"),"mx5-mousedown":i+"\x1e_aG({element:'"+d(n,e,"\x1e_."+a)+"'})"})],c.push(...f)}return u="width:"+r(v.width*y)+"px;height:"+r(v.height*y)+"px;background:"+r(v.background)+";",v.backgroundImage&&(u+="background-image:url("+r(v.backgroundImage)+");background-repeat:"+r("full"==v.backgroundRepeat?"no-repeat":v.backgroundRepeat)+";background-size:","full"==v.backgroundRepeat?u+="100% 100%":u+=r(v.backgroundWidth*y)+"px "+r(v.backgroundHeight*y)+"px;background-position:"+r(v.hor)+"% "+r(v.ver)+"%"),s=[t("div",{class:"rd-ae rd-g",id:"stage_canvas",style:u},c)],l=[t("div",{class:"rd-ac",style:h&&"transform:scaleX("+r(g)+") scaleY("+r(x)+");transform-origin:0 0;margin:"+r(b)+"px 0 0 "+r(_)+"px;"},s)],o="rd-ab",h&&(o+=" rd-ad"),p.push(t("div",{id:"stage_outer","mx5-contextmenu":i+"\x1e_B()","mx5-mousedown":i+"\x1e_aI()",tabindex:"0","mx5-focusin":i+"\x1e_aK()","mx5-focusout":i+"\x1e_aL()","mx5-keydown":i+"\x1e_aJ()",class:o},l),t("div",{id:"pole_"+i,style:"margin-top:-"+r(v.height*y+100)+"px;display:none"})),t(i,0,p)},mixins:[a.default],init:function(){var e=this,t=function(t){if(t.node){if(!r.default.inside(t.node,r.node("stage_outer")))return;var i=u.default._aE({x:t.pageX,y:t.pageY});t.pageX=i.x,t.pageY=i.y}else t.pageX+=e.root.scrollLeft,t.pageY+=e.root.scrollTop;o.default._N(t,!0)&&(r.State.fire("c"),n.default._t())},i=function(t){var i=r.State.get("_F");t?e.digest({elements:i}):e.set({elements:i})},a=0,d=function(t){var i=r.State.get("_F");if(t.step||t.fullscreen){if(t.fullscreen){var n=r.State.get("_G");if(t.full){var d=screen.width/n.width,o=screen.height/n.height,l=Math.min(d,o),s=0,u=0;"auto"==n.scaleType?(s=l,u=l):(s=d,u=o);var c=(screen.height-u*n.height)/2,f=(screen.width-s*n.width)/2,p=r.State.get("_d");1!=p?(t.step=1/p,a=p):a=0,r.State.set({_d:1}),e.set({rx:s,ry:u,marginTop:c,marginLeft:f})}else 0!=a&&(t.step=a,r.State.set({_d:a}));e.set({fullscreen:t.full})}if(t.step)for(var h=0,g=i;h<g.length;h++){var x=g[h],b=x.props,_=x.ctrl;if(_.scales)for(var v=0,y=_.scales;v<y.length;v++){b[y[v]]*=t.step}}}e.set({elements:i}),e.render()};r.State.on("i",d),r.State.on("_",d),r.State.on("a",d),r.State.on("b",d),r.State.on("g",t),r.State.on("h",t),r.State.on("c",i),r.State.on("k",function(t){var i=e.root,a=r.node("pole_"+e.id).style;t.show?(a.width=i.scrollWidth+"px",a.height=i.scrollHeight+"px",a.display="block"):a.display="none"}),r.State.on("f",function(e){r.default.inside(e.node,r.node("stage_outer"))?c.default._aF(e.pageX,e.pageY,e.width,e.height):c.default._z()}),i()},render:function(){var e=r.State.get("_G");this.digest({scale:r.State.get("_d"),page:e})},"_aG<mousedown>":function(e){this.get("fullscreen")||o.default._av(e,this)},"_aI<mousedown>":function(e){var t=this;if(!this.get("fullscreen")){var i=e.target;if("stage_canvas"==i.id||r.default.inside(r.node("stage_canvas"),i)){var a=null,d=0,s=r.State.get("_Y");if(e.shiftKey){a={};for(var p=0,h=r.State.get("_Q");p<h.length;p++){var g=h[p];a[g.id]=1,d++}}else l.default._aq();this._aH=d,c.default._J();var x=0,b=o.default._ay();this._x(e,function(i){x||(x=1,f.default._au("default"));var r=Math.abs(e.pageX-i.pageX),n=Math.abs(e.pageY-i.pageY),d=Math.min(e.pageX,i.pageX),s=Math.min(e.pageY,i.pageY);c.default._aF(d,s,r,n);var p=u.default._aE({x:d,y:s});if(p.width=r,p.height=n,b.length){var h=o.default._az(b,p,a),g=h.length;g!==t._aH&&(t._aH=g,l.default._ao(h))}},function(){x&&(c.default._z(),f.default._z()),l.default._aA(s)&&n.default._t()})}}},"_aJ<keydown>":function(e){if(!this.get("fullscreen"))if(e.metaKey||e.ctrlKey)e.keyCode==d.default.Z?(e.preventDefault(),e.shiftKey?n.default._V():n.default._U()):e.keyCode==d.default.Y?(e.preventDefault(),n.default._V()):e.keyCode==d.default.A?(e.preventDefault(),o.default._aB()):e.keyCode==d.default.X?(e.preventDefault(),s.default._am()):e.keyCode==d.default.C?(e.preventDefault(),s.default._ak()):e.keyCode==d.default.V&&(e.preventDefault(),s.default._ap());else if(e.keyCode==d.default.TAB)e.preventDefault(),o.default._aD(e);else if(e.keyCode==d.default.DELETE||e.keyCode==d.default.BACKSPACE)e.preventDefault(),o.default._aw()&&(r.State.fire("c"),n.default._t());else{var t=e.shiftKey?10:1;t*=r.State.get("_d");var i=r.State.get("_Q");if(i.length){for(var a=!1,l=0,u="",c=0,f=i;c<f.length;c++){var p=f[c];if(!p.props.locked&&(e.keyCode==d.default.UP?(a=!0,l=-t,u="y"):e.keyCode==d.default.DOWN?(a=!0,l=t,u="y"):e.keyCode==d.default.LEFT?(a=!0,l=-t,u="x"):e.keyCode==d.default.RIGHT&&(a=!0,l=t,u="x"),a)){var h=r.Vframe.byNode(r.node(p.id));if(h){for(var g=0,x=p.ctrl.moved;g<x.length;g++){var b=x[g];b.use==u&&(p.props[b.key]+=l)}h.invoke("assign",[{element:p}])&&h.invoke("render")}}}a&&(e.preventDefault(),r.State.fire("d"),n.default._t("_",500))}}},"_B<contextmenu>":function(e){if(e.preventDefault(),r.default.inside(e.target,r.node("stage_canvas"))){var t=r.default.config("lang"),i=h.default.stage(t),a={},d=r.State.get("_F"),l=r.State.get("_Q"),c=s.default._ai();a[h.default.allId]=!d.length,a[h.default.pasteId]=!c;var f=l.length,g=l[0];if(1==f){i=h.default.singleElement(t);var x=d[d.length-1],b=d[0],_=x.id==g.id,v=b.id==g.id,y=g.props.locked;a[h.default.cutId]=y,a[h.default.upId]=y||_,a[h.default.topId]=y||_,a[h.default.bottomId]=y||v,a[h.default.downId]=y||v}else f>1&&(i=h.default.multipleElement(t));p.default.show(this,e,{list:i,disabled:a,picked:function(t){if(t.id==h.default.allId)o.default._aB();else if(t.id==h.default.copyId)s.default._ak();else if(t.id==h.default.pasteId){var i=u.default._aE({x:e.pageX,y:e.pageY});s.default._ap(i)&&n.default._t()}else t.id==h.default.cutId?s.default._am():t.id==h.default.deleteId?o.default._aw()&&(r.State.fire("c"),n.default._t()):t.id>=3&&t.id<=6&&o.default._aC(t.id,g)&&(r.State.fire("c"),n.default._t())}})}},"_aK<focusin>":function(){this.root.classList.remove("rd-aa")},"_aL<focusout>":function(){this.root.classList.add("rd-aa")}})}),define("designer/toolbar-align",["magix","./history"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix"),n=e("./history"),d=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d,o=[],{elements:l,i18n:s}=e,u=l.length;return r?o.push(r):o.push(r=t("i",{_:"_",class:"rd-ai"})),d=[t(0,0,"\ue70b")],n="rd-w rd-ag",u<2&&(n+=" rd-aj"),o.push(t("i",{title:a(s("m")),"mx5-click":i+"\x1e_aM({to:'left'})",class:n},d)),d=[t(0,0,"\ue711")],n="rd-w rd-ag",u<2&&(n+=" rd-aj"),o.push(t("i",{title:a(s("n")),"mx5-click":i+"\x1e_aM({to:'center'})",class:n},d)),d=[t(0,0,"\ue70c")],n="rd-w rd-ag",u<2&&(n+=" rd-aj"),o.push(t("i",{title:a(s("o")),"mx5-click":i+"\x1e_aM({to:'right'})",class:n},d)),d=[t(0,0,"\ue70d")],n="rd-w rd-ag",u<2&&(n+=" rd-aj"),o.push(t("i",{title:a(s("p")),"mx5-click":i+"\x1e_aM({to:'top'})",class:n},d)),d=[t(0,0,"\ue712")],n="rd-w rd-ag",u<2&&(n+=" rd-aj"),o.push(t("i",{title:a(s("q")),"mx5-click":i+"\x1e_aM({to:'middle'})",class:n},d)),d=[t(0,0,"\ue70e")],n="rd-w rd-ag",u<2&&(n+=" rd-aj"),o.push(t("i",{title:a(s("r")),"mx5-click":i+"\x1e_aM({to:'bottom'})",class:n},d)),t(i,0,o)},init:function(){var e=this.render.bind(this);a.State.on("_",e),a.State.on("l",e)},render:function(){this.digest({elements:a.State.get("_Q")})},"_aM<click>":function(e){if(!e.eventTarget.classList.contains("rd-aj")){for(var t=e.params.to,i=a.State.get("_Q"),r=o,l=d,s=d,u=o,c=d,f=d,p=0,h=i;p<h.length;p++){var g=h[p],x=a.node("mask_"+g.id).getBoundingClientRect();if("right"==t)x.right>r&&(r=x.right);else if("left"==t)x.left<l&&(l=x.left);else if("top"==t)x.top<s&&(s=x.top);else if("bottom"==t)x.bottom>u&&(u=x.bottom);else if("middle"==t){var b=(x.bottom-x.top)/2;x.top+b<c&&(c=x.top+b)}else if("center"==t){b=(x.right-x.left)/2;x.left+b<f&&(f=x.left+b)}}for(var _=0,v=0,y=i;v<y.length;v++){g=y[v],x=a.node("mask_"+g.id).getBoundingClientRect();var m=0,w="",k=void 0;if("right"==t?0!=(k=r-x.right)&&(_=1,m=1,w="x"):"left"==t?0!=(k=l-x.left)&&(_=1,m=1,w="x"):"top"==t?0!=(k=s-x.top)&&(_=1,m=1,w="y"):"bottom"==t?0!=(k=u-x.bottom)&&(_=1,m=1,w="y"):"middle"==t?0!=(k=c-(x.top+(x.bottom-x.top)/2))&&(_=1,m=1,w="y"):"center"==t&&0!=(k=f-(x.left+(x.right-x.left)/2))&&(_=1,m=1,w="x"),m){var A=a.Vframe.byNode(a.node(g.id));if(A){for(var S=0,M=g.ctrl.moved;S<M.length;S++){var j=M[S];j.use==w&&(g.props[j.key]+=k)}A.invoke("assign",[{element:g}])&&A.invoke("render")}}}_&&(a.State.fire("d"),n.default._t())}}})}),define("designer/toolbar-del",["magix","./stage-elements","./history"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix"),n=e("./stage-elements"),d=e("./history");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d,o=[],{elements:l,i18n:s}=e,u=l.length;return r?o.push(r):o.push(r=t("i",{_:"_",class:"rd-ai"})),d=[t(0,0,"\ue600")],n="rd-w rd-ag",u<1&&(n+=" rd-aj"),o.push(t("i",{title:a(s("k"))+"(Delete)","mx5-click":i+"\x1e_aN()",class:n},d)),t(i,0,o)},init:function(){var e=this.render.bind(this);a.State.on("_",e),a.State.on("l",e)},render:function(){this.digest({elements:a.State.get("_Q")})},"_aN<click>":function(e){e.eventTarget.classList.contains("rd-aj")||n.default._aw()&&(a.State.fire("c"),d.default._t())}})}),define("designer/toolbar-do",["magix","./history"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("./history");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,n,d=[],{status:o,i18n:l}=e;return n=[t(0,0,"\ue682")],a="rd-w rd-ag",o.canUndo||(a+=" rd-aj"),d.push(t("i",{title:r(l("s")),"mx5-click":i+"\x1e_aO({s:'-',b:"+r(o.canUndo)+"})",class:a},n)),n=[t(0,0,"\ue682")],a="rd-w rd-ag rd-B",o.canRedo||(a+=" rd-aj"),d.push(t("i",{title:r(l("t")),"mx5-click":i+"\x1e_aO({s:'+',b:"+r(o.canRedo)+"})",class:a},n)),t(i,0,d)},init:function(){var e=this.render.bind(this);r.State.on("_",e),r.State.on("j",e)},render:function(){this.digest({status:a.default._S()})},"_aO<click>":function(e){var t=e.params,i=t.s;t.b&&("-"==i?a.default._U():a.default._V())}})}),define("designer/toolbar-layer",["magix","./history","./stage-elements"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix"),n=e("./history"),d=e("./stage-elements");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d,o,l=[],{elements:s,top:u,i18n:c,bottom:f}=e;n="";let p=s.length;n+=" ";let h=s[0];return r?l.push(r):l.push(r=t("i",{_:"_",class:"rd-ai"})),o=[t(0,0,"\ue632")],d="rd-w rd-ag",(1!=p||h.props.locked||u.id==h.id)&&(d+=" rd-aj"),l.push(t("i",{title:a(c("g")),"mx5-click":i+"\x1e_aC({to:5})",class:d},o)),o=[t(0,0,"\ue607")],d="rd-w rd-ag",(1!=p||h.props.locked||u.id==h.id)&&(d+=" rd-aj"),l.push(t("i",{title:a(c("i")),"mx5-click":i+"\x1e_aC({to:3})",class:d},o)),o=[t(0,0,"\ue632")],d="rd-w rd-ag rd-z",(1!=p||h.props.locked||f.id==h.id)&&(d+=" rd-aj"),l.push(t("i",{title:a(c("h")),"mx5-click":i+"\x1e_aC({to:6})",class:d},o)),o=[t(0,0,"\ue607")],d="rd-w rd-ag rd-z",(1!=p||h.props.locked||f.id==h.id)&&(d+=" rd-aj"),l.push(t("i",{title:a(c("j")),"mx5-click":i+"\x1e_aC({to:4})",class:d},o)),t(i,0,l)},init:function(){var e=this.render.bind(this);a.State.on("_",e),a.State.on("c",e),a.State.on("l",e)},render:function(){var e=a.State.get("_F");this.digest({top:e[e.length-1],bottom:e[0],elements:a.State.get("_Q")})},"_aC<click>":function(e){if(!e.eventTarget.classList.contains("rd-aj")){var t=e.params.to,i=this.get("elements")[0];d.default._aC(t,i)&&(a.State.fire("c"),n.default._t())}}})}),define("designer/toolbar-panels",["magix","../panels/index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("magix"),a=e("../panels/index");t.default=r.default.View.extend({tmpl:(e,t,i,r,a,n,d,o)=>{let l,s,u,c=[],{panels:f,i18n:p}=e;for(let e=f.length,a=0;a<e;a+=1){let e=f[a];u=[t(0,1,r(e.icon))],s="rd-w rd-ag",e.opened&&(s+=" rd-ah"),l=[t("i",{"mx5-click":i+"\x1e_aQ({id:'"+o(e.id)+"'})",title:r(p(e.opened?"u":"v",e.title)),class:s},u)],c.push(...l)}return t(i,0,c)},init:function(){var e=this;r.State.on("m",function(){e.render()})},render:function(){this.digest({panels:a.default._aP()})},"_aQ<click>":function(e){var t=e.params.id;a.default._aQ(t)}})}),define("designer/toolbar-scale",["magix","./history"],(e,t,i)=>{let r={class:"rd-ak"};Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix"),n=e("./history");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d=[],{i18n:o,scale:l}=e;return n=[t(0,0,"\ue602")],d.push(t("i",{class:"rd-ag rd-w","mx5-click":i+"\x1e_aR({s:'-'})",title:a(o("w"))},n)),n=[t(0,0,a(100*l)+"%")],d.push(t("b",r,n)),n=[t(0,0,"\ue699")],d.push(t("i",{class:"rd-ag rd-w","mx5-click":i+"\x1e_aR({s:'+'})",title:a(o("x"))},n)),t(i,0,d)},init:function(){var e=this.render.bind(this);a.State.on("a",e),a.State.on("_",e)},render:function(){this.digest({scale:a.State.get("_d")})},"_aR<click>":function(e){var t=e.params.s,i=this.get("scale"),r=i;"+"==t?(i+=.5)>5&&(i=5):(i-=.5)<.5&&(i=.5),r!=i&&(a.State.set({_d:i}),a.State.fire("a",{step:i/r}),n.default._t())}})}),define("designer/toolbar-space",["magix","./history"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix"),n=e("./history"),d=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let n,d,o=[],{elements:l,bezier:s,i18n:u}=e,c=l.length;return r?o.push(r):o.push(r=t("i",{_:"_",class:"rd-ai"})),d=[t(0,0,"\ue604")],n="rd-w rd-ag",(c<2||s)&&(n+=" rd-aj"),o.push(t("i",{title:a(u("y")),"mx5-click":i+"\x1e_aS({to:'width'})",class:n},d)),d=[t(0,0,"\ue605")],n="rd-w rd-ag",(c<2||s)&&(n+=" rd-aj"),o.push(t("i",{title:a(u("z")),"mx5-click":i+"\x1e_aS({to:'height'})",class:n},d)),d=[t(0,0,"\ue608")],n="rd-w rd-ag",c<3&&(n+=" rd-aj"),o.push(t("i",{title:a(u("A")),"mx5-click":i+"\x1e_aT({to:'hor'})",class:n},d)),d=[t(0,0,"\ue608")],n="rd-w rd-A rd-ag",c<3&&(n+=" rd-aj"),o.push(t("i",{title:a(u("B")),"mx5-click":i+"\x1e_aT({to:'ver'})",class:n},d)),t(i,0,o)},init:function(){var e=this.render.bind(this);a.State.on("_",e),a.State.on("l",e)},render:function(){for(var e=a.State.get("_Q"),t=!1,i=0,r=e;i<r.length;i++){if("bezier"==r[i].type){t=!0;break}}this.digest({elements:e,bezier:t})},"_aS<click>":function(e){if(!e.eventTarget.classList.contains("rd-aj")){for(var t=e.params.to,i=a.State.get("_Q"),r=o,l=o,s=d,u=d,c=0,f=i;c<f.length;c++){(b=(x=f[c]).props).width>r&&(r=b.width),b.width<s&&(s=b.width),b.height>l&&(l=b.height),b.height<u&&(u=b.height)}for(var p=0,h=0,g=i;h<g.length;h++){var x,b=(x=g[h]).props,_=0,v=void 0;if("width"==t?(v=e.shiftKey?s:r,b.width!=v&&(_=1,p=1,b.width=v)):(v=e.shiftKey?u:l,b.height!=v&&(_=1,p=1,b.height=v)),_){var y=a.Vframe.byNode(a.node(x.id));y&&y.invoke("assign",[{element:x}])&&y.invoke("render")}}p&&(a.State.fire("d"),n.default._t())}},"_aT<click>":function(e){if(!e.eventTarget.classList.contains("rd-aj")){for(var t,i,r,l,s,u=e.params.to,c=a.State.get("_Q"),f=o,p=d,h=o,g=d,x=d,b=o,_=d,v=o,y=[],m=e.shiftKey,w=0,k=c;w<k.length;w++){var A=(K=k[w]).props,S=A.x+A.width/2,M=A.y+A.height/2,j=void 0;if(S>f&&(f=S),S<p&&(p=S),M>h&&(h=M),M<g&&(g=M),m){var z=(j=a.node("mask_"+K.id).getBoundingClientRect()).left,T=j.top,P=j.right,U=j.bottom;z<_&&(_=z,i=j),P>v&&(v=P,r=j),T<x&&(x=T,t=j),U>b&&(b=U,l=j)}y.push({m:K,mx:S,my:M,bound:j})}s=m?"ver"==u?function(e,t){return e.bound.top-t.bound.top}:function(e,t){return e.bound.left-t.bound.left}:"ver"==u?function(e,t){return e.my-t.my}:function(e,t){return e.mx-t.mx},y=y.sort(s);var V=0;if(m){var O=0,E=0,Y=y.length;if("ver"==u){t!=l&&Y--;for(var I=0,X=y;I<X.length;I++){var C=X[I];C.bound!=t&&C.bound!=l&&(O+=C.bound.height)}E=(l.top-t.bottom-O)/Y}else{i!=r&&Y--;for(var R=0,L=y;R<L.length;R++){var B=L[R];B.bound!=i&&B.bound!=r&&(O+=B.bound.width)}E=(r.left-i.right-O)/Y}for(var F=void 0,N=0,D=0,q=y;D<q.length;D++){var H=q[D],W=0,G=void 0,Q=void 0;if("ver"==u){if(H.bound!=t&&H.bound!=l)W=1,N+=Q=F.bound.bottom+N+E-H.bound.top,G="y"}else if(H.bound!=i&&H.bound!=r)W=1,N+=Q=(se=F.bound.right+N+E)-H.bound.left,G="x";if(W){V=1;var K=H.m;if(ae=a.Vframe.byNode(a.node(K.id))){for(var J=0,Z=K.ctrl.moved;J<Z.length;J++){(se=Z[J]).use==G&&(K.props[se.key]+=Q)}ae.invoke("assign",[{element:K}])&&ae.invoke("render")}}F=H}}else for(var $=y[0],ee=y.length-1,te=(Y=ee,F=$.m,(h-g)/Y),ie=(f-p)/Y,re=1;re<ee;re++){var ae;K=y[re].m,W=0,G="",Q=0;if("ver"==u){var ne=F.props.y+F.props.height/2;ne+=te,ne-=K.props.height/2,K.props.y!=ne&&(W=1,Q=ne-K.props.y,G="y")}else{var de=F.props.x+F.props.width/2;de+=ie,de-=K.props.width/2,K.props.x!=de&&(W=1,Q=de-K.props.x,G="x")}if(W)if(V=1,ae=a.Vframe.byNode(a.node(K.id))){for(var oe=0,le=K.ctrl.moved;oe<le.length;oe++){var se;(se=le[oe]).use==G&&(K.props[se.key]+=Q)}ae.invoke("assign",[{element:K}])&&ae.invoke("render")}F=K}V&&(a.State.fire("d"),n.default._t())}}})}),define("designer/toolbar",["magix","./toolbar-do","./toolbar-align","./toolbar-space","./toolbar-layer","./toolbar-del","./toolbar-scale","./toolbar-panels"],(e,t,i)=>{let r;e("./toolbar-do"),e("./toolbar-align"),e("./toolbar-space"),e("./toolbar-layer"),e("./toolbar-del"),e("./toolbar-scale"),e("./toolbar-panels"),Object.defineProperty(t,"__esModule",{value:!0});var a=e("magix");a.default.applyStyle("rd-f",".rd-af{height:22px}.rd-ag{cursor:pointer;height:22px;width:22px;margin:0 2px;display:inline-flex;align-items:center;justify-content:center;border-radius:2px}.rd-ag:hover{background:#e6e6e6;color:#333}.rd-ah,.rd-ah:hover{background:#c4c4c4}.rd-ai{height:16px;width:1px;background:#eee;margin:3px 12px;float:left}.rd-aj{color:#aaa;cursor:not-allowed}.rd-aj:hover{color:#aaa;background:transparent}.rd-ak{font-weight:400;font-size:14px;width:40px;display:inline-block;text-align:center}"),t.default=a.default.View.extend({tmpl:(e,t,i)=>{if(!r){let e,a=[];e=[t("div",{class:"rd-af","mx5-view":"designer/toolbar-do"}),t("div",{class:"rd-af","mx5-view":"designer/toolbar-align"}),t("div",{class:"rd-af","mx5-view":"designer/toolbar-space"}),t("div",{class:"rd-af","mx5-view":"designer/toolbar-layer"}),t("div",{class:"rd-af","mx5-view":"designer/toolbar-del"})],a.push(t("div",{class:"rd-E rd-b rd-d"},e)),e=[t("div",{class:"rd-af","mx5-view":"designer/toolbar-scale"}),t("i",{class:"rd-ai"}),t("div",{class:"rd-af","mx5-view":"designer/toolbar-panels"})],a.push(t("div",{class:"rd-E rd-b rd-e"},e)),r=t(i,0,a)}return r},render:function(){this.digest()}})});