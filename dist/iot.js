(function(e,t){if(!e.seajs){var i=e.seajs={version:"2.2.3"},r=i.data={},a=q("Object"),d=q("String"),l=Array.isArray||q("Array"),s=q("Function"),o=q("Undefined"),n=0,p=r.events={};i.on=function(e,t){return(p[e]||(p[e]=[])).push(t),i},i.off=function(e,t){if(!e&&!t)return p=r.events={},i;var a=p[e];if(a)if(t)for(var d=a.length-1;d>=0;d--)a[d]===t&&a.splice(d,1);else delete p[e];return i};var c,u=i.emit=function(e,t){var r,a=p[e];if(a)for(a=a.slice();r=a.shift();)r(t);return i},h=/[^?#]*\//,f=/\/\.\//g,g=/\/[^/]+\/\.\.\//,y=/([^:/])\/\//g,x=/^([^/:]+)(\/.+)$/,_=/{([^{]+)}/g,b=/^\/\/.|:\//,m=/^.*?\/\/.*?\//,w=document,k=K(w.URL),v=w.scripts,j=w.getElementById("seajsnode")||v[v.length-1],A=K(((c=j).hasAttribute?c.src:c.getAttribute("src",4))||k);i.resolve=function(e,t){if(!e)return"";var i,a,l;e=function(e){var t=r.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(_,function(e,i){return d(t[i])?t[i]:e})),e}(e=function(e){var t,i=r.paths;return i&&(t=e.match(x))&&d(i[t[1]])&&(e=i[t[1]]+t[2]),e}(e=function(e){var t=r.alias;return t&&d(t[e])?t[e]:e}(e))),a=(i=e).length-1;var o=N(e="#"===(l=i.charAt(a))?i.substring(0,a):".js"===i.substring(a-2)||i.indexOf("?")>0||".css"===i.substring(a-3)||"/"===l?i:i+".js",t);return o=function(e){var t=r.map,i=e;if(t)for(var a=0,d=t.length;a<d;a++){var l=t[a];if((i=s(l)?l(e)||e:e.replace(l[0],l[1]))!==e)break}return i}(o)};var S,z,M=w.head||w.getElementsByTagName("head")[0]||w.documentElement,Y=M.getElementsByTagName("base")[0],X=/\.css(?:\?|$)/i,P=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;i.request=function(e,t,i,a){var d=X.test(e),l=w.createElement(d?"link":"script");i&&(l.charset=i),o(a)||l.setAttribute("crossorigin",a),function(e,t,i,a){var d="onload"in e;function l(){e.onload=e.onerror=e.onreadystatechange=null,i||r.debug||M.removeChild(e),e=null,t()}!i||!P&&d?d?(e.onload=l,e.onerror=function(){u("error",{uri:a,node:e}),l()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&l()}:setTimeout(function(){!function e(t,i){var r,a=t.sheet;if(P)a&&(r=!0);else if(a)try{a.cssRules&&(r=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(r=!0)}setTimeout(function(){r?i():e(t,i)},20)}(e,t)},1)}(l,t,d,e),d?(l.rel="stylesheet",l.href=e):(l.async=!0,l.src=e),S=l,Y?M.insertBefore(l,Y):M.appendChild(l),S=null};var R,T=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,O=/\\\\/g,L=i.cache={},C={},I={},B={},H=V.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};V.prototype.resolve=function(){for(var e=this.dependencies,t=[],i=0,r=e.length;i<r;i++)t[i]=V.resolve(e[i],this.uri);return t},V.prototype.load=function(){if(!(this.status>=H.LOADING)){this.status=H.LOADING;var e=this.resolve();u("load",e);for(var t,i=this._remain=e.length,r=0;r<i;r++)(t=V.get(e[r])).status<H.LOADED?t._waitings[this.uri]=(t._waitings[this.uri]||0)+1:this._remain--;if(0!==this._remain){var a={};for(r=0;r<i;r++)(t=L[e[r]]).status<H.FETCHING?t.fetch(a):t.status===H.SAVED&&t.load();for(var d in a)a.hasOwnProperty(d)&&a[d]()}else this.onload()}},V.prototype.onload=function(){this.status=H.LOADED,this.callback&&this.callback();var e,t,i=this._waitings;for(e in i)i.hasOwnProperty(e)&&((t=L[e])._remain-=i[e],0===t._remain&&t.onload());delete this._waitings,delete this._remain},V.prototype.fetch=function(e){var t=this.uri;this.status=H.FETCHING;var a={uri:t};u("fetch",a);var d=a.requestUri||t;function l(){i.request(a.requestUri,a.onRequest,a.charset,a.crossorigin)}d&&!I[d]?C[d]?B[d].push(this):(C[d]=!0,B[d]=[this],u("request",a={uri:t,requestUri:d,onRequest:function(){delete C[d],I[d]=!0,R&&(V.save(t,R),R=null);var e,i=B[d];delete B[d];for(;e=i.shift();)e.load()},charset:s(r.charset)?r.charset(d):r.charset,crossorigin:s(r.crossorigin)?r.crossorigin(d):r.crossorigin}),a.requested||(e?e[a.requestUri]=l:l())):this.load()},V.prototype.exec=function(){var e=this;if(e.status>=H.EXECUTING)return e.exports;e.status=H.EXECUTING;var t=e.uri;function i(e){return V.get(i.resolve(e)).exec()}i.resolve=function(e){return V.resolve(e,t)},i.async=function(e,r){return V.use(e,r,t+"_async_"+D()),i};var r=e.factory,a=s(r)?r(i,e.exports={},e):r;return void 0===a&&(a=e.exports),delete e.factory,e.exports=a,e.status=H.EXECUTED,u("exec",e),a},V.resolve=function(e,t){var r={id:e,refUri:t};return u("resolve",r),r.uri||i.resolve(r.id,t)},V.define=function(e,t,i){var r,a,d=arguments.length;1===d?(i=e,e=void 0):2===d&&(i=t,l(e)?(t=e,e=void 0):t=void 0),!l(t)&&s(i)&&(r=i.toString(),a=[],r.replace(O,"").replace(T,function(e,t,i){i&&a.push(i)}),t=a);var o={id:e,uri:V.resolve(e),deps:t,factory:i};if(!o.uri&&w.attachEvent){var n=function(){if(S)return S;if(z&&"interactive"===z.readyState)return z;for(var e=M.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var i=e[t];if("interactive"===i.readyState)return z=i}}();n&&(o.uri=n.src)}u("define",o),o.uri?V.save(o.uri,o):R=o},V.save=function(e,t){var i=V.get(e);i.status<H.SAVED&&(i.id=t.id||e,i.dependencies=t.deps||[],i.factory=t.factory,i.status=H.SAVED)},V.get=function(e,t){return L[e]||(L[e]=new V(e,t))},V.use=function(t,i,r){var a=V.get(r,l(t)?t:[t]);a.callback=function(){for(var t=[],r=a.resolve(),d=0,l=r.length;d<l;d++)t[d]=L[r[d]].exec();i&&i.apply(e,t),delete a.callback},a.load()},V.preload=function(e){var t=r.preload,i=t.length;i?V.use(t,function(){t.splice(0,i),V.preload(e)},r.cwd+"_preload_"+D()):e()},i.use=function(e,t){return V.preload(function(){V.use(e,t,r.cwd+"_use_"+D())}),i},V.define.cmd={},e.define=V.define,i.Module=V,r.fetchedList=I,r.cid=D,i.require=function(e){var t=V.get(V.resolve(e));return t.status<H.EXECUTING&&(t.onload(),t.exec()),t.exports};var E,F;r.base=(A.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",A])[1],r.dir=A,r.cwd=k,r.charset="utf-8",r.history={},r.preload=(E=[],F=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(F+=" "+w.cookie).replace(/(seajs-\w+)=1/g,function(e,t){E.push(t)}),E),i.config=function(e){for(var t in e){var d=e[t],s=r[t];if(r.history[t]=r.history[t]||[],r.history[t].push(U(d)),s&&a(s))for(var o in d)s[o]=d[o];else l(s)?d=s.concat(d):"base"===t&&("/"!==d.slice(-1)&&(d+="/"),d=N(d)),r[t]=d}return u("config",e),i}}function q(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function D(){return n++}function K(e){return e.match(h)[0]}function N(e,t){var i,a=e.charAt(0);if(b.test(e))i=e;else if("."===a)i=function(e){for(e=e.replace(f,"/");e.match(g);)e=e.replace(g,"/");return e=e.replace(y,"$1/")}((t?K(t):r.cwd)+e);else if("/"===a){var d=r.cwd.match(m);i=d?d[0]+e.substring(1):e}else i=r.base+e;return 0===i.indexOf("//")&&(i=location.protocol+i),i}function V(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function U(e){if(a(e)){var t={};for(var i in e)t[i]=e[i];return t}return e}})(this),(e=>{window.define?define("magix5",e):window.Magix=e()})(()=>{let e=0,t=[],i=window,r=document,a=i.setTimeout,d=encodeURIComponent;function l(){}let s,o=JSON.stringify,n=r.head,p=i.performance,c=p.now.bind(p),u="prototype",h=Object[u].toString,f=e=>h.call(e).slice(8,-1),g=e=>"Object"==f(e),y=Array.isArray,x=t=>(t||"_")+e++,_=e=>r.getElementById(e),b=(e,t)=>e.innerHTML=t;function m(){}let w={rootId:x(),wait:m,error(e){throw e}},k=e=>!e||"object"!=typeof e,v=(e,t,i)=>{if(e&&t&&!(i=e==t))try{i=16==(16&t.compareDocumentPosition(e))}catch(e){}return i},j=e=>{e["\x1ea"]=null},{assign:A,keys:S,hasOwnProperty:z}=Object,M=n.getAttribute,Y=(e,t)=>M.call(e,t),X=(e,t,i)=>{t&&!X[e]&&(X[e]=1,i=r.createElement("style"),b(i,t),n.appendChild(i))},P=(e,t,i,r)=>{try{r=y(t)?e.apply(i,t):e.call(i,t)}catch(e){w.error(e)}return r},R=(e,t)=>e&&z.call(e,t),T=(e,t)=>{let i,r;if(k(t))"\x1e"==(i=t+"")[0]&&(t=e[i]);else for(i in t)r=t[i],r=T(e,r),t[i]=r;return t},O=(e,t)=>t.a-e.a;function L(e,t,i){(i=this).a=[],i.b=t||5,i.c=i.b+(e||20)}A(L[u],{get(e){let t=this.a["\x1e"+e];return t&&(t.a++,t=t.c),t},set(e,t){let i=this,r=i.a,a="\x1e"+e,d=r[a],l=i.b;if(!d){if(r.length>=i.c)for(r.sort(O);l--;)(d=r.pop()).a>0&&i.del(d.o);d={d:e},r.push(d),r[a]=d}d.c=t,d.a=1},del(e){e="\x1e"+e;let t=this.a,i=t[e];i&&(i.a=-1,i.c="",t[e]=null)},has(e){return R(this.a,"\x1e"+e)}});let C,I={bubbles:!0,cancelable:!0},B=[],H=(e,t,i,r,a,d)=>{let l={a:a,b:i,c:t,d:e,e(e){a?P(i,e,d):i(e)}};B.push(l),e.addEventListener(t,l.e,r)},E=(e,t,i,r,a)=>{for(let d,l=B.length;l--;)if((d=B[l]).c==t&&d.a==a&&d.d==e&&d.b===i){B.splice(l,1),e.removeEventListener(t,d.e,r);break}},F=new L,q=(e,t,i)=>(F.has(e)?i=F.get(e):(i=P(Function(`return ${e}`)),t&&F.set(e,i)),i),D=decodeURIComponent,K=new L,N=e=>{let t,i,r,a,d,l,s=K.get(e);if(!s){if(a={},-1==(d=e.indexOf("?"))?(t=e,l=""):(t=e.substring(0,d),l=e.substring(d+1)),l)for(d of l.split("&"))[i,r]=d.split("="),a[D(i)]=D(r||"");K.set(e,s={a:t,b:a})}return{path:s.a,params:A({},s.b)}},V=new L,U=(e,t,i)=>(V.has(e)?i=V.get(e):(i=q(e,null),e.includes("\x1e")?T(t,i):V.set(e,i)),i),W=0,G=[],Q=()=>{let e,t,i,r=c(),d=w.wait;try{for(;;){if(e=G[W],i=G[W-1],t=G[W+1],G[W]=null,G[W-1]=null,G[W+1]=null,G[W+2]=null,W+=4,!e){d(0),G.length=W=0;break}if(e!=l&&(y(t)?e.apply(i,t):e.call(i,t)),c()-r>8&&G.length>W){d(1),a(Q);break}}}catch(e){w.error(e),a(Q)}},J=(e,t,i,r)=>{if(W||(W=1,a(Q)),r)for(let e=G.length-1;e>=W;e-=4)G[e]==r&&(G[e-3]=null,G[e-2]=l,G[e-1]=null,G[e]=null);G.push(i,e,t,r)},Z=x();w.views={},w.defaultView=Z;let $=e=>e.__esModule||window.Symbol&&"Module"===e[Symbol.toStringTag],ee=e=>"Function"==f(e),te=(e,t)=>{if(Z==e)return C||(C=gt.extend()),t(C);let i,r=w.views,a=[],d=0,l=()=>{d||J(t,a)},s=(e,t)=>{let i=e=>{a[t]||(d--,a[t]=$(e)?e.default:e,l())};(e=e(i))&&e.then&&e.then(i)},o=e=>t=>{d--,a[e]=$(t)?t.default:t,l()};if(e){y(e)||(e=[e]);for(let t=0;t<e.length;t++)(i=r[e[t]])?(ee(i)&&!i.extend?(d++,s(i,t)):a[t]=$(i)?i.default:i,l()):window.seajs?(d++,seajs.use(e[t],o(t))):window.require&&(i=require(e[t]),a[t]=$(i)?i.default:i,l())}else l()},ie=(e,t,i,r)=>(m[u]=t[u],r=new m,A(r,i),r.constructor=e,e[u]=r,e),re=e=>e;let ae,de,le={fire(e,t){let i,r,a=this,d=a["\x1e"+e],l=0;if(t||(t={}),t.type=e,d)for(i=d.length;l<i;l++)(r=d[l]).a?(r.b=1,P(r.a,t,a),r.b=""):r.b||(d.splice(l--,1),i--);(d=a[`on${e}`])&&P(d,t,a)},on(e,t){let i="\x1e"+e;(this[i]||(this[i]=[])).push({a:t})},off(e,t){let i,r="\x1e"+e,a=this,d=a[r];if(t){if(d)for(i of d)if(i.a==t){i.a="";break}}else a[r]=null,a[`on${e}`]=null}},se={},oe=(e,t,i,r)=>{t.includes("\x1e")&&(r=se[e])&&T(r.a,i)},ne=(e,t)=>{R(se,e)||(se[e]=t,ge.fire("add",{vframe:t}))},pe=(e,t,i,r,a,d,l)=>{for(t=e.c,a=e.d;t.length;)[i,l,r]=t.shift(),J(r,(d=a[i])&&P(d,l,a))},ce=(e,t)=>{let i,r,a;for(i in e.b)(a=t?(r=se[i])&&v(r.root,t):1)&&e.unmount(i,1)},ue=e=>{let{d:t,root:i}=e;e.c=[],t&&(e.d=0,t.a&&(t.a=0,j(t),ce(e),t.fire("destroy"),ot(t,1),i&&e.f&&b(i,e.g))),e.h++},he=(e,t,i)=>{let r,a,d,l,s,{id:o,root:n,pId:p}=e;!e.f&&n&&(e.f=1,e.g=n.innerHTML),ue(e),n&&t&&(r=N(t),d=r.path,e.path=t,l=r.params,oe(p,t,l),e.i=d,(p=l["\x1e"])&&g(p)?l=p:A(l,i),a=e.h,te(d,t=>{if(a==e.h){if(!t)return void 0;s=ft(t),d=new t(o,n,e,l,s),e.d=d,ot(d),P(d.init,l,d),J(d.f,l,d),J(()=>{d.g(),d.tmpl||d.h||st(d)})}}))},fe=e=>e.b||(e.b=x(de));function ge(e,t){let i=this,r=fe(e);i.id=r,i.root=e,i.h=1,i.b={},i.pId=t,i.c=[],i.a={},ne(r,i)}A(ge,{root:()=>ae,all:()=>se,byId:e=>se[e],byNode:e=>se[e.b]},le),A(ge[u],{mount(e,t,i){let r,a=this,d=a.id,l=a.b,s=fe(e);return(r=se[s])||(R(l,s)||(a.j=0),l[s]=s,r=new ge(e,d)),he(r,t,i),r},unmount(e,t){let i,r;var a,d,l;e=e?this.b[t?e:e.b]:this.id,(i=se[e])&&(ue(i),r=i.pId,(d=se[a=e])&&(delete se[a],(l=d.root).a=0,l.b=0,ge.fire("remove",{vframe:d}),d.id=d.root=d.pId=d.b=null),(i=se[r])&&R(i.b,e)&&(delete i.b[e],i.j=0))},children(e){return(e=this).j||(e.j=S(e.b))},parent(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=se[t.pId];return t},invoke(e,t){let i,r,a=this,d=a.c;return new Promise(l=>{(i=a.d)&&i.h?l((r=i[e])&&P(r,t,i)):d.push([e,t,l])})}});let ye=new L(30,10),xe=/([\w\-]+)\x1e(\x1e)?([^(]+)\(([\s\S]*?)\)/,_e={},be={},me={},we={},ke={},ve={},je={capture:!0},Ae={passive:!1},Se={passive:!1,capture:!0};let ze=(e,i)=>{let r,a,d,l,o,n,p,c,u=[],h=e,f=Y(e,"mx5-"+i),g=0;if(f&&((o=ye.get(f))||(o={v:(o=f.match(xe)||t)[1],t:o[2],n:o[3],i:o[4]},ye.set(f,o)),o=A({},o)),o&&!o.v||ke[i]){if(!(c=h.c)){for(p=[h];h!=s&&(h=h.parentNode);){if(se[a=h.b]||(a=h.c)){c=a;break}p.push(h)}if(c)for(f of p)f.c=c}if(c){h=e.b,se[h]&&(g=c=h);do{if((r=se[c])&&(n=r.d)){if(l=(d=n.i)[i])for(h=l.length;h--;)d={r:a=l[h],v:c,n:a},a?!g&&e.matches(a)&&u.push(d):g&&u.unshift(d);if(n.tmpl&&!g)break;g=0}}while(r&&(c=r.pId))}}return o&&u.push(o),u},Me=e=>{let t,i,r,a,d,l,s,{target:o,type:n}=e,p=[];for(;o&&1==o.nodeType&&!(e.cancelBubble||(i=o.d)&&i[n]);){if(i=1,p.push(o),(t=ze(o,n)).length){p.length=0;for(let{v:p,r:c,n:u,i:h,t:f}of t){if(!(a=(r=se[p])&&r.d)){0;break}a.h&&a.a&&((l=a[d=u+"\x1e"+n])&&(e.eventTarget=o,s=h?U(h,r.a):ve,e.params=s,P(l,e,a)),f||(o=a.root,i=0))}}i&&((a=(r=se[o.b])&&r.d)&&a.j[n]&&(p.length=0),o=o.parentNode)}for(o of p)(i=o.d||(o.d={}))[n]=1},Ye=(e,t,i,r)=>{let a=0|_e[e],d=0|me[e],l=0|we[e],o=i?-1:1,n=i?E:H;4&r&&(d+=o,me[e]=d),8&r&&(l+=o,we[e]=l);let p,c=be[e];d&&l?p=Se:d?p=Ae:l&&(p=je),a&&i!==a?p!=c&&(E(s,e,Me,c),H(s,e,Me,p)):n(s,e,Me,i?c:p),be[e]=p,_e[e]=a+o,t&&(ke[e]=(0|ke[e])+o)};let Xe={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","`":"&#96;"},Pe=/[&<>"'\`]/g,Re=e=>null==e?"":""+e,Te=e=>Xe[e],Oe=e=>Re(e).replace(Pe,Te),Le={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Ce=e=>Le[e],Ie=/[!')(*]/g,Be=e=>d(Re(e)).replace(Ie,Ce),He=/[\\'"]/g,Ee=e=>Re(e).replace(He,"\\$&"),Fe=(e,t,i)=>(e[i]=t,i),qe=(e,i,r)=>{if(e.a&&(r=e.tmpl)){let a,d=e.k,l=e.id,s=se[l],o={a:[],b:0},n=e.d,p=s.a;e.l=0,e.k={},i&&e.fire("dompatch"),a=r(n,Ke,l,Re,Be,p,Fe,Ee,y);let c=()=>{for(a of(r=o.c||!e.h,o.a))J(a.g,t,a,"\x1e"+a.id);r&&st(e)},u=()=>{if(e.m=a,e.n>1)e.n=1,c(),qe(e);else{for(a of(e.n=0,c(),e.fire("domready"),d=e.o))a();d.length=0}};J(tt,[e.root,e.m,a,o,s,d,e,u])}},De={},Ke=(e,t,i,r,a)=>{let d;if(e){t=t||De;let l,s,o,n,p,c,u="",h={},f=0,g="<"+e,y="",x=[],_=0;if(i)for(n of i){if(o=n.a,n.b==Ve){if(!o)continue;o=Oe(o)}y+=o,c&&n.b==Ve&&c.b==Ve?c.a+=n.a:(n.d&&(h[n.d]=(h[n.d]||0)+1,f++),l=l||n.e,c=n,x.push(n))}for(s in r=r||De,t)!1!==(o=t[s])&&null!=o?(!0===o&&(t[s]=o=r[s]?o:""),"id"==s?u=o:"_"!=s||u?"mx5-view"==s&&o&&(_=1,u||(u=e+"\x1e"+N(o).path)):u=o,"value"==s&&"textarea"==e?y=o:R(Ne,s)||(g+=` ${s}="${o&&Oe(o)}"`)):r[s]||delete t[s];p=g,d={a:g+=a?"/>":`>${y}</${e}>`,c:y,d:u,b:e,f:_,e:l||t.$,g:r,h:p,i:t,j:x,k:h,l:f,m:a}}else d={b:t?"\x1e":Ve,a:i+""};return d},Ne={_:1,$:1};let Ve=e;let Ue="http://www.w3.org/",We={svg:`${Ue}2000/svg`,math:`${Ue}1998/Math/MathML`},Ge=(e,t,i)=>{let r,a,d,l=0,s=i.g,o=t.g,n=i.i,p=t.i;if(t)for(r in p)R(n,r)||(l=1,(d=o[r])?e[d]="":e.removeAttribute(r));for(r in n)R(Ne,r)||(a=n[r],(d=s[r])?t&&e[d]==a||(l=1,e[d]=a):t&&p[r]==a||(l=1,e.setAttribute(r,a)));return l},Qe=(e,t)=>{let i,a=e.b;return a==Ve?i=r.createTextNode(e.a):(i=r.createElementNS(We[a]||t.namespaceURI,a),Ge(i,0,e),b(i,e.c)),i},Je=(e,t,i,r,a)=>{let d,l,s,o,n={};for(d=r;d>=i;d--,a--)(s=(l=e[d]).d)&&(n[o="\x1e"+s]=(n[o]||0)+1,(l=n[s]||(n[s]=[])).push(t[a]));return n},Ze=(e,t)=>!e.d&&!t.d&&e.b==t.b||e.b==Ve&&t.b==Ve||"\x1e"==e.b||"\x1e"==t.b||e.d&&t.d==e.d,$e=(e,t,i,r)=>{i&&((r=se.b)?r.unmount():ce(t,e))},et=(e,t,i)=>{$e(e,i,1==e.nodeType),t.removeChild(e)},tt=(e,t,i,r,a,d,l,s)=>{if(l.a){if(t){if(t.e||t.c!=i.c){let o,n,p,c,u,h=t.j,f=i.j,g=i.k,y=i.l,x=t.l,_=e.childNodes,m=0,w=h.length-1,k=0,v=f.length-1;0;let j=h[m],A=h[w],S=f[k],z=f[v],M=m,Y=w;for(;m<=w&&k<=v;)if(j)if(A)if(Ze(j,S))r.b++,J(it,[_[M],e,j,S,r,a,d,l,s]),g[j.d]&&(g[j.d]--,y--,(c=u&&u[j.d])&&--u["\x1e"+j.d]),M++,j=h[++m],S=f[++k];else if(Ze(A,z))r.b++,J(it,[_[Y],e,A,z,r,a,d,l,s]),g[A.d]&&(g[A.d]--,y--),Y--,A=h[--w],z=f[--v];else if(Ze(j,z))n=_[M],e.insertBefore(n,_[Y+1]),r.b++,J(it,[n,e,j,z,r,a,d,l,s]),g[j.d]&&(g[j.d]--,y--),Y--,j=h[++m],z=f[--v];else if(Ze(S,A))n=_[Y],e.insertBefore(n,_[M++]),r.b++,J(it,[n,e,A,S,r,a,d,l,s]),g[A.d]&&(g[A.d]--,y--),A=h[--w],S=f[++k];else{if(!u&&y>0&&x>0&&(u=Je(h,_,m,w,Y)),(c=u&&u[S.d])&&(c=c[--u["\x1e"+S.d]])){if(p=j,c!=_[M]){for(n=m+1,o=M+1;n<=w;n++)if((p=h[n])&&_[o++]==c){h[n]=null;break}m--,e.insertBefore(c,_[M])}g[p.d]&&g[p.d]--,r.b++,J(it,[c,e,p,S,r,a,d,l,s])}else u&&u[j.d]&&g[j.d]||j.f&&!S.f?(r.c=1,e.insertBefore(Qe(S,e),_[M]),m--,Y++):(r.b++,J(it,[_[M],e,j,S,r,a,d,l,s]));++M,j=h[++m],S=f[++k]}else A=h[--w];else j=h[++m];for(o=k,n=1;o<=v;o++,n++)"\x1e"==(p=f[o]).b?b(e,p.a):e.insertBefore(Qe(p,e),_[Y+n]),r.c=1;for(o=M;o<=Y;o++)r.c=1,J(et,[_[o],e,a])}}else r.c=1,b(e,i.c);r.b||J(s)}},it=(e,t,i,r,a,d,l,s,o)=>{if(s.a){0;let n=i.i,p=r.i;if(i.e||i.a!=r.a)if("\x1e"==i.b||"\x1e"==r.b)a.c=1,b(t,r.a);else if(i.b==r.b){if(i.b==Ve)a.c=1,e.nodeValue=r.a;else if(!n._||n._!=p._){let t,c,u,h,f,g,y,x=p["mx5-view"],_=r.c,b=i.h!=r.h,m=se[e.b],w=x&&N(x);if(b&&(b=Ge(e,i,r))&&(a.c=1),x&&m&&m.i==w.path&&(h=m.d)){if(g=_!=i.c,y=x!=m.path,u=n.$,!g&&!y&&u)for(u of f=u.split(","))if("#"==u||R(l,u)){y=1;break}(y||g)&&(u=h.f,f=w.params,oe(m.pId,x,f),m.path=x,m.g=_,!1!==P(u,f,h)&&a.a.push(h),t=!h.tmpl)}else t=1,c=m;c&&(a.c=1,m.unmount()),t&&!r.m&&tt(e,i,r,a,d,l,s,o)}}else a.c=1,$e(e,d,1),t.replaceChild(Qe(r,t),e);--a.b||o()}},rt={},at=A({get:e=>e?rt[e]:rt,set(e){A(rt,e)}},le),dt=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,lt=(e,t,i)=>(e.a?i=e:((i=function(e,t){for(t of i.a)P(t,e,this)}).a=[e],i.b=1),i.a=i.a.concat(t.a||t),i),st=e=>{let t,i;e.a&&(i=e.h,e.h=1,((e,t,i,r)=>{for(i of(t=t||e.root).querySelectorAll("[mx5-view]"))i.a||(i.a=1,e.mount(i,Y(i,"mx5-view")))})(t=e.owner),i||J(pe,t))},ot=(e,t)=>{let i,{j:r,i:a,p:d,id:l}=e;for(i in r)Ye(i,a[i],t,r[i]);for(i of(r=t?E:H,d))r(i.a,i.b,i.c,i.d,l,e)},nt={win:i,doc:r};function pt(...e){return A(this,...e),this}let ct=(e,t,i)=>{let r,a,d,l,s={};for(a of e)for(r in a)d=a[r],l=s[r],"ctor"!=r?(dt.test(r)&&(l?d=lt(l,d):d.b=1),s[r]=d):i.push(d);for(r in s)R(t,r)||(t[r]=s[r])};function ut(...e){let t=this.a||(this.a=[]);return ct(e,this[u],t),this}let ht=e=>(function(...t){return P(e,t,this)});let ft=e=>{if(!e["\x1e"]){e["\x1e"]=[];let t,i,r,a,d,l,s,o,n,p,c,h=e[u],f={},g=[],y={};for(s in h)if(t=h[s],i=s.match(dt))for(o of([,l,r,a,c]=i,p=c?q(c):ve,a=a.split(","))){if(d=nt[r],n=1,!1===p.passive&&(n|=4),p.capture&&(n|=8),l){if(d){g.push({c:t,a:d,b:o,d:p});continue}n=2,(d=y[o])||(d=y[o]=[]),d[r]||(d[r]=1,d.push(r))}f[o]|=n,(d=h[o=r+"\x1e"+o])?d.b&&(t.b?h[o]=lt(t,d):R(h,s)&&(h[o]=t)):h[o]=t}h.g=h.render=ht(h.render),h.j=f,h.p=g,h.i=y,h.f=h.assign}return e["\x1e"]};function gt(e,t,i,r){(r=this).root=t,r.owner=i,r.id=e,r.a=1,r.l=1,r.d={},r.k={},r.n=0,r.o=[]}function yt(){this.id=x("b"),this.a={}}A(gt,{merge:ut,extend:function e(t){let i=this,r=(t=t||{}).ctor;function a(e,t,a,d,l,s,o,n){if(i.call(n=this,e,t,a,d),s=i.a)for(o of s)P(o,d,n);if(l)for(o of l)P(o,d,n);r&&P(r,d,n)}return a.merge=ut,a.extend=e,a.static=pt,ie(a,i,t)}}),A(gt[u],le,{init:l,render:l,assign:l,observeLocation(e,t){let i;(i=this.b).a=1,g(e)&&(t=e.path,e=e.params),i.b=t,e&&(i.c=(e+"").split(","))},get(e,t){return t=this.d,e&&(t=t[e]),t},set(e,t){let i,r,a,d=this,l=d.d,s=d.k,o=d.l;for(a in e)i=e[a],r=l[a],k(i)&&r==i||R(t,a)||(s[a]=1,o=1),l[a]=i;return d.l=o,d},digest(e,t){return e=this.set(e,t),new Promise(t=>{e.l?(e.n++,e.o.push(t),1==e.n&&qe(e,1)):t()})},finale(){let e=this;return new Promise(t=>{e.n?e.o.push(t):t()})}}),A(yt[u],{get(e,t){let i,r=this.a;if(e){let t,i=y(e)?e.slice():(e+"").split(".");for(;(t=i.shift())&&r;)r=r[t];t&&(r=void 0)}return void 0!==t&&(i=f(t))!=f(r)&&(r=t),r},set(e){A(this.a,e)}});let xt=(e,t,i)=>r=>{if(i=e[t]){delete e[t];for(let e of i)P(e,r,i.a)}},_t=(e,t,i,r,a)=>{if(e.a)return e;if(e.b)return e.enqueue(_t.bind(e,e,t,i,r,a));e.b=1,y(t)||(t=[t]);let d=e.constructor,l=0,s=d.d,o=((e,t,i,r,a,d)=>{let l=[],s=null,o=0;return(n,p,u)=>{let h;o++;let f,g=n.b,y=g.a;if(l[p+1]=n,u?(s=u,h=1):d.has(y)||(y&&d.set(y,n),g.b=c(),(f=g.c)&&P(f,n,n),h=1),!i.a){let t=o==r;t&&(i.b=0,2==a&&(l[0]=s,P(e,l,i))),1==a&&P(e,[u||null,n,t,p],i)}h&&t.fire("end",{bag:n,error:u})}})(i,d,e,t.length,r,d.c);for(let e of t)if(e){let t,[i,r]=d.get(e,a),n=i.b.a,p=o.bind(i,i,l++);n&&s[n]?s[n].push(p):r?(n&&((t=[p]).a=i,s[n]=t,p=xt(s,n)),d.e(i,p)):p()}return e};function bt(){this.id=x("s"),this.f=[]}A(bt[u],{all(e,t){return _t(this,e,t,2)},save(e,t){return _t(this,e,t,2,1)},one(e,t){return _t(this,e,t,1)},enqueue(e){let t=this;return t.a||(t.f.push(e),t.dequeue(t.g)),t},dequeue(...e){let t,i=this;i.b||i.a||(i.b=1,a(()=>{i.b=0,i.a||(t=i.f.shift())&&P(t,i.g=e)}))},destroy(e){(e=this).a=1,e.f=0}});let mt=(e,t,i)=>[o(t),o(e)].join("\x1e"),wt=A({add(e){let t,i=this.h;for(t of(y(e)||(e=[e]),e))if(t){let{name:e,cache:r}=t;t.cache=0|r,i[e]=t}},create(e){let t=this.meta(e),i=0|e.cache||t.cache,r=new yt;r.set(t),r.b={c:t.after,a:i&&mt(t,e)},g(e)&&r.set(e);let a=t.before;return a&&P(a,r,r),this.fire("begin",{bag:r}),r},meta(e){return this.h[e.name||e]||e},get(e,t){let i,r,a=this;return t||(i=a.cached(e)),i||(i=a.create(e),r=1),[i,r]},cached(e){let t,i,r=this,a=r.c,d=r.meta(e),l=0|e.cache||d.cache;if(l&&(i=mt(d,e)),i){let e=r.d[i];e?t=e.a:(t=a.get(i))&&c()-t.b.b>l&&(a.del(i),t=0)}return t}},le);bt.extend=((e,t,i)=>{function r(){bt.call(this)}return r.e=e,r.c=new L(t,i),r.d={},r.h={},A(r,wt),ie(r,bt)});let kt=0,vt={config:(e,t)=>(t=w,e&&(t=g(e)?A(t,e):t[e]),t),boot(e){kt||(kt=1,A(w,e),he(((e,t)=>(ae||(s=r.body,e=de=w.rootId,(t=_(e))||(t=s),ae=new ge(t)),ae))(),w.defaultView))},unboot(){kt&&ae&&(ae.unmount(),ae=null)},toMap:(e,t)=>{let i,r={};if(e)for(i of e)r[t&&i?i[t]:i]=t?i:1+(0|r[i]);return r},toTry:P,toUrl:(e,t,i)=>{let r,a,l,s=[];for(a in t)((r=t[a]+"")||R(i,a))&&(r=d(r),s.push(l=a+"="+r));return l&&(e+=(e&&(e.includes("?")?"&":"?"))+s.join("&")),e},parseUrl:N,guid:x,use:te,dispatch:(e,t,i)=>{let r=new Event(t,I);A(r,i),e.dispatchEvent(r)},guard:re,type:f,has:R,inside:v,applyStyle:X,Cache:L,View:gt,Vframe:ge,State:at,Service:bt,Event:le,mark:(e,t,i,r,a)=>(null!==e[a="\x1ea"]&&(i=e[a]||(e[a]={}),R(i,t)||(i[t]=0),r=++i[t]),i=>(i=e[a],i&&r===i[t])),unmark:j,node:_,task:J,taskFinale:()=>new Promise(e=>{J(e)})};return vt.default=vt,vt});let Designer={init(e){let t=document.getElementById("boot").src.replace(/\/[^\/]+$/,"/");seajs.config({paths:{designer:t+"designer",i18n:t+"i18n",gallery:t+"gallery",util:t+"util",panels:t+"panels",elements:t+"elements"},alias:{magix:"magix5"}}),seajs.use(["magix","i18n/index"],(t,i)=>{t.applyStyle("rd-_",'body,h5,input,textarea,ul{margin:0;padding:0}ul{list-style-type:none;list-style-image:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.5}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h5{font-size:14px}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto;resize:vertical}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}button:focus,input:focus,textarea:focus{outline:none;resize:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}@font-face{font-family:rd-_;src:url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAcsAAsAAAAACqQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZXOEjOY21hcAAAAYAAAACWAAACCs4hbhBnbHlmAAACGAAAAugAAAO0BG1azWhlYWQAAAUAAAAALwAAADYPpP4TaGhlYQAABTAAAAAcAAAAJAfeA4pobXR4AAAFTAAAABQAAAAkI+kAAGxvY2EAAAVgAAAAFAAAABQEcAVsbWF4cAAABXQAAAAfAAAAIAEYAF1uYW1lAAAFlAAAAUUAAAJtPlT+fXBvc3QAAAbcAAAATwAAAGizaRo4eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2Bk/ss4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVDy7z9zwv4EhhrmB4RRQmBEkBwA4Ig2aeJzFkbsNwzAMRE+RP0IQwEEG8AReyl1Kl+68g5Eqy7m7NZyj6EZI6viEJ4AnkRJIADWAKAZRAeGNANNLbsh+xDX7FZ6KH7jLuWBmYseeIxeu3PZdZ7+8UkH55TIvIql6raoNWhnNV97fFM57utQt79MRJTEf6ItMjk2OnWN32Ds2SY6OTZiLow6Dq6Neg5uD9gPbdC1VAAB4nH1SO2sUURi9370zd3Zmd+48dh77yr4mO7MmutlsxkkR3DQ2GgtBCAhaCBY2SrAwjUUw5CEo+A/EoAgR1LBpArEUQVBs3MrCYEAbY+xsMnpHV0ghDsM9936cj+9xDhIR+rlDtkkOZVETjaOT6CxCQEehzvAQ1IKwhUfBrom2azESeEFN8uotcgLcOrWcThT6LpWoBgzKMFHrREELB3A87OIp6DhDAPli4ZzZKJnkHii5oLwUn8ZrYFe8ktY9Fp86Om11qtnUfMY086Z5J0VFMYWxoDG46jqyKCs0fihqBXu7cgRXIJMPCmfOq9WieWk1vDbUcGWAhQXIFqvs8bRRMPh/s+Bkzbykq6lcQfWGLZjfTeeymSH/E+If5rNG5AfxURpNJVMiyUFuhCZ9RFzH0oDWx8CvDzCchigcYKcCTmeACc/CqB/vUgqlfh9KlMa7ZxYZa2gNbZH5bJFjg7FFVf1XkPic3j+UfrD3/4RDwT8z3CIH5AbKowZCYuAHXTjegoCBVAa3E006Sa9R2OCxLkzyGAPy9aMkj7bFvc3NPZGfM0uRIH00RqoHmys9Qnorv09vRxKipZneN0H41uPE9qgs7WjVkZecsNwThN7ySg8Br79AhskC9wuSsWPRegCuH062x/l6HIvY8Syss3JTizWPMXirNctkJJ6NZ/mFwXdPa+rwRis3uR6QiEIu4s9cDwQ1wzNqds2YMGrkQry/Gu+Dvgo69EEfvNDfHPwS9pL6v8UKfG7FSuK/KFEMvxBNae0+NTPicyKTtLghwhdRXFsTlaz0jAhAN4j5t/YsbCGCUJbXfYLXD/jz+sAn78lrMoJaaIxTJcpXym3uJbbg6rcwLzQGLegCv0xz6CRL5z1gKpGtR7oQYJpWtUz6nW2/UosOg7agP1Uk2WKfnPQV6pZcejntfGaWLCnw4K7h7Kp2SqZzijInYd1Wv7j6baVQNHBTsD5kNC3zwRKa2CgWFN7eL0lutBh4nGNgZGBgAGLnEJdv8fw2Xxm4WRhA4JrTXQME/d+MhYG5AcjlYGACiQIAFvYJkgB4nGNgZGBgbvjfwBDDwgACQJKRARVwAgBHDwJyeJxjYWBgYH7JwMDCgBsDAB8LAQ0AAAAAAHYA2AEYAT4BWAF8AYoB2nicY2BkYGDgZAhkYGUAASYg5gJCBob/YD4DABGZAXYAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbccxDoAgDAXQfkQEbsOR6gLVpAykCeH0xrj6tkeOPpn+JThs8NgRcCAiIRNmqMZ6ShjdhvU4hbUu6/4SLnE11pulvFM/RSvRA98yEWMA") format("woff")}.rd-_{font-family:rd-_;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.rd-a{margin-right:10px}.rd-b{height:100%}.rd-c{text-align:center}.rd-d{float:left}.rd-e{float:right}.rd-f{position:absolute}.rd-g{position:relative}html .rd-h{display:none}.rd-i:after,.rd-i:before{content:" ";display:table}.rd-i:after{clear:both}.rd-j{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-k::-webkit-scrollbar,.rd-k::-webkit-scrollbar-corner{height:4px;width:4px;background:#edeef3}.rd-k::-webkit-scrollbar-thumb{background:#fa742b;border-radius:2px}.rd-k::-webkit-scrollbar-thumb:hover{background:#e64e30}.rd-l{word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.rd-l,.rd-m{white-space:nowrap}.rd-m{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;padding:4px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-m:focus,.rd-m:hover{background-color:#a0a0a0;color:#333}.rd-n{background-color:#fa742b;color:#fff}.rd-n:focus,.rd-n:hover{background-color:#bd361b;color:#fff}.rd-m[disabled]{background-color:#fbfbfb;color:#333}.rd-m[disabled]:hover{border-color:#e6e6e6;color:#333}.rd-o{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143;background:#fff}.rd-p{padding:18px 25px}.rd-q{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6;background:#fff}.rd-r{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.rd-r:after,.rd-r:before{content:""}.rd-r:after,.rd-r:before,.rd-s{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:rd-_ 1s ease-in-out infinite both;animation:rd-_ 1s ease-in-out infinite both}.rd-r:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.rd-s{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}@keyframes rd-_{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}::-moz-placeholder{color:#999}:-ms-input-placeholder{color:#999}::-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:rgba(243,123,99,.6)}::selection{background-color:rgba(243,123,99,.6)}.rd-t,.rd-u{caret-color:#fa742b;display:inline-block;height:22px;padding:3px 4px;border-radius:2px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none;transition:border-color .25s}.rd-t:hover,.rd-u:hover{border-color:#ccc}.rd-t:focus,.rd-u:focus,.rd-v,.rd-v:hover{border-color:#fa742b!important}.rd-u{height:auto}.rd-t[disabled],.rd-u[disabled]{background-color:#fbfbfb}.rd-t[disabled]:hover,.rd-u[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}@font-face{font-family:rd-a;src:url(//at.alicdn.com/t/font_890516_7nkqex68lww.eot);src:url(//at.alicdn.com/t/font_890516_7nkqex68lww.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_890516_7nkqex68lww.woff2) format("woff2"),url(//at.alicdn.com/t/font_890516_7nkqex68lww.woff) format("woff"),url(//at.alicdn.com/t/font_890516_7nkqex68lww.ttf) format("truetype"),url(//at.alicdn.com/t/font_890516_7nkqex68lww.svg#iconfont) format("svg")}.rd-w{font-family:rd-a;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{min-width:1200px}.rd-x{font-size:12px}.rd-y{margin-right:2px}.rd-z{transform:rotate(180deg)}.rd-A{transform:rotate(90deg)}.rd-B{transform:scaleX(-1)}.rd-C{margin-left:100px}.rd-D{display:flex;align-items:center}.rd-E{position:-webkit-sticky;position:sticky;top:0}.rd-F{text-align:center}.rd-G{width:100%}.rd-H{border-collapse:collapse;border:1px solid #000;border-spacing:0;table-layout:fixed}.rd-I{border:1px solid #000}.rd-J{text-align:center;font-size:12px;color:#999}.rd-K{overflow:hidden;white-space:pre}');let r=navigator.language.toLowerCase();try{let e=window.localStorage;e&&(r=e.getItem("l.lang")||r)}catch(e){}t.config(e),t.config({lang:r});let a=i.default,{State:d,View:l}=t;l.merge({ctor(){this.set({i18n:a})},_b(e,t){t=t||150;let i,r=Date.now();return(...a)=>{let d=Date.now();clearTimeout(i),d-r>t?(r=d,e.apply(this,a)):i=setTimeout(()=>{e.apply(this,a)},t-(d-r))}}}),document.title=a("t");let s=0;t.boot({defaultPath:"/index",defaultView:"designer/index",rootId:"app",wait(e){e!=s&&d.fire("n",{busy:s=e})},error(e){setTimeout(()=>{throw e},0)}})})}};define("gallery/mx-color/index",["magix","../mx-dragdrop/index","../mx-monitor/index"],(e,t,i)=>{let r,a,d,l,s,o,n,p,c,u,h,f,g={class:"rd-aT"},y={xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},x={class:"rd-aL rd-g"},_={class:"rd-aY"},b={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});const m=e("magix"),w=e("../mx-dragdrop/index"),k=e("../mx-monitor/index");m.default.applyStyle("rd-i",'.rd-aK{position:relative;height:22px;border:1px solid #e6e6e6;border-radius:2px;display:flex;align-items:center;cursor:pointer;padding:1px;transition:border-color .25s}.rd-aK:hover{border-color:#ccc}.rd-aL,.rd-aM{background:#fff;background-image:linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0),linear-gradient(45deg,#eee 25%,transparent 0,transparent 75%,#eee 0);background-position:0 0,6px 6px;background-size:12px 12px}.rd-aM{min-width:18px;height:18px;text-indent:-100000em;border:1px solid #ccc;position:relative}.rd-aN{padding:3px 4px}.rd-aM:after{content:" ";display:block;right:0;bottom:0;position:absolute;border-color:transparent #ccc;border-style:solid;border-width:6px 6px 0 0}.rd-aO{position:absolute;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:2px}.rd-aP-bottom{top:100%;margin-top:4px}.rd-aP-top{bottom:100%;margin-bottom:4px}.rd-aQ{width:176px}.rd-aR{border:1px solid #000;float:left;width:12px;height:12px;margin:-1px 0 0 -1px;position:relative}.rd-aS:before{content:" ";position:absolute;left:2px;top:2px;border:1px inset #e8e8e8;width:6px;height:6px}.rd-aT{margin:5px 0;height:150px}.rd-aU{position:relative;float:left;width:148px;height:148px}.rd-aV{position:absolute;width:8px;height:8px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;left:-4px;top:-4px}.rd-aW{width:18px;height:148px;position:relative;float:left;margin-left:10px}.rd-aX{position:absolute;left:2px;top:-2px;height:4px;width:14px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.rd-aY{height:25px}.rd-aZ{width:80px}.rd-a0,.rd-aZ{margin-right:5px;vertical-align:middle}.rd-a0{width:30px;border-radius:2px;height:22px;display:inline-block;border:1px solid #ddd}.rd-a1{position:absolute;right:5px;top:4px;font-size:12px;opacity:.2}.rd-a1:hover{opacity:.5}.rd-aL{width:174px;height:12px;margin-bottom:5px}.rd-a2{height:100%}.rd-a3{position:absolute;left:-2px;top:2px;height:8px;width:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);background:#fff}.rd-a4{cursor:not-allowed;background-color:#fbfbfb}.rd-a4:hover{border-color:#e6e6e6}.rd-a4:hover .rd-a1{opacity:.1}.rd-a4 .rd-aM{opacity:.4}.rd-a4 .rd-a1{opacity:.1}');let v=["d81e06","f4ea2a","1afa29","1296db","13227a","d4237a","ffffff","e6e6e6","dbdbdb","cdcdcd","bfbfbf","8a8a8a","707070","515151","2c2c2c","000000","ea986c","eeb174","f3ca7e","f9f28b","c8db8c","aad08f","87c38f","83c6c2","7dc5eb","87a7d6","8992c8","a686ba","bd8cbb","be8dbd","e89abe","e8989a","e16632","e98f36","efb336","f6ef37","afcd51","7cba59","36ab60","1baba8","17ace3","3f81c1","4f68b0","594d9c","82529d","a4579d","db649b","dd6572","d84e06","e0620d","ea9518","f4ea2a","8cbb1a","2ba515","0e932e","0c9890","1295db","0061b2","0061b0","004198","122179","88147f","d3227b","d6204b"],j=(e,t,i)=>{let r,a,d,l,s;e=e%360/60,r=a=d=i-(s=i*t);let o=255*(r+=[s,l=s*(1-Math.abs(e%2-1)),0,0,l,s][e=~~e]),n=255*(a+=[l,s,s,l,0,0][e]),p=255*(d+=[0,0,l,s,s,l][e]);return{r:o,g:n,b:p,hex:"#"+(16777216|p|n<<8|o<<16).toString(16).slice(1)}};t.default=m.default.View.extend({tmpl:(e,t,i,m,w,k,v,j)=>{let A,S,z,M,Y,X,P,R,T,O,L=[],{disabled:C,text:I,textWidth:B,color:H,clear:E,i18n:F,placement:q,align:D,renderUI:K,shortcuts:N,alpha:V,current:U}=e;if(S=[],I&&(Y=[t(0,0,m(I))],M="",B&&(M+="width:"+m(B)+"px"),z=[t("div",{class:"rd-aN rd-j","mx5-click":i+"\x1e\x1e_cj()",style:M},Y)],S.push(...z)),z=[t(0,0,"picker")],M="",H&&(M+="background:"+m(H)+";"),I||(M+="width:100%"),S.push(t("div",{class:"rd-aM rd-j","mx5-click":i+"\x1e\x1e_cj()",style:M},z)),E&&H&&(Y=[t(0,0,"\ue67f")],z=[t("i",{class:"rd-_ rd-a1","mx5-click":i+"\x1e\x1e_ck()",title:m(F("bQ"))},Y)],S.push(...z)),z=[],K){Y=[],X=[];for(let e=N.length,r=0;r<e;r+=1){let e=N[r];P=[t("li",{class:"rd-aR",id:"sc_"+m(e)+"_"+i,style:"background:#"+m(e),"mx5-click":i+"\x1e\x1e_cg({color:'#"+j(e)+"'})"})],X.push(...P)}Y.push(t("ul",{class:"rd-aQ rd-i",id:"scs_"+i},X)),O=r?[r]:[r=t("stop",{_:"_",offset:"0%","stop-color":"#000000","stop-opacity":"1"})],a?O.push(a):O.push(a=t("stop",{_:"a",offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})),T=[t("lineargradient",{id:"gb_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},O)],O=d?[d]:[d=t("stop",{_:"b",offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"})],a?O.push(a):O.push(a=t("stop",{_:"a",offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})),T.push(t("lineargradient",{id:"gw_"+i,x1:"0%",y1:"100%",x2:"100%",y2:"100%"},O)),R=[t("defs",0,T),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gw_"+i+")"}),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gb_"+i+")"})],P=[t("svg",y,R),t("div",{class:"rd-aV",id:"ci_"+i})],X=[t("div",{class:"rd-aU",id:"cz_"+i,"mx5-mousedown":i+"\x1e\x1e_cc()"},P)],O=l?[l]:[l=t("stop",{_:"c",offset:"0%","stop-color":"#FF0000","stop-opacity":"1"})],s?O.push(s):O.push(s=t("stop",{_:"d",offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"})),o?O.push(o):O.push(o=t("stop",{_:"e",offset:"25%","stop-color":"#8000FF","stop-opacity":"1"})),n?O.push(n):O.push(n=t("stop",{_:"f",offset:"38%","stop-color":"#0040FF","stop-opacity":"1"})),p?O.push(p):O.push(p=t("stop",{_:"g",offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"})),c?O.push(c):O.push(c=t("stop",{_:"h",offset:"63%","stop-color":"#00FF40","stop-opacity":"1"})),u?O.push(u):O.push(u=t("stop",{_:"i",offset:"75%","stop-color":"#0BED00","stop-opacity":"1"})),h?O.push(h):O.push(h=t("stop",{_:"j",offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"})),f?O.push(f):O.push(f=t("stop",{_:"k",offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})),T=[t("lineargradient",{id:"ghsv_"+i,x1:"0%",y1:"100%",x2:"0%",y2:"0%"},O)],R=[t("defs",0,T),t("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#ghsv_"+i+")"})],P=[t("svg",y,R),t("div",{class:"rd-aX",id:"si_"+i})],X.push(t("div",{class:"rd-aW","mx5-mousedown":i+"\x1e\x1e_cd()"},P)),Y.push(t("div",g,X)),V&&(R=[t("div",{class:"rd-a3",id:"ai_"+i})],P=[t("div",{class:"rd-a2 rd-g",id:"at_"+i,"mx5-mousedown":i+"\x1e\x1e_ce()"},R)],X=[t("div",x,P)],Y.push(...X)),X=[t("span",{class:"rd-a0",id:"bc_"+i}),t("input",{class:"rd-aZ rd-t",readonly:!0,id:"v_"+i,value:m(U)},0,b,1)],P=[t(0,0,"\u786e\u5b9a")],X.push(t("button",{class:"rd-m rd-n",type:"button","mx5-click":i+"\x1e\x1e_cf();"},P)),Y.push(t("div",_,X)),z.push(...Y)}return S.push(t("div",{id:"bd_"+i,class:"rd-aO rd-aP-"+m(q),style:m(D)+":-1px"},z)),A="rd-aK",C&&(A+=" rd-a4"),L.push(t("div",{"mx5-contextmenu":i+"\x1e_C()",id:"root_"+i,class:A},S)),t(i,0,L)},init(e){this.set({shortcuts:v}),k.default._b3(),this.on("destroy",()=>{k.default._aP(this),k.default._b4()})},assign(e){this._ao=e.color||"",this._b5=e.alpha+""=="true",this._b6={h:0,s:1,v:1},this.set({clear:e.clear+""=="true",text:e.text||"",disabled:e.disabled+""=="true",align:e.align||"left",textWidth:e.textWidth||0,placement:e.placement||"bottom"})},render(){this.digest({alpha:this._b5,color:this._ao,current:this._ao})},_b9(e,t){let i=this,r=i._b6;r.h=e.h,r.s=e.s,r.v=e.v;let a=j(e.h,e.s,e.v).hex,d=m.default.node("cz_"+i.id),l=d.clientWidth,s=j(e.h,1,1);if(d.style.background=s.hex,i._b7=a,i._b8(),!t){let e=m.node("scs_"+i.id).querySelector('li[class$="rd-aS"]');e&&e.classList.remove("rd-aS");let t=m.node("si_"+i.id),a=t.clientHeight/2,d=Math.round(r.h*l/360-a),s=m.node("ci_"+i.id),o=s.clientWidth/2;t.style.top=d+"px",d=Math.round((1-r.v)*l-o);let n=Math.round(r.s*l-o);s.style.left=n+"px",s.style.top=d+"px"}let o=m.node("sc_"+a.substr(1,6)+"_"+i.id);o&&o.classList.add("rd-aS")},_cb(e){let t=this,i=parseInt(e.substr(1,2),16);isNaN(i)&&(i=255);let r=parseInt(e.substr(3,2),16);isNaN(r)&&(r=255);let a=parseInt(e.substr(5,2),16);isNaN(a)&&(a=255);let d=((e,t,i)=>{let r,a,d,l;return e/=255,t/=255,i/=255,{h:r=(r=0==(l=(d=Math.max(e,t,i))-Math.min(e,t,i))?null:d==e?(t-i)/l+(t<i?6:0):d==t?(i-e)/l+2:(e-t)/l+4)%6*60,s:a=0===l?0:l/d,v:d}})(i,r,a),l=parseInt(e.substr(7,2),16);isNaN(l)&&(l=255),t._c_=("0"+l.toString(16)).slice(-2),t._b9(d),t._b5&&t._ca(l)},_ca(e){let t=m.node("ai_"+this.id);e/=255,e*=m.node("at_"+this.id).clientWidth,e-=t.clientWidth/2,t.style.left=e+"px"},_b8(){let e=this,t=m.node("bc_"+e.id),i=e._b7;e._b5&&(m.node("at_"+e.id).style.background="linear-gradient(to right, "+i+"00 0%,"+i+" 100%)",i+=e._c_),t.style.background=i,m.node("v_"+e.id).value=i},"_C<contextmenu>"(e){e.preventDefault()},"_cc<mousedown>"(e){let t=this,i=m.node("cz_"+t.id).clientWidth,r=m.node("ci_"+t.id).clientWidth/2,a=e.eventTarget.getBoundingClientRect(),d=e.pageX-a.left-window.pageXOffset,l=e.pageY-a.top-window.pageYOffset,s=d/i,o=(i-l)/i;t._b9({h:t._b6.h,s:s,v:o});let n=m.node("ci_"+t.id),p=getComputedStyle(n),c=p.left,u=p.top,h=parseInt(c,10),f=parseInt(u,10),g=e;t._y(e,e=>{let a=e.pageY-g.pageY,d=e.pageX-g.pageX;(a+=f)<=-r?a=-r:a>=i-r&&(a=i-r),(d+=h)<=-r?d=-r:d>=i-r&&(d=i-r),n.style.left=d+"px",n.style.top=a+"px";let l=(d+r)/i,s=(i-(a+r))/i;t._b9({h:t._b6.h,s:l,v:s})})},"_cd<mousedown>"(e){let t=this,i=e.eventTarget,r=m.node("si_"+t.id),a=m.node("cz_"+t.id).clientWidth,d=r.clientHeight/2,l=i.getBoundingClientRect(),s=(e.pageY-l.top-window.scrollY)/a*360;t._b9({h:s,s:t._b6.s,v:t._b6.v});let o=parseInt(getComputedStyle(r).top,10);t._y(e,i=>{let l=i.pageY-e.pageY;(l+=o)<=-d?l=-d:l>=a-d&&(l=a-d),r.style.top=l+"px";let s=(l+d)/a*360;t._b9({h:s,s:t._b6.s,v:t._b6.v},!0)})},"_ce<mousedown>"(e){let t=e.eventTarget,i=this,r=m.node("ai_"+i.id),a=m.node("at_"+i.id).clientWidth,d=r.clientWidth/2,l=t.getBoundingClientRect(),s=(e.pageX-l.left)/a*255|0;i._c_=("0"+s.toString(16)).slice(-2),i._ca(s),i._b8();let o=getComputedStyle(r),n=parseInt(o.left,10);i._y(e,t=>{let l=t.pageX-e.pageX;(l+=n)<=-d?l=-d:l>=a-d&&(l=a-d),r.style.left=l+"px";let s=Math.round((l+d)/a*255);i._c_=("0"+s.toString(16)).slice(-2),i._b8()})},"_cf<click>"(){let e=this;e._A();let t=m.node("v_"+e.id).value;t!=e._ao&&(e.digest({color:t,current:t}),m.default.dispatch(e.root,"input",{color:e._ao=t}))},"_cg<click>"(e){this._cb(e.params.color),e.eventTarget.classList.add("rd-aS")},_ch(e){return m.default.inside(e,this.root)},async _z(){let e=m.node("bd_"+this.id);"none"==getComputedStyle(e).display&&(e.style.display="block",k.default._aQ(this),m.node("root_"+this.id).classList.add("rd-v"),this._ci||(await this.digest({renderUI:!0}),this._cb(this._ao),this._ci=1))},_A(){let e=m.node("bd_"+this.id);"none"!=getComputedStyle(e).display&&(m.node("root_"+this.id).classList.remove("rd-v"),e.style.display="none",k.default._aP(this))},"_cj<click>"(){if(this.get("disabled"))return;let e=m.node("bd_"+this.id);"none"==getComputedStyle(e).display?this._z():this._A()},"_ck<click>"(){if(this.get("disabled"))return;let e=this;if(e._ci){let t=m.node("v_"+e.id).value;e._A(),e.digest({color:"",current:t})}else e.digest({color:""});m.default.dispatch(e.root,"input",{color:e._ao=""})}}).merge(w.default)}),define("gallery/mx-column/index",["magix","../mx-number/index"],(e,t,i)=>{let r;e("../mx-number/index"),Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");a.default.applyStyle("rd-j",".rd-a5{border-radius:2px;font-size:12px;color:#999;border:1px solid #e6e6e6;padding:0 4px}"),t.default=a.default.View.extend({tmpl:(e,t,i,a,d,l,s,o)=>{let n,p,c,u,h=[],{fields:f,min:g,max:y,columns:x}=e;if(f.length){p=[];for(let e=f.length,r=0;r<e;r+=1){let e=f[r];u="gallery/mx-number/index?",null!=(n=g)&&(u+="min="+d(n)),null!=(n=y)&&(u+="&max="+d(n)),u+="&value="+s(l,x[e.id],"\x1eg."+e.id),c=[t("div",{$:"columns,fields","mx5-input":i+"\x1e_cm({id:'"+o(e.id)+"'})","mx5-change":i+"\x1e_cn()",class:"rd-g rd-t","mx5-view":u})],p.push(...c)}h.push(...p)}else r?p=[r]:(c=[t(0,0,"\u8bf7\u5148\u7ed1\u5b9a\u6570\u636e\u5b57\u6bb5")],p=[r=t("div",{_:"_",class:"rd-a5"},c)]),h.push(...p);return t(i,0,h)},assign(e){let{columns:t,min:i,max:r,fields:a}=e;this.set({min:i,max:r,columns:t,fields:a})},_cl(){let e=this.get("columns");a.default.dispatch(this.root,"change",{columns:e})},render(){this.digest()},"_cm<input>"(e){e.stopPropagation();let t=this.get("columns"),{id:i}=e.params;t[i]=e.value,this._cl()},"_cn<change>"(e){e.stopPropagation()}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],(e,t,i)=>{let r={class:"rd-o"},a={class:"rd-p",style:"word-break:break-all"},d={class:"rd-i rd-q"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../../i18n/index");t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n=[],{title:p,body:c,i18n:u}=e;return o=[t(0,0,l(p))],s=[t("h5",0,o)],n.push(t("div",r,s)),s=[t(0,0,l(c))],n.push(t("div",a,s)),o=[t(0,0,l(u("bS")))],s=[t("button",{"mx5-click":i+"\x1e_cf();",class:"rd-e rd-m rd-n",type:"button"},o)],n.push(t("div",d,s)),t(i,0,n)},init(e){this._co=e.dialog,this._cp=e.body,this._cq=e.title||s.default("bR"),this._cr=e.enterCallback},render(){this.digest({body:this._cp,title:this._cq})},"_cf<click>"(){let e=this;e._co.close(),e._cr&&l.default.toTry(e._cr)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],(e,t,i)=>{let r={class:"rd-o"},a={class:"rd-p",style:"word-break:break-all"},d={class:"rd-i rd-q"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../../i18n/index");t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n=[],{title:p,body:c,i18n:u}=e;return o=[t(0,0,l(p))],s=[t("h5",0,o)],n.push(t("div",r,s)),s=[t(0,0,l(c))],n.push(t("div",a,s)),o=[t(0,0,l(u("bT")))],s=[t("button",{type:"button","mx5-click":i+"\x1e_ct()",class:"rd-e rd-m"},o)],o=[t(0,0,l(u("bS")))],s.push(t("button",{type:"button","mx5-click":i+"\x1e_cf()",class:"rd-a rd-e rd-m rd-n"},o)),n.push(t("div",d,s)),t(i,0,n)},init(e){let t=this;t._co=e.dialog,t._cp=e.body,t._cq=e.title||s.default("bR"),t._cr=e.enterCallback,t._cs=e.cancelCallback},render(){this.digest({body:this._cp,title:this._cq})},"_cf<click>"(){let e=this;e._co.close(),e._cr&&l.default.toTry(e._cr)},"_ct<click>"(){let e=this;e._co.close(),e._cs&&l.default.toTry(e._cs)}})}),define("gallery/mx-dialog/index",["magix","./alert","./confirm"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");e("./alert"),e("./confirm"),a.default.applyStyle("rd-k",".rd-a6{position:absolute}.rd-a7{position:relative;background-color:#fff;border-radius:2px;border:1px solid #e6e6e6}.rd-a8{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.rd-a8:focus,.rd-a8:hover{opacity:.5}.rd-a9{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2}.rd-b_{-webkit-filter:blur(3px);filter:blur(3px)}.rd-ba{-webkit-animation:rd-a .3s;animation:rd-a .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.rd-bb{position:absolute;right:10px;top:0;width:1px;height:0}.rd-bc{padding:80px 0}@-webkit-keyframes rd-a{0%{opacity:0}to{opacity:.2}}@keyframes rd-a{0%{opacity:0}to{opacity:.2}}.rd-bd{-webkit-animation:rd-b .2s;animation:rd-b .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-b{0%{opacity:.2}to{opacity:0}}@keyframes rd-b{0%{opacity:.2}to{opacity:0}}.rd-be{margin-bottom:50px;min-height:60px}.rd-bf{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.rd-bg{-webkit-animation:rd-c .3s;animation:rd-c .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes rd-c{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.rd-bh{-webkit-animation:rd-d .2s;animation:rd-d .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes rd-d{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");let d=500,l=[],s=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s,o,n,p=[],{removeClass:c,zIndex:u,left:h,top:f,width:g,closable:y}=e;return d="rd-a9",c||(d+=" rd-ba"),p.push(t("div",{style:"z-index:"+a(u-1),id:"mask_"+i,class:d})),s=[t("input",{id:"focus_"+i,class:"rd-bb"},0,0,1)],o=[t(0,0,"\ue67f")],s.push(t("span",{class:"rd-_ rd-a8 "+a(y?"":"rd-h"),"mx5-click":i+"\x1e_cw()"},o)),r?o=[r]:(n=[t("span",{class:"rd-s"})],o=[r=t("div",{_:"_",class:"rd-bc rd-r"},n)]),s.push(t("div",{class:"rd-a7 rd-be",id:"cnt_"+i},o)),d="rd-a6",c||(d+=" rd-bg"),l=[t("div",{id:"body_"+i,style:"left:"+a(h)+"px;top:"+a(f)+"px;width:"+a(g)+"px",class:d},s)],p.push(t("div",{class:"rd-bf",style:"z-index:"+a(u)},l)),t(i,0,p)},init(e){let t=this,i=a.default.node("app"),r=t.root;t.on("destroy",()=>{(e=>{for(let t,i=l.length-1;i>=0;i--)if((t=l[i]).id==e.id){l.splice(i,1);break}})(t),500==(d-=2)&&i.classList.remove("rd-b_"),a.default.dispatch(r,"close"),r.parentNode.removeChild(r)}),a.default.has(e,"closable")||(e.closable=!0),t.set(e),500==d&&i.classList.add("rd-b_"),d+=2,l.push(t)},async render(){let e=this;await e.digest({zIndex:d});let t=e.get(),i=a.default.mark(e,"_n");setTimeout(()=>{i()&&(e.root.style.display="block",a.default.node("focus_"+e.id).focus())},30),e.owner.mount(a.default.node("cnt_"+e.id),t.view,t),setTimeout(()=>{i()&&e.digest({removeClass:!0})},300)},_cu(e){let t=a.default.node("cnt_"+this.id);a.default.Vframe.byNode(t).invoke("fire",["unload",e])},_cv(){let e,t=this.id;(e=a.default.node("body_"+t)).classList.add("rd-bh"),(e=a.default.node("mask_"+t)).classList.add("rd-bd")},"_cw<click>"(){a.default.dispatch(this.root,"dlg_close")},"$doc<keyup>"(e){if(27==e.keyCode){let e=l[l.length-1];e==this&&e.get("closable")&&a.default.dispatch(this.root,"dlg_close")}}});Object.assign(s,{_cy(e,t){let i=a.default.guid("dlg_");document.body.insertAdjacentHTML("beforeend",'<div id="'+i+'" style="display:none" />');let r,d=a.default.node(i),l=e.owner.mount(d,"gallery/mx-dialog/index",t);return d.addEventListener("dlg_close",async()=>{if(!d._cx&&!r){let e=()=>{d._cx=1,l.invoke("_cv"),setTimeout(()=>{l.unmount()},200)},t={p:0,prevent(){r=1},resolve(){t.p=1,r=0,e()},reject(){t.p=1,r=0}};await l.invoke("_cu",[t]),r||t.p||e()}}),d},alert(e,t,i){this.confirm(e,t,null,i,"alert")},confirm(e,t,i,r,a){this.mxDialog("gallery/mx-dialog/"+(a||"confirm"),{body:e,cancelCallback:i,enterCallback:t,title:r,modal:!0,width:300,closable:!1,left:(window.innerWidth-300)/2,top:Math.max((window.innerHeight-220)/2,0)})},mxDialog(e,t){let i,r,d=this,l={view:e},s=a.default.mark(this,"_co");return a.default.use(e,o=>{let n="$dlg_"+e;!d[n]&&s()&&(d[n]=1,Object.assign(l,o.dialogOptions),Object.assign(l,t),l.width||(l.width=500),l.left||(l.left=(window.innerWidth-l.width)/2),l.top||(l.top=100),l.dialog={close(){i&&a.default.dispatch(i,"dlg_close")}},(i=d._cy(d,l)).addEventListener("close",()=>{delete d[n],r&&r()}))}),{close(){i&&a.default.dispatch(i,"dlg_close")},whenClose(e){r=e}}}}),t.default=s}),define("gallery/mx-dropdown/index",["magix","../mx-monitor/index"],(e,t,i)=>{let r,a={class:"rd-bp"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../mx-monitor/index");d.default.applyStyle("rd-l",".rd-bi{outline:0;position:relative;min-width:50px;width:100%;background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;display:inline-block;vertical-align:middle;height:22px;transition:all .25s}.rd-bi:hover{border-color:#ccc}.rd-bj{color:#333;position:relative;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 20px 0 3px}.rd-bk{cursor:not-allowed;background-color:#fbfbfb}.rd-bk:hover{border-color:#e6e6e6}.rd-bk .rd-bj{cursor:not-allowed}.rd-bl{position:absolute;right:0;top:0;font-size:20px;color:#ccc;transition:all .25s}.rd-bm .rd-bl{transform:rotate(180deg);top:0}.rd-bm,.rd-bm:hover{border-color:#fa742b}.rd-bn{height:20px;line-height:21px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.rd-bo{color:#999}.rd-bp{position:absolute;top:100%;left:-1px;right:-1px;margin-top:4px;border-radius:2px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rd-bm .rd-bp{display:block}.rd-bq{overflow:auto;max-height:196px;padding:2px 0}.rd-br{padding:0 2px;margin:2px 0}.rd-bs{cursor:pointer;color:#666;display:block;width:100%;padding:0 5px;height:20px;line-height:20px;border-radius:2px}.rd-bs:hover{color:#333;background-color:#f0f0f0}.rd-bt,.rd-bt:active,.rd-bt:focus,.rd-bt:hover{color:#fff;background-color:#fa742b}"),t.default=d.default.View.extend({tmpl:(e,t,i,d,l,s,o)=>{let n,p,c,u,h,f,g,y,x,_=[],{disabled:b,selectedText:m,selected:w,emptyText:k,rList:v,list:j,textKey:A,valueKey:S}=e;if(p=[],u=[t(0,0,d(m))],n="rd-bn",""!==w&&w!=k||(n+=" rd-bo"),c=[t("span",{class:n},u)],r?c.push(r):(u=[t(0,0,"\ue692")],c.push(r=t("span",{_:"_",class:"rd-_ rd-bl"},u))),p.push(t("div",{class:"rd-bj","mx5-click":i+"\x1e_cj()",title:d(m)},c)),v){f=[];for(let e=j.length,r=0;r<e;r+=1){let e=j[r];g=[];let a=e,l=e;A&&S&&(h="",a=e[A],h+=" ",l=e[S]);let p=l+""==w+"";x=[t(0,0,d(a))],n="rd-bs rd-l",p&&(n+=" rd-bt"),y=[t("span",{"mx5-click":i+"\x1e_cG({item:'"+o(s,e,"\x1eh."+r)+"'})",class:n},x)],g.push(t("li",{title:d(a),active:p,class:"rd-br"},y)),f.push(...g)}u=[t("ul",{class:"rd-bq",id:"list_"+i},f)],c=[t("div",a,u)],p.push(...c)}return n="rd-bi",b&&(n+=" rd-bk"),_.push(t("div",{id:"dd_"+i,class:n},p)),t(i,0,_)},init(e){l.default._b3(),this.on("destroy",()=>{l.default._aP(this),l.default._b4()})},assign(e){let t=e.selected,i=e.textKey||"",r=e.valueKey||"",a=e.emptyText||"",l=e.disabled+""=="true",s=e.list||[];s=s.slice();let o=d.default.toMap(s,r);if(a)if(i&&r){if(!o[""]){let e={};e[i]=a,e[r]="",s.unshift(e),o[""]=e}}else o[a]||(s.unshift(a),o[a]=a);t||!a||i||r||(t=a),t&&o[t]||(t=o[t]||s[0],i&&r&&(t=t[r]));let n=i&&r?o[t][i]:t;return this.set({selected:t,selectedText:n,list:s,textKey:i,valueKey:r,emptyText:a,disabled:l}),!0},render(){this.digest()},_ch(e){return d.default.inside(e,this.root)},async _z(){let e=this,t=d.default.node("dd_"+e.id);if(!t.classList.contains("rd-bm")){t.classList.add("rd-bm"),e.get("rList")||await e.digest({rList:!0});let i=(t=d.default.node("list_"+e.id)).querySelector("li[active]");i&&i.scrollIntoViewIfNeeded&&i.scrollIntoViewIfNeeded(),l.default._aQ(e)}},_A(){let e=this,t=d.default.node("dd_"+e.id);t.classList.contains("rd-bm")&&(t.classList.remove("rd-bm"),l.default._aP(e))},"_cj<click>"(){let e=this,t=d.default.node("dd_"+e.id);t.classList.contains("rd-bm")?e._A():t.classList.contains("rd-bk")||e._z()},"_cG<click>"(e){let t=this;t._A();let i=t.get("valueKey"),r=t.get("textKey"),a=t.get("selected"),l=e.params.item,s=l,o=l;r&&i&&(o=l[r],s=l[i]),a!==s&&(t.digest({selected:s,selectedText:o}),d.default.dispatch(t.root,"change",{item:l,value:i?l[i]:l,text:r?l[r]:l}))}})}),define("gallery/mx-dragdrop/index",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=window.getComputedStyle,a=e=>{(e=window.getSelection)&&e().removeAllRanges()},d=e=>{e.preventDefault()},l=["mousemove"],s=["mouseup"],o=["keydown","mousewheel","DOMMouseScroll","fullscreenchange"];t.default={ctor(){let e=this;e.on("destroy",()=>{e._cz()})},_cz(e){let t=this;if(t._cA){let i;for(i of l)document.removeEventListener(i,t._cA);for(i of s)document.removeEventListener(i,t._cB);for(i of o)document.removeEventListener(i,d);window.removeEventListener("blur",t._cB),delete t._cA;let r=t._cC;r&&r(e)}},_y(e,t,i){let r=this;if(r._cz(),e){let e;for(e of(a(),r._cC=i,r._cB=r._cz.bind(r),r._cA=(e=>{t&&t(e)}),l))document.addEventListener(e,r._cA);for(e of s)document.addEventListener(e,r._cB);for(e of o)document.addEventListener(e,d,{passive:!1});window.addEventListener("blur",r._cB)}},_N(e,t){let i=null;if(document.elementFromPoint)for(!d._cD&&r&&(d._cD=!0,d._cE=null!==document.elementFromPoint(-1,-1)),d._cE&&(e+=window.pageXOffset,t+=window.pageYOffset),i=document.elementFromPoint(e,t);i&&3==i.nodeType;)i=i.parentNode;return i},_cF:a}}),define("gallery/mx-font/align",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");r.default.applyStyle("rd-n",".rd-bB{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.rd-bC{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-bC:hover{background:#ccc}.rd-bD,.rd-bD:hover{background:#fa742b;color:#fff}.rd-bE,.rd-bE .rd-bC{cursor:not-allowed;opacity:.7}.rd-bE .rd-bC,.rd-bE .rd-bC:hover{background:#e9e9e9}.rd-bE .rd-bD,.rd-bE .rd-bD:hover{background:#fb955d}"),t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{disabled:o,i18n:n,value:p}=e;return l=[t(0,0,"\ue687")],a="rd-d rd-bC rd-w","flex-start"==p.h&&(a+=" rd-bD"),d=[t("li",{title:r(n("bV")),"mx5-click":i+"\x1e_aO({type:'h',v:'flex-start'})",class:a},l)],l=[t(0,0,"\ue68a")],a="rd-d rd-bC rd-w","center"==p.h&&(a+=" rd-bD"),d.push(t("li",{title:r(n("bW")),"mx5-click":i+"\x1e_aO({type:'h',v:'center'})",class:a},l)),l=[t(0,0,"\ue686")],a="rd-d rd-bC rd-w","flex-end"==p.h&&(a+=" rd-bD"),d.push(t("li",{title:r(n("bX")),"mx5-click":i+"\x1e_aO({type:'h',v:'flex-end'})",class:a},l)),l=[t(0,0,"\ue614")],a="rd-d rd-bC rd-w","flex-start"==p.v&&(a+=" rd-bD"),d.push(t("li",{title:r(n("bY")),"mx5-click":i+"\x1e_aO({type:'v',v:'flex-start'})",class:a},l)),l=[t(0,0,"\ue613")],a="rd-d rd-bC rd-w","center"==p.v&&(a+=" rd-bD"),d.push(t("li",{title:r(n("bZ")),"mx5-click":i+"\x1e_aO({type:'v',v:'center'})",class:a},l)),l=[t(0,0,"\ue612")],a="rd-d rd-bC rd-w","flex-end"==p.v&&(a+=" rd-bD"),d.push(t("li",{title:r(n("b0")),"mx5-click":i+"\x1e_aO({type:'v',v:'flex-end'})",class:a},l)),a="rd-j rd-bB",o&&(a+=" rd-bE"),s.push(t("ul",{class:a},d)),t(i,0,s)},assign(e){this._cS=e.value,this.set({value:e.value,disabled:e.disabled})},render(){this.digest()},"_aO<click>"(e){let t=this;if(t.get("disabled"))return;let i=t._cS,{type:a,v:d}=e.params;i[a]=d,t._cS=i,t.digest({value:i}),r.default.dispatch(t.root,"input",{value:i})}})}),define("gallery/mx-font/style",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");r.default.applyStyle("rd-n",".rd-bB{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.rd-bC{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.rd-bC:hover{background:#ccc}.rd-bD,.rd-bD:hover{background:#fa742b;color:#fff}.rd-bE,.rd-bE .rd-bC{cursor:not-allowed;opacity:.7}.rd-bE .rd-bC,.rd-bE .rd-bC:hover{background:#e9e9e9}.rd-bE .rd-bD,.rd-bE .rd-bD:hover{background:#fb955d}"),t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{disabled:o,i18n:n,value:p}=e;return l=[t(0,0,"\ue749")],a="rd-d rd-bC rd-w",p.bold&&(a+=" rd-bD"),d=[t("li",{title:r(n("b1")),"mx5-click":i+"\x1e_aO({key:'bold'})",class:a},l)],l=[t(0,0,"\ue65f")],a="rd-d rd-bC rd-w",p.italic&&(a+=" rd-bD"),d.push(t("li",{title:r(n("b2")),"mx5-click":i+"\x1e_aO({key:'italic'})",class:a},l)),l=[t(0,0,"\ue62e")],a="rd-d rd-bC rd-w",p.underline&&(a+=" rd-bD"),d.push(t("li",{title:r(n("b3")),"mx5-click":i+"\x1e_aO({key:'underline'})",class:a},l)),a="rd-j rd-bB",o&&(a+=" rd-bE"),s.push(t("ul",{class:a},d)),t(i,0,s)},assign(e){this._cS=e.value,this.set({value:e.value,disabled:e.disabled})},render(){this.digest()},"_aO<click>"(e){let t=this;if(t.get("disabled"))return;let i=t._cS,{key:a}=e.params;i[a]=!i[a],t._cS=i,t.digest({value:i}),r.default.dispatch(t.root,"input",{value:i})}})}),define("gallery/mx-field/index",["magix","../../elements/table/consts"],(e,t,i)=>{let r,a={class:"rd-bv"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../../elements/table/consts");let s=d.default.State;d.default.applyStyle("rd-m",'.rd-bu{min-height:100px;border:1px solid #e6e6e6;background:#fff;border-radius:2px}.rd-bv{margin-top:40px;font-size:12px;text-align:center;color:#999}.rd-bw{border:1px solid #e6e6e6;border-radius:2px;margin:2px;line-height:20px;height:20px;font-size:12px;position:relative;background-color:#fff}.rd-bw:after{content:" ";width:98%;margin:0 1%;height:2px;left:0;position:absolute}.rd-bx{cursor:not-allowed}.rd-bx,.rd-bx .rd-bw{background:#fbfbfb}.rd-by-top:after{top:-3px;background-color:#bd361b}.rd-by-bottom:after{bottom:-3px;background-color:#bd361b}.rd-bz{background-color:#fff;opacity:.4}.rd-bA{background-color:rgba(250,116,43,.06)}'),t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let l,s,o,n,p,c,u=[],{enter:h,disabled:f,fields:g,dragIndex:y,index:x,onTop:_,i18n:b}=e;if(s=[],g&&g.length){o=[];for(let e=g.length,a=0;a<e;a+=1){let e=g[a];r?p=[r]:(c=[t(0,0,"\ue69c")],p=[r=t("span",{_:"_",class:"rd-w"},c)]),c=[t(0,0,d(e.name))],p.push(t("span",0,c)),l="rd-bw",a==y?l+=" rd-bz":a==x&&(l+=" rd-by-"+d(_?"top":"bottom")),n=[t("div",{draggable:!f&&"true","mx5-dragstart":i+"\x1e\x1e_cQ({index:"+d(a)+"})","mx5-dragover":i+"\x1e\x1e_cR({index:"+d(a)+"})",class:l},p)],o.push(...n)}s.push(...o)}else n=[t(0,0,d(b("bU")))],o=[t("div",a,n)],s.push(...o);return l="rd-bu",h&&(l+=" rd-bA"),f&&(l+=" rd-bx"),u.push(t("div",{"mx5-dragleave":i+"\x1e_cN()","mx5-dragenter":i+"\x1e_cP()","mx5-contextmenu":i+"\x1e_C()",class:l},s)),t(i,0,u)},assign(e){if(this._cH=e.props,this._cI=null,this._cJ=null,this._cK=null,this._cL=null,this._cM=null,e.props.bind){let{url:t,fields:i,id:r}=e.props.bind;t&&(this._cI=t),r&&(this._cJ=r),i&&(this._cK=i,this.set({fields:i}))}this.set(e)},render(){this.digest()},_cl(){var e;let t=this._cI,i=this._cK,r=this._cJ,a=this._cH.columns||{},s={...a};for(let e in a)delete a[e];for(let t of i)a[t.id]=null!==(e=s[t.id])&&void 0!==e?e:l.default._bZ;d.default.dispatch(this.root,"change",{bindField:{url:t,id:r,fields:i}})},"_cN<dragleave>"(e){if(this.get("disabled"))return;d.default.inside(e.relatedTarget,e.eventTarget)||this.digest({enter:!1,index:-1})},"_cP<dragenter>"(e){if(this.get("disabled"))return;if(!d.default.inside(e.relatedTarget,e.eventTarget)){let e=this._cK,t=this.get("index"),i=this._cL;s.get("_cO")&&e.length&&(null==t||-1==t)&&this.set({index:e.length-1,onTop:0}),this.digest({enter:-1==i||null==i})}},"_cQ<dragstart>"(e){this._cL=e.params.index,this._cM=e.eventTarget,e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain","fix ff"),this.set({dragIndex:this._cL})},"_cR<dragover>"(e){let t=this;if(e.preventDefault(),!this.get("disabled"))if(t._cM!=e.eventTarget){e.dataTransfer.dropEffect="move";let i=e.eventTarget.getBoundingClientRect(),r=i.top+i.height/2>e.pageY,a=e.params.index;t.digest({onTop:r,index:a})}else e.dataTransfer.dropEffect="none"},"$doc<drop>"(e){if(e.preventDefault(),this.get("disabled"))return;if(d.default.inside(e.target,this.root)){let e=s.get("_cO");if(e){s.set({_cO:null});let{url:t,field:i,id:r}=e,a=this._cK;if(this._cI!=t)this._cI=t,a=[i],this._cK=a,this._cJ=r,this.set({index:-1,fields:a});else{let e=this.get();null!=e.index&&-1!=e.index?a.splice(e.index+(e.onTop?0:1),0,i):a.length||a.push(i),this.set({index:-1,fields:a})}this._cl()}else{let e=this.get();if(null!=e.index&&-1!=e.index){let t=this._cL,i=this._cK,r=i[t];i.splice(e.index+(e.onTop?0:1),0,r),e.index<t?i.splice(t+1,1):i.splice(t,1),this.set({fields:i,index:-1}),this._cL=-1,this._cl()}}}else{let e=this._cL;if(null!=e&&-1!=e){this._cL=-1;let t=this._cK;t.splice(e,1),this.set({index:-1,fields:t}),this._cl()}}this.digest({enter:!1,dragIndex:-1}),this._cM=null},"_C<contextmenu>"(e){e.preventDefault()}})}),define("gallery/mx-menu/index",["magix","../mx-monitor/index"],(e,t,i)=>{let r,a={class:"rd-bG rd-j"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../mx-monitor/index");d.default.applyStyle("rd-o",".rd-bF{z-index:400}.rd-bG{background-color:#fff;border:1px solid #e6e6e6;border-radius:2px;cursor:default;padding:2px 0;box-shadow:0 1px 3px 1px rgba(0,0,0,.06)}.rd-bH{height:22px;line-height:22px;cursor:default;border-radius:2px;padding:0 8px;margin:2px}.rd-bI{color:#fff;background-color:#fa742b}.rd-bJ{height:1px;background:#eee;margin:4px 0}.rd-bK{color:#ccc;cursor:not-allowed}"),t.default=d.default.View.extend({tmpl:(e,t,i,d,l,s,o)=>{let n,p,c,u,h,f,g=[],{width:y,list:x,disabled:_,textKey:b}=e;p=[];for(let e=x.length,a=0;a<e;a+=1){let e=x[a];c=[],e.spliter?(u=r?[r]:[r=t("li",{_:"_",class:"rd-bJ"})],c.push(...u)):(f=[t(0,0,d(e[b]))],h="rd-l rd-bH ",_[e.id]&&(h+=" rd-bK"),u=[t("li",{"mx5-mouseover":!_[e.id]&&i+"\x1e\x1e_c0()","mx5-mouseout":!_[e.id]&&i+"\x1e\x1e_c0();","mx5-click":!_[e.id]&&i+"\x1e\x1e_cG({item:'"+o(s,e,"\x1eh."+a)+"'})",title:d(e[b]),class:h},f)],c.push(...u)),p.push(...c)}return n=[t("ul",a,p)],g.push(t("div",{style:"width:"+d(y)+"px;position:absolute;left:-10000px;top:-10000px",class:"rd-bF",id:"cnt_"+i,"mx5-contextmenu":i+"\x1e_C()"},n)),t(i,0,g)},init(e){let t=this;l.default._b3(),t.on("destroy",()=>{l.default._aP(t),l.default._b4()})},assign(e){let t=this,i=e.width||140,r=e.valueKey||"id",a=e.textKey||"text";t._cT=e.list,t._cU=i,t._cV=r,t._cW=a,t._cX=e.disabled||{},t._cY=e.picked},async render(e){let t=this;await t.digest({disabled:t._cX,list:t._cT,width:t._cU,valueKey:t._cV,textKey:t._cW}),e&&this._z(e)},_ch(e){return d.default.inside(e,this.root)},_z(e){let t=this;if(!t._cZ){t._cZ=1;let i=d.node("cnt_"+t.id),r=i.clientWidth,a=i.clientHeight,s=e.pageX,o=e.pageY;s+r>window.innerWidth&&(s-=r)<0&&(s=0),o+a>window.innerHeight&&(o-=a)<0&&(o=0),i.style.left=s+"px",i.style.top=o+"px",l.default._aQ(t)}},_A(){let e=this;if(e._cZ){e._cZ=!1,d.node("cnt_"+e.id).style.left="-10000px",l.default._aP(e)}},"_c0<mouseover,mouseout>"(e){let t=e.eventTarget;!d.default.inside(e.relatedTarget,t)&&t.classList["mouseout"==e.type?"remove":"add"]("rd-bI")},"_cG<click>"(e){this._A();let t=this._cY;t&&t(e.params.item)},"_C<contextmenu>"(e){e.preventDefault()}}).static({show(e,t,i){let r="ctx_"+e.id,a=d.node(r),l=a&&d.default.Vframe.byNode(a);l?(l.invoke("assign",[i]),l.invoke("render",[t])):(document.body.insertAdjacentHTML("beforeend",`<div id="${r}"></div>`),(l=e.owner.mount(d.node(r),"gallery/mx-menu/index",i)).invoke("_z",[t]))}})}),define("gallery/mx-monitor/index",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=0,a=[],d=["mousedown","keyup","touchstart","pointerstart"],l=e=>{for(let t=a.length;t--;){let i=a[t];if(i._c1)a.splice(t,1);else{let t=i._c2;"resize"!=e.type&&t._ch(e.target)||t._A()}}},s=e=>{let t=a[e.id];t&&(t._c1=!0),delete a[e.id]};t.default={_aQ(e){s(e);let t={_c2:e};a.push(t),a[e.id]=t},_aP:s,_b3(){if(!r){for(let e of d)document.addEventListener(e,l);window.addEventListener("resize",l)}r++},_b4(){if(r>0&&!--r){for(let e of d)document.removeEventListener(e,l);window.removeEventListener("resize",l)}}}}),define("gallery/mx-number/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");r.default.applyStyle("rd-p",'.rd-bL{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}.rd-bM,.rd-bN{width:20px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:2px;cursor:pointer}.rd-bM:hover,.rd-bN:hover{background-color:#f0f0f0}.rd-bN{top:1px}.rd-bM{bottom:1px}.rd-bO:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:4px solid transparent;border-right:4px solid transparent;content:"";display:block;margin:auto}.rd-bM:after{border-top:4px solid #ccc}.rd-bN:after{border-bottom:4px solid #ccc}.rd-bM.rd-bP,.rd-bN.rd-bP{cursor:not-allowed;border-color:transparent}.rd-bM.rd-bP:hover,.rd-bN.rd-bP:hover{background-color:transparent}'),t.default=r.default.View.extend({tmpl:(e,t,i)=>{let r,a=[],{disabled:d}=e;return a.push(t("input",{class:"rd-bL",id:"ipt_"+i,"mx5-focusin":i+"\x1e_dk()","mx5-focusout":i+"\x1e_dm()","mx5-change":i+"\x1e_dj()","mx5-keydown":i+"\x1e_ds()",disabled:d,autocomplete:"off","mx5-input":i+"\x1e_du()","mx5-mousewheel":i+"\x1e_dt()"},0,0,1)),r="rd-bN rd-bO rd-j",d&&(r+=" rd-bP"),a.push(t("span",{"mx5-click":i+"\x1e_df({i:1})","mx5-mousedown":i+"\x1e_dr({i:1})","mx5-contextmenu":i+"\x1e_C()",class:r})),r="rd-bM rd-bO rd-j",d&&(r+=" rd-bP"),a.push(t("span",{"mx5-click":i+"\x1e_df()","mx5-mousedown":i+"\x1e_dr()","mx5-contextmenu":i+"\x1e_C()",class:r})),t(i,0,a)},assign(e){let t=this,i=e.value;void 0===i&&(i=""),""!==i&&(i=+i);let a=t._c3!==i,d=t._c4;return t._c3=i,t._c5=+e.step||1,t._c6=e.empty+""=="true",t._c7=e.format+""=="true",t._c4=t.root.hasAttribute("disabled"),t._c8=r.default.has(e,"max")?+e.max:Number.MAX_VALUE,t._c9=r.default.has(e,"min")?+e.min:-Number.MAX_VALUE,t._d_=+e.ratio||10,t._da=e.fixed||0,a||d!=t._c4},async render(){let e=this,t=r.default.mark(this,"@{render}");await e.digest({disabled:e._c4}),t()&&e._db()},_db(){let e=this,t=e._c3;""!==t&&(t=e._dc(t),e._c7&&(t=t.toFixed(e._da))),e._dd=r.node("ipt_"+e.id),e._dd.value=t},_dc(e){let t=this;if((e=+e)||0===e){let i=t._c8,r=t._c9;e>i?e=i:e<r&&(e=r),e=+e.toFixed(t._da)}return isNaN(e)?t._c6?"":0:e},_de(e,t){let i=this;if(""!==e||!i._c6)return(e=i._dc(e))!==i._c3&&(t||(i._dd.value=e),r.default.dispatch(i.root,"input",{value:i._c3=e})),i._c3;r.default.dispatch(i.root,"input",{value:i._c3=e})},_df(e,t){let i=this._c3;""===i&&(i=0);let r=this._c5,a=i;t&&(r*=this._d_),e?a+=r:a-=r,this._de(a)},_dg(){let e=this._dd;e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},_di(){let e=this;e.root.classList.add("rd-v"),r.default.has(e,"_dh")||(e._dh=e._c3)},"_dj<change>"(e){e.stopPropagation()},"_dk<focusin>"(){this._di()},"_dm<focusout>"(e){let t=this;t._dl||(t.root.classList.remove("rd-v"),t._db(),t._dh!=t._c3&&r.default.dispatch(t.root,"change",{value:t._c3}),delete t._dh)},"_df<click>"(e){let t=this;t._c4||t._dn||(t._df(e.params.i,e.shiftKey),t._dg())},"_dr<mousedown>"(e){let t=this;if(!t._c4){t._dl=!0,t._di();let i=e.params.i,a=r.default.mark(this,"_do");t._dp=setTimeout(()=>{a()&&(t._dq=setInterval(()=>{a()&&(t._dn=!0,t._df(i),t._dg())},50))},300)}},"_ds<keydown>"(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();let t=this;if(!t._c4){let i=e.eventTarget.value;if(""===i)t._c3="";else{let e=Number(i);(e||0===e)&&e!=t._c3&&(t._c3=e)}t._df(38==e.keyCode,e.shiftKey)}}},"_dt<mousewheel>&{passive:false}"(e){if(this.root.classList.contains("rd-v")){e.preventDefault();let t=e.deltaY;this._df(t>0)}},"_C<contextmenu>"(e){e.preventDefault()},"_du<input>"(e){e.stopPropagation();let t=e.eventTarget;this._de(t.value,!0)},"$doc<mouseup>"(){let e=this;clearTimeout(e._dp),clearInterval(e._dq),delete e._dl;let t=r.default.mark(this,"@:mouseup");setTimeout(()=>{t()&&delete e._dn},0)}})}),define("gallery/mx-picture/index",["magix","../mx-dialog/index"],(e,t,i)=>{let r={class:"rd-bR"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("../mx-dialog/index");a.default.applyStyle("rd-q",".rd-bQ{height:100px;padding:4px;border:1px solid #e6e6e6;background:#fff;cursor:pointer;margin:4px 0;border-radius:2px}.rd-bR{line-height:92px;text-align:center;color:#999}.rd-bS{min-height:500px}.rd-bT{width:100px;height:100px;margin:4px;overflow:hidden;border:1px solid #e6e6e6;cursor:pointer;padding:4px}.rd-bT:hover{border-color:#999}.rd-bU{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.rd-bV{width:100px;margin:0 5px;height:25px}.rd-bW{margin:30px 0}.rd-bX{font-size:16px}.rd-bY{position:absolute;right:3px;top:2px;opacity:.2}.rd-bY:hover{opacity:.5}.rd-bZ{background:#fbfbfb;cursor:not-allowed}.rd-bZ .rd-bY,.rd-bZ .rd-bY:hover{opacity:.1}.rd-b0{margin-bottom:10px;border-bottom:1px solid #fca576}.rd-b1{float:left;height:25px;line-height:25px;padding:0 4px;cursor:pointer;margin:0 5px -1px;transition:all .25s}.rd-b2{background:#fca576;border-radius:4px 4px 0 0}"),t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s,o,n,p=[],{disabled:c,src:u,i18n:h}=e;return l=[],u?(n=[t(0,0,"\ue67f")],o=[t("i",{class:"rd-_ rd-bY","mx5-click":!c&&i+"\x1e_dx()",title:a(h("b4"))},n)],s=[t("div",{class:"rd-bU",style:"background-image:url('"+a(u)+"')"},o)],l.push(...s)):(o=[t(0,0,a(h("b5")))],s=[t("div",r,o)],l.push(...s)),d="rd-bQ rd-g",c&&(d+=" rd-bZ"),p.push(t("div",{"mx5-click":!c&&i+"\x1e_dw()",class:d},l)),t(i,0,p)},assign(e){this.set(e)},render(){this.digest()},"_dw<click>"(){let e=this;e.mxDialog("gallery/mx-picture/list",{width:932,done(t){e.digest(t),e._dv(t)}})},_dv(e){a.default.dispatch(this.root,"change",e)},"_dx<click>"(e){e.stopPropagation(),this.digest({src:""}),this._dv({src:"",width:0,height:0})}}).merge(d.default)}),define("gallery/mx-picture/list",["magix","../../designer/service","../../i18n/index"],(e,t,i)=>{let r={class:"rd-E rd-o"},a={class:"rd-bS rd-i rd-p"},d={class:"rd-bW rd-bX rd-c"},l={class:"rd-b0 rd-i"},s={class:"rd-bV rd-c rd-l"};Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),n=e("../../designer/service"),p=e("../../i18n/index");t.default=o.default.View.extend({tmpl:(e,t,i,o,n,p,c,u)=>{let h,f,g,y,x,_,b=[],{i18n:m,error:w,list:k,cIndex:v}=e;if(f=[t(0,0,o(m("b7")))],h=[t("h5",0,f)],b.push(t("div",r,h)),h=[],w)g=[t(0,0,o(w.msg))],f=[t("div",d,g)],h.push(...f);else{f=[],g=[];for(let e=k.length,r=0;r<e;r+=1){_=[t(0,0,o(k[r].title))],x="rd-b1",r==v&&(x+=" rd-b2"),y=[t("div",{"mx5-click":r!=v&&i+"\x1e_dA({to:"+o(r)+"})",class:x},_)],g.push(...y)}f.push(t("div",l,g));for(let e=k[v].list,r=e.length,a=0;a<r;a+=1){let r=e[a];_=[t("div",{class:"rd-bU",style:"background-image:url('"+o(r.src)+"')"})],y=[t("div",{class:"rd-bT","mx5-click":i+"\x1e_dz({src:'"+u(r.src)+"'})"},_)],_=[t(0,0,o(r.title))],y.push(t("div",s,_)),g=[t("div",{class:"rd-d",title:o(r.title)},y)],f.push(...g)}h.push(...f)}return b.push(t("div",a,h)),t(i,0,b)},init(e){this._co=e.dialog,this._dy=e.done,this.set({cIndex:0})},render(){let e=o.default.mark(this,"_n");this.fetch("_aC",(t,i)=>{e()&&this.digest({error:t,list:i.get("data",[])})})},"_dz<click>"(e){let t=this,i=new Image,r=t._dy,a=e.params.src,d=o.default.mark(this,"_dz");i.onerror=(()=>{d()&&t.alert(p.default("b6"))}),i.onload=(()=>{if(d()){let e=i.width,d=i.height;t._co.close(),r({src:a,width:e,height:d})}}),i.src=a},"_dA<click>"(e){let{to:t}=e.params;this.digest({cIndex:t})}}).merge(n.default)}),define("gallery/mx-pointer/cursor",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=r.default.guid("cursor_");r.default.applyStyle("rd-r",".rd-b3{opacity:0;background:#fff;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10000}");const d=document.body;t.default={_z(e){let t=getComputedStyle(e);this._aT(t.cursor)},_aT(e){let t=r.node(a);t||(document.body.insertAdjacentHTML("beforeend",`<div class="rd-b3" id="${a}"/>`),t=r.node(a)),t.style.cursor=e,t.style.display="block"},_A(){let e=r.node(a);e&&(e.style.display="none")},_M(e){d.style.cursor=e},_O(){d.style.cursor="auto"}}}),define("gallery/mx-pointer/follower",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");r.default.applyStyle("rd-s",".rd-b4{background:#fa742b;position:absolute;opacity:.6;left:-1000px;top:-1000px;width:30px;height:30px;text-align:center;line-height:30px;color:#fff;border-radius:2px;z-index:5000;pointer-events:none}");let a=r.default.guid("de_");t.default={_bg(e){let t=r.node(a);t||(document.body.insertAdjacentHTML("beforeend",`<div class="rd-b4 rd-w" id="${a}"/>`),t=r.node(a)),t.innerHTML=e},_z(e){let t=r.node(a).style;t.left=e.pageX+10+"px",t.top=e.pageY+18+"px"},_A(){let e=r.node(a).style;e.left="-1000px",e.top="-1000px"}}}),define("gallery/mx-pointer/select",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");r.default.applyStyle("rd-t",".rd-b5{position:absolute;border:1px dashed #fa742b;display:none;pointer-events:none}");let a=r.default.guid("set_");t.default={_L(){r.node(a)||document.body.insertAdjacentHTML("beforeend",`<div id="${a}" class="rd-b5"></div>`)},_bg(e,t,i,d){let l=r.node(a).style;l.left=e+"px",l.top=t+"px",l.width=i+"px",l.height=d+"px",l.display="block"},_A(){r.node(a).style.display="none"}}}),define("gallery/mx-runner/fx",["./index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("./index");let a=e=>e,d=Date.now,l=function(e,t){let i=this;i._dB&&!t||(t=t||a,i._dB=((e,r)=>e+(r-e)*t(i._dC/i._dD))),i._dE=[],i._dF=e};Object.assign(l.prototype,{_dK(e,t){let i=this;i._c1||(i._dE.push({_dG:e,_dH:t}),i._dI||i._dJ())},_dJ(){let e=this,t=e._dE.shift();t?(e._dD=t._dG,e._dL=t._dH,e._dM=d(),e._dI||r.default._ak(e._dF,e._dI=(t=>{e._dC=Date.now()-e._dM,e._dC>e._dD&&(e._dC=e._dD,t=1);try{e._dL(e._dB)}catch(e){t=e}t&&e._dJ()}))):e._cn()},_cn(){let e=this;e._dI&&(r.default._bf(e._dI),delete e._dI)},_dN(){this._cn(),this._dE=[],this._c1=1}}),t.default={_dO(e,t){let i=new l(e,t);return this.on("destroy",()=>{i._dN()}),i}}}),define("gallery/mx-runner/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");let a,d,l=e=>setTimeout(e,16),s=clearTimeout,o=window.requestAnimationFrame||l,n=window.cancelAnimationFrame||s,p=Date.now,c=[],u=[];t.default={_ak(e,t){c.push({i:e||15,f:t,n:p()}),(()=>{if(!a){let e=()=>{for(let e,t,i=0;i<c.length;i++)(e=c[i]).r?c.splice(i--,1):(t=p())-e.n>=e.i&&(e.n=t,r.default.toTry(e.f));c.length?a=o(e):(n(a),a=0)};a=o(e)}})()},_bf(e){for(let t,i=0;i<c.length;i++)if(!(t=c[i]).r&&t.f==e){t.r=1,t.f="";break}},_X(e,t){u.push({i:e||15,f:t,n:p()}),(()=>{if(!d){let e=()=>{for(let e,t,i=0;i<u.length;i++)(e=u[i]).r?u.splice(i--,1):(t=p())-e.n>=e.i&&(e.n=t,r.default.toTry(e.f));u.length?d=l(e):(s(d),d=0)};d=l(e)}})()},_U(e){for(let t,i=0;i<u.length;i++)if(!(t=u[i]).r&&t.f==e){t.r=1,t.f="";break}}}}),define("gallery/mx-table/style",["magix"],(e,t,i)=>{let r={class:"rd-b6 rd-k"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");a.default.applyStyle("rd-u",".rd-b6{border:1px solid #e6e6e6;background:#fff;border-radius:2px;overflow-y:scroll;height:140px}.rd-b7{width:116px;margin:8px;opacity:.8;cursor:pointer;zoom:.5;float:left}.rd-b7:hover{opacity:1}");let d=[{cellAlign:"center",theadFontsize:16,theadRowHeight:40,theadForecolor:"#000000",tbodyRowHeight:30,tbodyFontsize:14,tbodyForecolor:"#000000",theadRowBackground:"#ffda95",tbodyEvenRowBackground:"#dde09d",tbodyOddRowBackground:"#f2f5cc",bordercolor:"#000000"},{cellAlign:"center",theadFontsize:16,theadRowHeight:40,theadForecolor:"#8391b7",tbodyRowHeight:30,tbodyFontsize:14,tbodyForecolor:"#8391b7",theadRowBackground:"#ffffff",tbodyEvenRowBackground:"#ffffff",tbodyOddRowBackground:"#d3dfed",bordercolor:"#becfe6"},{cellAlign:"center",theadFontsize:16,theadRowHeight:40,theadForecolor:"#c27f88",tbodyRowHeight:30,tbodyFontsize:14,tbodyForecolor:"#c27f88",theadRowBackground:"#ffffff",tbodyEvenRowBackground:"#ffffff",tbodyOddRowBackground:"#eed3d2",bordercolor:"#eccecd"},{cellAlign:"center",theadFontsize:16,theadRowHeight:40,theadForecolor:"#ffffff",tbodyRowHeight:30,tbodyFontsize:14,tbodyForecolor:"#000000",theadRowBackground:"#7f659f",tbodyEvenRowBackground:"#ffffff",tbodyOddRowBackground:"#ffffff",bordercolor:"#7f659f"},{cellAlign:"center",theadFontsize:14,theadRowHeight:30,theadForecolor:"#666666",tbodyRowHeight:20,tbodyFontsize:12,tbodyForecolor:"#666666",theadRowBackground:"#e9eaec",tbodyEvenRowBackground:"#f6f6f6",tbodyOddRowBackground:"#ffffff",bordercolor:"#dedede"},{cellAlign:"center",theadFontsize:14,theadRowHeight:30,theadForecolor:"#d1dbdb",tbodyRowHeight:20,tbodyFontsize:12,tbodyForecolor:"#d1dbdb",theadRowBackground:"#212121",tbodyEvenRowBackground:"#010101",tbodyOddRowBackground:"#404040",bordercolor:"#343434"}];t.default=a.default.View.extend({tmpl:(e,t,i,a,d,l,s)=>{let o,n,p,c,u,h,f,g,y=[],{skins:x}=e;o=[];for(let e=x.length,r=0;r<e;r+=1){let e=x[r];g=[t(0,0,"\u8868\u5934")],f=[t("div",{class:"rd-K",style:"height:"+a(e.theadRowHeight)+"px;line-height:"+a(e.theadRowHeight)+"px;font-size:"+a(e.theadFontsize)+"px;color:"+a(e.theadForecolor)},g)],h="border-color:"+a(e.bordercolor)+";text-align:"+a(e.cellAlign)+";",e.theadRowBackground&&(h+="background:"+a(e.theadRowBackground)),u=[t("th",{class:"rd-I",style:h},f)],c=[t("tr",0,u)],p=[t("thead",0,c)],g=[t(0,0,"\u5947\u6570\u884c")],f=[t("div",{class:"rd-K",style:"height:"+a(e.tbodyRowHeight)+"px;line-height:"+a(e.tbodyRowHeight)+"px;font-size:"+a(e.tbodyFontsize)+"px;color:"+a(e.tbodyForecolor)},g)],u=[t("td",{class:"rd-I",style:"text-align:"+a(e.cellAlign)+";border-color:"+a(e.bordercolor)+";background:"+a(e.tbodyOddRowBackground)},f)],c=[t("tr",0,u)],g=[t(0,0,"\u5076\u6570\u884c")],f=[t("div",{class:"rd-K",style:"height:"+a(e.tbodyRowHeight)+"px;line-height:"+a(e.tbodyRowHeight)+"px;font-size:"+a(e.tbodyFontsize)+"px;color:"+a(e.tbodyForecolor)},g)],u=[t("td",{class:"rd-I",style:"text-align:"+a(e.cellAlign)+";border-color:"+a(e.bordercolor)+";background:"+a(e.tbodyEvenRowBackground)},f)],c.push(t("tr",0,u)),p.push(t("tbody",0,c)),n=[t("table",{class:"rd-H rd-b7",style:"border-color:"+a(e.bordercolor),"mx5-click":i+"\x1e_dP({skin:'"+s(l,e,"\x1ei."+r)+"'})"},p)],o.push(...n)}return y.push(t("div",r,o)),t(i,0,y)},assign:()=>!1,render(){this.digest({skins:d})},"_dP<click>"(e){let{skin:t}=e.params;a.default.dispatch(this.root,"change",{skin:t})}})}),define("i18n/index",["magix","./zh-cn"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("./zh-cn"),d={"zh-cn":a.default,zh:a.default},l=r.default.has,s=/\{(\d+)\}/g;t.default=((e,...t)=>{let i=(r.default.config("lang")||navigator.language).toLowerCase();l(d,i)||(i="zh-cn");let a=d[i],o=l(a,e)?a[e]:e;return t.length&&(o=o.replace(s,(e,i,r)=>(i|=0,t.length>i?(r=t[i],l(a,r)?a[r]:r):e))),o})}),define("i18n/zh-cn",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={t:"\u7269\u8054\u7f51\u8bbe\u8ba1\u5668",bR:"\u63d0\u793a",bS:"\u786e\u5b9a",bT:"\u53d6\u6d88",B:"\u653e\u5927",A:"\u7f29\u5c0f",_:"\u5220\u9664\u8f85\u52a9\u7ebf",a:"\u6309\u4e0b\u62d6\u52a8\u53ef\u79fb\u52a8\u8f85\u52a9\u7ebf",u:"\u64a4\u9500(Ctrl+Z)",v:"\u91cd\u505a(Ctrl+Y,Ctrl+Shift+Z)",b8:"\u6309\u4e0b\u79fb\u52a8\u9762\u677f",b9:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u5bbd\u5ea6",c_:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u9762\u677f\u9ad8\u5ea6",ca:"\u5143\u7d20",cb:"\u5c5e\u6027",cc:"\u6570\u636e\u6e90",cd:"\u6982\u89c8\u56fe",z:"\u6253\u5f00{0}\u9762\u677f(\u6570\u5b57\u952e{1})",y:"\u5173\u95ed{0}\u9762\u677f(\u6570\u5b57\u952e{1})",ce:"\u5c55\u5f00{0}\u9762\u677f(\u6570\u5b57\u952e{1})",cf:"\u6298\u53e0{0}\u9762\u677f(\u6570\u5b57\u952e{1})",H:"\u6253\u5f00\u6240\u6709\u9762\u677f(Shift+Z)",G:"\u5173\u95ed\u6240\u6709\u9762\u677f(Shift+Z)",ad:"\u6309\u4e0b\u62d6\u52a8\u65cb\u8f6c\u5143\u7d20",ae:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6",af:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u9ad8\u5ea6",ag:"\u6309\u4e0b\u62d6\u52a8\u6539\u53d8\u5143\u7d20\u5bbd\u5ea6\u548c\u9ad8\u5ea6",cg:"\u7c7b\u578b\uff1a",J:"X\u5750\u6807\uff1a",K:"Y\u5750\u6807\uff1a",L:"\u5bbd\uff1a",aP:"\u7ebf\u6761\u5bbd\uff1a",M:"\u9ad8\uff1a",N:"\u65cb\u8f6c\u89d2\u5ea6\uff1a",Q:"\u80cc\u666f\u989c\u8272\uff1a",bw:"\u6587\u5b57\u989c\u8272\uff1a",aQ:"\u865a\u7ebf\u95f4\u9694\uff1a",a0:"\u5f00\u59cb\u7bad\u5934\uff1a",a1:"\u7ed3\u675f\u7bad\u5934\uff1a",c:"\u5168\u9009",f:"\u7c98\u8d34",d:"\u590d\u5236",e:"\u526a\u5207",k:"\u5220\u9664",w:"\u7ec4\u5408\u9009\u4e2d\u5143\u7d20",x:"\u53d6\u6d88\u7ec4\u5408\u5143\u7d20",r:"\u7ec4\u5408",s:"\u53d6\u6d88\u7ec4\u5408",g:"\u4e0a\u79fb\u4e00\u5c42",i:"\u79fb\u81f3\u9876\u5c42",h:"\u4e0b\u79fb\u4e00\u5c42",j:"\u79fb\u81f3\u5e95\u5c42",l:"\u5de6\u5bf9\u9f50",m:"\u53f3\u5bf9\u9f50",o:"\u4e0a\u5bf9\u9f50",p:"\u4e0b\u5bf9\u9f50",q:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",n:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",b6:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",b4:"\u6e05\u9664\u56fe\u7247",b5:"\u70b9\u51fb\u9009\u62e9\u56fe\u7247",b7:"\u56fe\u7247\u5e93",bQ:"\u6e05\u9664\u989c\u8272",bC:"\u5b57\u53f7\uff1a",bD:"\u5b57\u4f53\uff1a",as:"\u5168\u5c4f\u663e\u793a\uff1a",ar:"\u5206\u8fa8\u7387\uff1a",av:"\u7f51\u683c\uff1a",ax:"\u7f51\u683c\u9ad8\uff1a",aw:"\u7f51\u683c\u5bbd\uff1a",ay:"\u62d6\u52a8\u5438\u9644\uff1a",aq:"\u7eb8\u5f20\u5c3a\u5bf8\uff1a",az:"\u80cc\u666f\u56fe\u7247\uff1a",ao:"\u989c\u8272\uff1a",aR:"\u7ebf\u6761\u989c\u8272\uff1a",aS:"\u586b\u5145\u989c\u8272\uff1a",aA:"\u5e73\u94fa\u65b9\u5f0f\uff1a",aB:"\u62c9\u4f38\u94fa\u6ee1",aC:"\u539f\u59cb\u5c3a\u5bf8",aD:"\u6a2a\u5411\u5e73\u94fa",aE:"\u5782\u76f4\u5e73\u94fa",aF:"\u53cc\u5411\u5e73\u94fa",at:"\u81ea\u9002\u5e94",au:"\u5168\u5c4f\u94fa\u6ee1",O:"\u7ed1\u5b9a\u5b57\u6bb5\uff1a",S:"\u9501\u5b9a\u7f16\u8f91\uff1a",bB:"\u6587\u672c",ap:"\u9875\u9762",al:"\u76f4\u7ebf",aT:"\u8d1d\u585e\u5c14",bk:"\u4e09\u89d2\u5f62",bd:"\u56db\u8fb9\u5f62",bc:"\u7ebf\u6bb5",aO:"\u591a\u8fb9\u5f62",b_:"\u692d\u5706",a7:"\u5706\u5fc3X\uff1a",a8:"\u5706\u5fc3Y\uff1a",ba:"\u6c34\u5e73\u534a\u5f84\uff1a",bb:"\u5782\u76f4\u534a\u5f84\uff1a",bi:"\u6c34\u5e73\u5706\u89d2\uff1a",bj:"\u5782\u76f4\u5706\u89d2\uff1a",aK:"\u77e9\u5f62",ah:"\u56fe\u7247",W:"\u5706\u5f62",a6:"\u5706",aM:"\u5e73\u94fa\u56fe",T:"\u6298\u7ebf\u56fe",U:"\u4eea\u8868\u76d8",I:"\u67f1\u72b6\u56fe",V:"\u997c\u56fe",bl:"\u8868\u683c",aN:"\u8bf7\u9009\u62e9\u5e73\u94fa\u56fe\u7247",ak:"\u8bf7\u9009\u62e9\u56fe\u7247",P:"\u900f\u660e\u5ea6\uff1a",bL:"\u5b57\u95f4\u8ddd\uff1a",bO:"\u5185\u5bb9\uff1a",bM:"\u6837\u5f0f\uff1a",bN:"\u6392\u5217\uff1a",bo:"\u5feb\u6377\u76ae\u80a4\uff1a",a9:"\u534a\u5f84\uff1a",b1:"\u52a0\u7c97",b2:"\u659c\u4f53",b3:"\u4e0b\u5212\u7ebf",bV:"\u6c34\u5e73\u5c45\u5de6",bW:"\u6c34\u5e73\u5c45\u4e2d",bX:"\u6c34\u5e73\u5c45\u53f3",bY:"\u5782\u76f4\u5c45\u4e0a",bZ:"\u5782\u76f4\u5c45\u4e2d",b0:"\u5782\u76f4\u5c45\u4e0b",bU:"\u62d6\u52a8\u6570\u636e\u6e90\u5b57\u6bb5\u5230\u8fd9\u91cc",am:"\u957f\uff1a",ai:"\u56fe\u7247\uff1a",ab:"\u8fb9\u6846\u989c\u8272\uff1a",ac:"\u586b\u5145\u989c\u8272\uff1a",an:"\u7ebf\u7c7b\u578b\uff1a",Y:"\u8fb9\u6846\u7c7b\u578b\uff1a",X:"\u8fb9\u6846\u5bbd\u5ea6\uff1a",aL:"\u5706\u89d2\uff1a",Z:"\u5b9e\u7ebf",aa:"\u865a\u7ebf",a_:"\u70b9\u7ebf",aG:"\u56fe\u7247\u5bbd\uff1a",aH:"\u56fe\u7247\u9ad8\uff1a",aj:"\u8fd8\u539f\u5c3a\u5bf8\uff1a",R:"\u56fe\u8868\u6807\u9898\uff1a",aI:"\u6c34\u5e73(%)\uff1a",aJ:"\u5782\u76f4(%)\uff1a",ch:"\u539f\u59cb\u56fe\u7247\u5bbd\u9ad8",bP:"\u8bf7\u8f93\u5165\u5185\u5bb9",C:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u5bbd\u5ea6)\u540c\u6b65\u5bbd\u5ea6",D:"\u4ee5\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6(\u6309\u4e0bshift\u5219\u662f\u6700\u5c0f\u9ad8\u5ea6)\u540c\u6b65\u9ad8\u5ea6",F:"\u4ee5\u5143\u7d20\u4e2d\u5fc3\u70b9(\u6309\u4e0bshift\u5219\u4ee5\u5143\u7d20\u81ea\u8eab)\u5782\u76f4\u5747\u5206\u6392\u5217",E:"\u4ee5\u5143\u7d20\u4e2d\u5fc3\u70b9(\u6309\u4e0bshift\u5219\u4ee5\u5143\u7d20\u81ea\u8eab)\u6c34\u5e73\u5747\u5206\u6392\u5217",aU:"\u8d77\u59cb\u70b9X\uff1a",aV:"\u8d77\u59cb\u70b9Y\uff1a",aW:"\u63a7\u5236\u70b9X\uff1a",aX:"\u63a7\u5236\u70b9Y\uff1a",a2:"\u63a7\u5236\u70b91X\uff1a",a3:"\u63a7\u5236\u70b91Y\uff1a",a4:"\u63a7\u5236\u70b92X\uff1a",a5:"\u63a7\u5236\u70b92Y\uff1a",be:"\u63a7\u5236\u70b93X\uff1a",bf:"\u63a7\u5236\u70b93Y\uff1a",bg:"\u63a7\u5236\u70b94X\uff1a",bh:"\u63a7\u5236\u70b94 Y\uff1a",aY:"\u7ed3\u675f\u70b9X\uff1a",aZ:"\u7ed3\u675f\u70b9Y\uff1a",bm:"\u5217\u5bbd\uff1a",bx:"\u8868\u5934\u80cc\u666f\uff1a",bt:"\u8868\u5934\u884c\u9ad8\uff1a",bu:"\u5185\u5bb9\u884c\u9ad8\uff1a",bA:"\u5947\u6570\u884c\uff1a",bz:"\u5076\u6570\u884c\uff1a",bp:"\u5185\u5bb9\u5bf9\u9f50\uff1a",bq:"\u5c45\u5de6",br:"\u5c45\u4e2d",bs:"\u5c45\u53f3",bn:"\u9875\u811a\u7559\u767d\uff1a",bv:"\u8868\u5934\u5b57\u53f7\uff1a",by:"\u5185\u5bb9\u5b57\u53f7\uff1a",ci:"\u8bf7\u5728\u4e0a\u65b9\u9009\u62e9\u6570\u636e\u6e90",cj:"\u8bf7\u9009\u4e2d\u4e00\u4e2a\u652f\u6301\u6570\u636e\u7ed1\u5b9a\u7684\u7ec4\u4ef6\uff0c\u5982\u8868\u683c\u6216\u56fe\u8868\u4e2d\u7684\u67f1\u72b6\u56fe",bE:"\u5b8b\u4f53",bF:"\u9ed1\u4f53",bI:"\u6977\u4f53",bG:"\u5fae\u8f6f\u96c5\u9ed1",bH:"\u5fae\u8f6f\u6b63\u9ed1\u4f53",bJ:"\u96b6\u4e66",bK:"\u5e7c\u5706",b:"\u4fdd\u5b58\u5185\u5bb9",ck:"\u8bf7\u9009\u62e9\u6570\u636e\u6e90"}}),define("panels/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");let a=[{title:"ca",icon:"&#xe629;",width:100,height:290,left:25,top:90,show:!0,resizeY:!0,id:"p-elements",view:"panels/elements/index"},{title:"cd",icon:"&#xe7ad;",width:180,height:124,show:!0,left:25,bottom:30,id:"p-overview",view:"panels/overview/index",fixedSize:!0},{title:"cc",icon:"&#xe609;",width:200,height:140,show:!0,resizeY:!0,right:260,top:90,id:"p-data",view:"panels/data/index"},{title:"cb",icon:"&#xe7a1;",width:240,height:140,right:10,top:90,show:!0,resizeY:!0,id:"p-props",view:"panels/props/index"}],d=r.default.toMap(a,"id");t.default={_am(){let e=!0;for(let t of a){if(!d[t.id]._){e=!1;break}}return e},"@{close.all.panels}"(){for(let e of a)this._dY(e.id,!0);r.State.fire("r")},"@{open.all.panels}"(){for(let e of a)this._dZ(e.id,!0);r.State.fire("r")},_al(){for(let e of a)e.show&&this._dZ(e.id,!0);r.State.fire("r")},_dZ(e,t){let i=d[e];if(!i._){if(i._=1,i.eId)r.node(i.eId).style.display="block";else{i.eId=r.default.guid("panel_");let e=r.node(r.default.config("rootId"));e.insertAdjacentHTML("beforeend",`<div id="${i.eId}"></div>`);let t=r.Vframe.byNode(e);i.close=(()=>{this._dY(i.id)}),t.mount(r.node(i.eId),"panels/panel",i)}if(!t){r.State.fire("r"),r.Vframe.byNode(r.node(i.eId)).invoke("_z")}}},_dY(e,t){let i=d[e];if(i._){i._=0;let e=r.node(i.eId);e.style.display="none",r.Vframe.byNode(e).invoke("_A"),t||r.State.fire("r")}},_ai(e){d[e]._?this._dY(e):this._dZ(e)},_ah:()=>a}}),define("panels/panel",["magix","../gallery/mx-pointer/cursor","../gallery/mx-dragdrop/index"],(e,t,i)=>{let r={class:"rd-cp rd-i rd-j"},a={class:"rd-w rd-x rd-y"},d={class:"rd-D rd-b rd-e"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../gallery/mx-pointer/cursor"),o=e("../gallery/mx-dragdrop/index");l.default.applyStyle("rd-y",".rd-co{background:hsla(0,0%,100%,.93);position:absolute;box-shadow:0 2px 4px 0 rgba(0,0,0,.3)}.rd-cp{font-size:12px;height:18px;line-height:18px;background:#fa742b;color:#fff}.rd-cq{padding:0 5px;cursor:move;width:calc(100% - 36px)}.rd-cr{width:16px;height:14px;margin:0 1px;font-size:11px;cursor:pointer;display:inline-flex;justify-content:center;align-items:center;border-radius:2px}.rd-cr:hover{background:#e64e30}.rd-cs{overflow:hidden;transition:height .25s}.rd-ct{transition:none}.rd-cu{width:calc(100% - 2px);overflow:auto;float:left}.rd-cv{width:2px;float:right;cursor:ew-resize}.rd-cw,.rd-cv{background:#fafafa}.rd-cw{height:2px;cursor:ns-resize}.rd-cx{scroll-behavior:smooth}.rd-cx::-webkit-scrollbar,.rd-cx::-webkit-scrollbar-corner{height:2px;width:2px;background:#fafafa}");let n=[],p={_aQ(e){n.push(e)},_aP(e){for(let t=n.length;t--;)if(n[t]==e){n.splice(t,1);break}this._d3()},_d3(){for(let e=n.length;e--;)n[e]._d4(300+e)},_d5(e){if(n[n.length-1]!=e){for(let t=n.length;t--;)if(n[t]==e){n.splice(t,1);break}n.push(e),this._d3()}}};t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n,p,c,u,h=[],{width:f,left:g,right:y,top:x,bottom:_,zIndex:b,i18n:m,icon:w,title:k,shrink:v,fixedSize:j,height:A,resizeX:S,view:z,resizeY:M}=e;return c=[t(0,1,l(w))],p=[t("i",a,c),t(0,0,l(m(k)))],n=[t("div",{class:"rd-cq rd-d",title:l(m("b8")),"mx5-mousedown":i+"\x1e\x1e_d7()"},p)],c=[t(0,0,"\ue73a")],u="rd-w rd-cr",v&&(u+=" rd-z"),p=[t("i",{"mx5-click":i+"\x1e\x1e_d9()",title:l(m(v?"ce":"cf",k)),class:u},c)],c=[t(0,0,"\ue635")],p.push(t("i",{class:"rd-cr rd-w","mx5-click":i+"\x1e\x1e_cw()",title:l(m("y",k))},c)),n.push(t("div",d,p)),o=[t("div",r,n)],(n=[]).push(t("div",{style:"width:"+l(S?"calc(100% - 2px)":"100%"),class:"rd-b rd-cu rd-cx rd-k","mx5-view":l(z)})),S||(p=[t("div",{class:"rd-b rd-cv rd-j",title:l(m("b9")),"mx5-mousedown":i+"\x1e\x1e_bR({w:1})"})],n.push(...p)),o.push(t("div",{class:"rd-cs",id:"c_"+i,style:"height:"+l(v?0:j?`${A}px`:`calc(100vh - ${A}px)`)},n)),u="rd-cw rd-j",!v&&M||(u+=" rd-h"),o.push(t("div",{title:l(m("c_")),"mx5-mousedown":i+"\x1e\x1e_bR({h:1})",class:u})),s="width:"+l(f)+"px;",s+=null!=g?"left:"+l(g):"right:"+l(y),s+="px;",s+=null!=x?"top:"+l(x)+"px":"bottom:"+l(_)+"px",s+=";z-index:"+l(b),h.push(t("div",{class:"rd-co",id:"p_"+i,"mx5-mousedown":i+"\x1e_d8()",style:s},o)),t(i,0,h)},init(e){p._aQ(this),this.on("destroy",()=>{p._aP(this)}),this._d6=e.close,this.set({icon:e.icon,title:e.title,width:e.width,height:e.height,left:e.left,top:e.top,right:e.right,bottom:e.bottom,view:e.view,fixedSize:e.fixedSize,resizeX:e.resizeX,resizeY:e.resizeY})},render(){this.digest({zIndex:300+n.length})},"_d7<mousedown>"(e){let t=l.node("p_"+this.id).style,i=this.get("left"),r=this.get("width"),a=0;null==i&&(a=1,i=this.get("right"));let d=this.get("top"),o=0;null==d&&(o=1,d=this.get("bottom"));let n=a?"right":"left",p=o?"bottom":"top",c=0,u=e.eventTarget;this._y(e,l=>{c||(c=1,s.default._z(u));let h=(a?e.pageX-l.pageX:l.pageX-e.pageX)+i;h<0?h=0:h+r>window.innerWidth&&(h=window.innerWidth-r);let f=(o?e.pageY-l.pageY:l.pageY-e.pageY)+d;f<0?f=0:f+18>window.innerHeight&&(f=window.innerHeight-18),t[n]=h+"px",t[p]=f+"px",this.set({[n]:h,[p]:f})},()=>{s.default._A()})},"_bR<mousedown>"(e){let{w:t}=e.params,i=this.get("width"),r=this.get("height"),a=this.get("right"),d=l.node("c_"+this.id);d.classList.add("rd-ct");let o=d.style,n=l.node("p_"+this.id).style,p=0,c=e.eventTarget;this._y(e,d=>{if(p||(p=1,s.default._z(c)),t){let t=d.pageX-e.pageX;t+i<100&&(t=100-i);let l=t+i;n.width=l+"px",(a||0===r)&&(n.right=a-t+"px",this.set({right:a-t})),this.set({width:l})}else{let t=e.pageY-d.pageY+r;o.height=`calc(100vh - ${t}px)`,this.digest({height:t})}},()=>{s.default._A(),d.classList.remove("rd-ct")})},_d4(e){l.node("p_"+this.id).style.zIndex=e},"_d8<mousedown>"(){p._d5(this)},_z(){p._d5(this)},_A(){},"_d9<click>"(){this.digest({shrink:!this.get("shrink")})},"_cw<click>"(){let e=this._d6;e&&l.default.toTry(e)}}).merge(o.default)}),define("panels/data/index",["magix","../../designer/service","../../i18n/index","gallery/mx-dropdown/index"],(e,t,i)=>{let r,a;e("gallery/mx-dropdown/index");let d={class:"rd-F"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../../designer/service");let o=l.default.State;l.default.applyStyle("rd-v",".rd-b8{padding:4px}.rd-b9{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-c_{border:1px solid #e6e6e6;border-radius:2px;margin:2px 0;background-color:#fff}.rd-ca{opacity:.4}");const n=e("../../i18n/index");t.default=l.default.View.extend({tmpl:(e,t,i,l,s,o,n,p)=>{let c,u,h,f,g,y,x,_,b,m=[],{error:w,canUseBind:k,selected:v,source:j,i18n:A,fields:S,bindFieldsMap:z,url:M}=e;if(w)c=[t(0,0,l(w))],m.push(...c);else{if(u=[],k){if((h=[]).push(t("div",{$:"source","mx5-change":i+"\x1e\x1e_dS()","mx5-view":"gallery/mx-dropdown/index?selected="+s(v)+"&list="+n(o,j,"\x1ej")+"&textKey=name&valueKey=id"})),r?h.push(r):h.push(r=t("div",{_:"_",class:"rd-b9"})),v){if(f=[],S){g=[];for(let e=S.length,r=0;r<e;r+=1){let e=S[r];a?_=[a]:(b=[t(0,0,"\ue69c")],_=[a=t("span",{_:"a",class:"rd-w"},b)]),b=[t(0,0,l(e.name))],_.push(t("span",0,b)),x="rd-c_",z[e.id]&&(x+=" rd-ca"),y=[t("div",{draggable:!z[e.id]&&"true","mx5-dragstart":i+"\x1e\x1e_dT({url:'"+p(M)+"',field:'"+n(o,e,"\x1ek."+r)+"',id:'"+p(v)+"'})",class:x},_)],g.push(...y)}f.push(...g)}h.push(...f)}else g=[t(0,0,l(A("ci")))],f=[t("div",d,g)],h.push(...f);u.push(...h)}else h=[t(0,0,l(A("cj")))],u.push(...h);c=[t("div",{class:"rd-b8 rd-j","mx5-contextmenu":i+"\x1e_C()"},u)],m.push(...c)}return t(i,0,m)},_dR(){let e=this._b(this._dQ,100);o.on("q",e),o.on("e",e),o.on("_",e)},assign:()=>!1,_dQ(){let e,t=o.get("_7"),i=!1,r={};if(t&&1==t.length){let a=t[0],{bind:d}=a.props;if(d){let{url:t,fields:a,id:s}=d;if(i=!0,t&&(e=t),a&&(r=l.default.toMap(a,"id")),s){let e=this.get("source"),t=l.default.toMap(e,"id")[s];this.set({selected:t?s:"",fields:t?t.fields:[],url:t?t.url:""})}}}this.digest({canUseBind:i,bindUrl:e,bindFieldsMap:r})},render(){this.digest({error:"\u6b63\u5728\u8f7d\u5165\u6570\u636e\u6e90..."});let e=l.default.mark(this,"_n");this.fetch("_aD",(t,i)=>{if(e()){let e=[{name:n.default("ck"),id:""},...i.get("data",[])];this.set({error:t,source:e,selected:""}),this._dQ(),this._dR()}})},"_dS<change>"(e){this.digest({url:e.item.url,fields:e.item.fields,selected:e.value})},"_dT<dragstart>"(e){let t=e.params;o.set({_cO:t}),e.dataTransfer.setData("text/plain","fix ff")},"_C<contextmenu>"(e){e.preventDefault()}}).merge(s.default)}),define("panels/elements/index",["magix","../../designer/transform","../../designer/stage-elements"],(e,t,i)=>{let r={class:"rd-ce rd-w"},a={class:"rd-l"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../../designer/transform"),s=e("../../designer/stage-elements");d.default.applyStyle("rd-w",".rd-cb{padding:5px 2px}.rd-cc{display:flex;align-items:center;padding:0 2px;color:#333;height:22px;line-height:22px;cursor:pointer;margin:1px 0}.rd-cc:hover{background:#f0f0f0}.rd-cd,.rd-cd:hover{background:#fcb58f}.rd-ce{margin:0 4px 0 2px;font-size:12px}.rd-cf{background:#fa742b;opacity:.4}.rd-cg-top{box-shadow:0 -1px #fa742b}.rd-cg-bottom{box-shadow:0 1px #fa742b}");let o=d.default.guid("rp_"),n={_L(){d.node(o)||document.body.insertAdjacentHTML("beforeend",`<div class="rd-f rd-cf" id="${o}"></div>`)},_z(e){let t=d.node(o).style,{props:i}=e,r=l.default._bx(i);t.left=r.x+"px",t.top=r.y+"px",t.width=i.width+"px",t.height=i.height+"px";let a=i.rotate||0;t.transform=`rotate(${a}deg)`},_A(){d.node(o).style.left="-10000px"}};t.default=d.default.View.extend({tmpl:(e,t,i,d,l,s,o)=>{let n,p,c,u,h,f=[],{elements:g,selectedMap:y,drag:x,index:_,onTop:b,i18n:m}=e;n=[];for(let e=g.length;e--;){let l=g[e];h=[t(0,1,d(l.ctrl.icon))],u=[t("i",r,h)],h=[t(0,0,d(m(l.ctrl.title)))],u.push(t("div",a,h)),c="rd-cc",y[l.id]&&(c+=" rd-cd"),x&&e==_&&(c+=" rd-cg-"+d(b?"top":"bottom")),p=[t("div",{"mx5-mouseover":i+"\x1e\x1e_dU({element:'"+o(s,l,"\x1e_."+e)+"'})","mx5-mouseout":i+"\x1e\x1e_dV()","mx5-click":i+"\x1e\x1e_dW({element:'"+o(s,l,"\x1e_."+e)+"'})","mx5-dragstart":i+"\x1e\x1e_cQ({index:"+d(e)+"})","mx5-dragover":i+"\x1e\x1e_cR({index:"+d(e)+"})",draggable:"true",class:c},u)],n.push(...p)}return f.push(t("div",{class:"rd-cb rd-j","mx5-dragend":i+"\x1e_dX()"},n)),t(i,0,f)},init(){n._L();let e=this.render.bind(this);d.State.on("_",e),d.State.on("c",e),d.State.on("q",e)},render(){let e=d.State.get("_6"),t=d.State.get("_ag");this.digest({selectedMap:t,elements:e})},"_dU<mouseover>"(e){if(!d.default.inside(e.relatedTarget,e.eventTarget)){let{element:t}=e.params;n._z(t)}},"_dV<mouseout>"(e){d.default.inside(e.relatedTarget,e.eventTarget)||n._A()},"_dW<click>"(e){let{element:t}=e.params;s.default._aR(e,t)},"_cQ<dragstart>"(e){this._cL=e.params.index,this._cM=e.eventTarget,e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain","fix ff")},"_cR<dragover>"(e){let t=this;if(t._cM!=e.eventTarget){e.dataTransfer.dropEffect="move";let i=e.eventTarget.getBoundingClientRect(),r=i.top+i.height/2>e.pageY,a=e.params.index;t.digest({onTop:r,drag:!0,index:a})}else e.dataTransfer.dropEffect="none",t.digest({drag:!1})},"_dX<dragend>"(e){let t=this,i=t.get();if(i.drag){let e=t._cL,r=i.elements[e];i.elements.splice(i.index+(i.onTop?1:0),0,r),i.index<e?i.elements.splice(e+1,1):i.elements.splice(e,1),t.set({elements:i.elements}),d.State.fire("c")}t.digest({drag:!1})}})}),define("panels/overview/index",["magix","../../gallery/mx-dragdrop/index","../../gallery/mx-pointer/cursor"],(e,t,i)=>{let r={class:"rd-cj"},a={class:"rd-cn rd-w"};Object.defineProperty(t,"__esModule",{value:!0});const d=e("magix"),l=e("../../gallery/mx-dragdrop/index"),s=e("../../gallery/mx-pointer/cursor");d.default.applyStyle("rd-x",".rd-ch{transition:all .25s}.rd-ci{transition:width,height .25s}.rd-cj{padding:2px 0}.rd-ck{background:#edeef3;position:relative;overflow:hidden;box-shadow:inset 1px 1px 6px 2px #dadada}.rd-cl{position:absolute;box-shadow:inset 0 0 1px 1px #fa742b;cursor:move}.rd-cm{background:#fcb58f;position:absolute;display:flex;align-items:center;justify-content:center;overflow:hidden}.rd-cn{transform:scale(.5);color:#fff}");let o=[80,280,80,120],n=[180,120];t.default=d.default.View.extend({tmpl:(e,t,i,d)=>{let l,s,o,n,p,c,u,h=[],{width:f,height:g,centerMargin:y,page:x,pageWidth:_,pageHeight:b,canvasMargin:m,elements:w,ratio:k,left:v,top:j,viewportWidth:A,viewportHeight:S}=e;o=[];for(let e=w.length,r=0;r<e;r+=1){let{id:e,props:l,type:s,ctrl:h}=w[r];n=[];let f=Math.max(l.width*k,1),g=Math.max(l.height*k,1),y=(l.radius?l.radius*k:0)+"px";"circle"==s&&(y="50%"),u=[t(0,1,d(h.icon))],p=[t("i",a,u)],c="left:"+d(l.x*k)+"px;top:"+d(l.y*k)+"px;width:"+d(f)+"px;height:"+d(g)+"px;",l.rotate&&(c+="transform:rotate("+d(l.rotate)+"deg);"),c+="border-radius:"+d(y),n.push(t("div",{id:i+"_"+d(e),class:"rd-ch rd-cm",style:c},p)),o.push(...n)}return s=[t("div",{style:"position:relative;background:"+d(x.background)+";width:"+d(_)+"px;height:"+d(b)+"px;margin:"+d(m)},o),t("div",{class:"rd-ci rd-cl",style:"left:"+d(v)+"px;top:"+d(j)+"px;width:"+d(A)+"px;height:"+d(S)+"px","mx5-mousedown":i+"\x1e_d2()"})],l=[t("div",{class:"rd-ch rd-ck",style:"width:"+d(f)+"px;height:"+d(g)+"px;margin:"+d(y)},s)],h.push(t("div",r,l)),t(i,0,h)},init(){let e=d.node("stage"),t=this._b(this.render);d.State.on("_",t),d.State.on("f",t),d.State.on("c",t),d.State.on("d",t),d.State.on("e",t),e.addEventListener("scroll",this._d0.bind(this)),this._d1=t},_d0(){let e=d.node("stage"),t=this.get("ratio");if(t){let i=this.get("width"),r=this.get("height"),a=this.get("viewportWidth"),d=this.get("viewportHeight");this.digest({left:Math.min(e.scrollLeft*t,i-a),top:Math.min(e.scrollTop*t,r-d)})}},render(){let e=d.default.mark(this,"_n"),t=()=>{if(e()){if(!d.node("stage_canvas"))return void setTimeout(t,20);let e=d.State.get("_5"),i=d.State.get("_d"),r=d.node("stage"),a=r.scrollWidth,l=r.scrollHeight,s=n[0],p=s/a,c=p*l;c>n[1]&&(s=(p=(c=n[1])/l)*a);let u=p*e.width*i,h=p*e.height*i,f="";for(let e of o)f+=p*e+"px ";let g=`${(n[1]-c)/2}px ${(n[0]-s)/2}px`,y=Math.min(r.offsetWidth,a)*p,x=Math.min(r.offsetHeight,l)*p;this.set({width:s,height:c,page:e,pageWidth:u,pageHeight:h,ratio:p,elements:d.State.get("_6"),viewportHeight:x,viewportWidth:y,canvasMargin:f,centerMargin:g}),this._d0()}};setTimeout(t,20)},"_d2<mousedown>"(e){let t=this.get("left"),i=this.get("top"),r=this.get("viewportWidth"),a=this.get("viewportHeight"),l=this.get("width"),o=this.get("height"),n=d.node("stage"),p=this.get("ratio");s.default._M("move"),this._y(e,d=>{let s=t+d.pageX-e.pageX,c=i+d.pageY-e.pageY;s<0?s=0:s>l-r&&(s=l-r),c<0?c=0:c>o-a&&(c=o-a),n.scrollLeft=s/p,n.scrollTop=c/p},()=>{s.default._O()})},"$win<resize>"(){this._d1()}}).merge(l.default)}),define("panels/props/index",["magix","../../designer/props","../../designer/history","../../designer/transform","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-font/style","gallery/mx-font/align","gallery/mx-dropdown/index","gallery/mx-picture/index","gallery/mx-field/index","gallery/mx-column/index","gallery/mx-table/style","./page"],(e,t,i)=>{let r,a,d;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-font/style"),e("gallery/mx-font/align"),e("gallery/mx-dropdown/index"),e("gallery/mx-picture/index"),e("gallery/mx-field/index"),e("gallery/mx-column/index"),e("gallery/mx-table/style"),e("./page");let l={class:"rd-cy rd-j"},s={class:"rd-cz"},o={class:"rd-cA"},n={class:"rd-cF"},p={checked:"checked"},c={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});const u=e("magix"),h=e("../../designer/props"),f=e("../../designer/history"),g=e("../../designer/transform");u.default.applyStyle("rd-z",'.rd-cy{padding:4px;min-width:200px}.rd-cz{line-height:24px;display:flex;align-items:center;padding:2px 0}.rd-cA{width:80px;text-align:right}.rd-cB{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.rd-cC{width:140px}.rd-cD{height:90px}.rd-cE{align-items:flex-start}.rd-cF{display:flex;align-items:center;cursor:pointer}.rd-cG{visibility:hidden;position:absolute}.rd-cH{width:32px;height:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;border-radius:22px;background:#ccc}.rd-cH:before{content:"";width:12px;height:12px;position:absolute;left:0;margin:2px;border-radius:50%;background:#fff;transition:all .25s}.rd-cG:checked+.rd-cH{background:#fa742b}.rd-cG:checked+.rd-cH:before{left:100%;margin-left:-14px}.rd-cG:disabled+.rd-cH{background:#e6e6e6;cursor:not-allowed}'),t.default=u.default.View.extend({tmpl:(e,t,i,u,h,f,g,y)=>{let x,_,b,m,w,k,v,j,A,S,z,M=[],{elements:Y,i18n:X,props:P}=e;if(1==Y.length){let e=Y[0];b=[],w=[t(0,0,u(X("cg")))],m=[t("span",o,w)],w=[t(0,0,u(X(e.ctrl.title)))],m.push(t("span",0,w)),b.push(t("li",s,m));for(let d=e.ctrl.props,l=d.length,s=0;s<l;s+=1){let l=d[s];if(m=[],l.type==P._ap)w=r?[r]:[r=t("li",{_:"_",class:"rd-cB"})],m.push(...w);else{w=[];let r=e.props[l.key];l.read&&(r=l.read(r)),!l.type||l.ifShow&&!l.ifShow(e.props)||(j=[],A=[t(0,0,u(X(l.tip)))],j.push(t("span",o,A)),l.type==P._aA?(A=[t(0,0,u(r))],j.push(...A)):l.type==P._an?(S="gallery/mx-number/index?value="+g(f,r,"\x1e_.0.e."+l.key),null!=(x=l.max)&&(S+="&max="+h(x)),null!=(x=l.step)&&(S+="&step="+h(x)),null!=(x=l.fixed)&&(S+="&fixed="+h(x)),null!=(x=l.min)&&(S+="&min="+h(x)),A=[t("div",{$:"elements",class:"rd-cC rd-g rd-t",disabled:e.props.locked,"mx5-input":i+"\x1e_e_({key:'"+y(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"',write:'"+g(f,l.write,"\x1e_.0.l."+s+".m")+"'})","mx5-view":S})],j.push(...A)):l.type==P._ao?(A=[t("div",{$:"elements",class:"rd-cC","mx5-input":i+"\x1e_e_({key:'"+y(l.key)+"',use:'color',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-color/index?clear="+h(l.clear)+"&color="+g(f,r,"\x1e_.0.e."+l.key)+"&align=right&disabled="+h(e.props.locked)+"&alpha="+h(l.alpha)})],j.push(...A)):l.type==P._aq?(z=[t("input",{class:"rd-cG",type:"checkbox",checked:e.props[l.key],"mx5-change":i+"\x1e_e_({key:'"+y(l.key)+"',native:'checked',element:'"+g(f,e,"\x1e_.0")+"',refresh:'"+g(f,l.refresh,"\x1e_.0.l."+s+".n")+"'})"},0,p,1)],a?z.push(a):z.push(a=t("i",{_:"a",class:"rd-cH"})),A=[t("label",n,z)],j.push(...A)):l.type==P._at?(A=[t("textarea",{class:"rd-cC rd-cD rd-u",disabled:e.props.locked,"mx5-input":i+"\x1e_e_({key:'"+y(l.key)+"',native:'value',element:'"+g(f,e,"\x1e_.0")+"'})",value:u(r)},0,c)],j.push(...A)):l.type==P._ar?(A=[t("div",{$:"elements",class:"rd-cC","mx5-input":i+"\x1e_e_({key:'"+y(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-font/style?disabled="+g(f,e.props.locked,"\x1e_.0.o")+"&value="+g(f,r,"\x1e_.0.e."+l.key)})],j.push(...A)):l.type==P._as?(A=[t("div",{$:"elements",class:"rd-cC","mx5-input":i+"\x1e_e_({key:'"+y(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-font/align?disabled="+g(f,e.props.locked,"\x1e_.0.o")+"&value="+g(f,r,"\x1e_.0.e."+l.key)})],j.push(...A)):l.type==P._av?(S="gallery/mx-dropdown/index?",(x=e.props.locked)&&(S+="disabled="+g(f,x,"\x1e_.0.o")),S+="&selected="+h(r)+"&list="+g(f,l.items,"\x1e_.0.l."+s+".p")+"&textKey=text&valueKey=value",A=[t("div",{$:"elements",class:"rd-cC","mx5-change":i+"\x1e_e_({key:'"+y(l.key)+"',use:'value',element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":S})],j.push(...A)):l.type==P._au?(A=[t("div",{$:"elements",class:"rd-cC","mx5-change":i+"\x1e_e_({key:'"+y(l.key)+"',use:'src',refresh:'"+g(f,l.refresh,"\x1e_.0.l."+s+".n")+"',element:'"+g(f,e,"\x1e_.0")+"',write:'"+g(f,l.write,"\x1e_.0.l."+s+".m")+"'})","mx5-view":"gallery/mx-picture/index?src="+h(r)+"&disabled="+g(f,e.props.locked,"\x1e_.0.o")})],j.push(...A)):l.type==P._aw?(z=[t(0,0,u(X("ch")))],A=[t("button",{class:"rd-m rd-n",disabled:e.props.locked,"mx5-click":i+"\x1e_ea({key:'"+y(l.key)+"',element:'"+g(f,e,"\x1e_.0")+"'})"},z)],j.push(...A)):l.type==P._ax?(A=[t("input",{class:"rd-t",disabled:e.props.locked,"mx5-input":i+"\x1e_e_({key:'"+y(l.key)+"',native:'value',element:'"+g(f,e,"\x1e_.0")+"'})"},0,0,1)],j.push(...A)):l.type==P._ay?(A=[t("div",{$:"elements",class:"rd-cC","mx5-change":i+"\x1e_e_({key:'"+y(l.key)+"',use:'bindField',refresh:1,element:'"+g(f,e,"\x1e_.0")+"'})","mx5-view":"gallery/mx-field/index?props="+g(f,e.props,"\x1e_.0.e")+"&disabled="+g(f,e.props.locked,"\x1e_.0.o")})],j.push(...A)):l.type==P._az?(S="gallery/mx-column/index?",null!=(x=l.min)&&(S+="min="+h(x)),null!=(x=l.max)&&(S+="&max="+h(x)),S+="&columns="+g(f,r,"\x1e_.0.e."+l.key)+"&fields="+g(f,e.props.bind.fields,"\x1e_.0.q")+"&disabled="+g(f,e.props.locked,"\x1e_.0.o"),A=[t("div",{$:"elements",class:"rd-cC","mx5-change":i+"\x1e_e_({key:'"+y(l.key)+"',use:'columns',element:'"+g(f,e,"\x1e_.0")+"',write:'"+g(f,l.write,"\x1e_.0.l."+s+".m")+"'})","mx5-view":S})],j.push(...A)):l.type==P._aB&&(A=[t("div",{$:"elements",class:"rd-cC","mx5-change":i+"\x1e_e_({use:'skin',element:'"+g(f,e,"\x1e_.0")+"',write:'"+g(f,l.write,"\x1e_.0.l."+s+".m")+"',refresh:1})","mx5-view":"gallery/mx-table/style?disabled="+g(f,e.props.locked,"\x1e_.0.o")})],j.push(...A)),v="rd-cz",l.dockTop&&(v+=" rd-cE"),k=[t("li",{class:v},j)],w.push(...k)),m.push(...w)}b.push(...m)}_=[t("ul",l,b)],M.push(..._)}else _=d?[d]:[d=t("div",{_:"b","mx5-view":"panels/props/page"})],M.push(..._);return t(i,0,M)},init(){let e=this._b(this.render,100);u.State.on("q",e),u.State.on("d",e),u.State.on("_",e)},render(){this.digest({scale:u.State.get("_d"),props:h.default,elements:u.State.get("_7")})},"_e_<input,change>"(e){let{key:t,use:i,element:r,refresh:a,native:d,write:l}=e.params;if(i||d){let s,{ctrl:o,props:n}=r,p="width"==t||"height"==t,c="rx"==t||"ry"==t;(p||c)&&(s=g.default._a6(n));let u=d?e.eventTarget[d]:e[i];if(l&&(u=l(u,n,e)),t&&(n[t]=u),c)o._bV(n,s),a=!0;else if(p){let e=g.default._a6(n);n.x+=s.x-e.x,n.y+=s.y-e.y,a=!0}o._a1&&o._a1(n)}a&&this.render(),u.State.fire("e");let s=u.node(r.id),o=u.Vframe.byNode(s);o&&o.invoke("_bg",[r]),f.default._u("a"+t,500)},"_ea<click>"(e){let{key:t,element:i}=e.params,r=i.props,a=g.default._a6(r),d=new Image;d.onload=(()=>{r.width=d.width,r.height=d.height;let e=g.default._a6(r);r.x+=a.x-e.x,r.y+=a.y-e.y,this.render(),u.State.fire("e");let l=u.node(i.id),s=u.Vframe.byNode(l);s&&s.invoke("_bg",[i]),f.default._u("a"+t,500)}),d.src=r[t]}})}),define("panels/props/page",["magix","../../designer/history","../../designer/props","gallery/mx-number/index","gallery/mx-color/index","gallery/mx-picture/index","gallery/mx-dropdown/index"],(e,t,i)=>{let r,a;e("gallery/mx-number/index"),e("gallery/mx-color/index"),e("gallery/mx-picture/index"),e("gallery/mx-dropdown/index");let d={class:"rd-cy rd-j"},l={class:"rd-cz"},s={class:"rd-cA"},o={class:"rd-cF"},n={checked:"checked"};Object.defineProperty(t,"__esModule",{value:!0});const p=e("magix"),c=e("../../designer/history"),u=e("../../designer/props");t.default=p.default.View.extend({tmpl:(e,t,i,p,c,u,h,f)=>{let g,y,x,_,b,m,w,k,v,j=[],{i18n:A,ctrl:S,props:z,page:M}=e;y=[],_=[t(0,0,p(A("cg")))],x=[t("span",s,_)],_=[t(0,0,p(A(S.title)))],x.push(t("span",0,_)),y.push(t("li",l,x));for(let e=S.props,d=e.length,l=0;l<d;l+=1){let d=e[l];x=[],d.type==z._ap?(_=r?[r]:[r=t("li",{_:"_",class:"rd-cB"})],x.push(..._)):d.ifShow&&!d.ifShow(M)||(m=[],w=[t(0,0,p(A(d.tip)))],m.push(t("span",s,w)),d.type==z._an?(k="gallery/mx-number/index?value="+h(u,M[d.key],"\x1er."+d.key),null!=(g=d.max)&&(k+="&max="+c(g)),null!=(g=d.step)&&(k+="&step="+c(g)),null!=(g=d.fixed)&&(k+="&fixed="+c(g)),null!=(g=d.min)&&(k+="&min="+c(g)),w=[t("div",{$:"page,ctrl",class:"rd-cC rd-g rd-t","mx5-input":i+"\x1e_e_({key:'"+f(d.key)+"',refresh:'"+h(u,d.refresh,"\x1el."+l+".n")+"',write:'"+h(u,d.write,"\x1el."+l+".m")+"',use:'value'})","mx5-view":k})],m.push(...w)):d.type==z._ao?(k="gallery/mx-color/index?clear="+c(d.clear)+"&color="+h(u,M[d.key],"\x1er."+d.key)+"&align=right",null!=(g=d.alpha)&&(k+="&alpha="+c(g)),w=[t("div",{$:"page,ctrl",class:"rd-cC","mx5-input":i+"\x1e_e_({key:'"+f(d.key)+"',use:'color',refresh:'"+h(u,d.refresh,"\x1el."+l+".n")+"'})","mx5-view":k})],m.push(...w)):d.type==z._au?(w=[t("div",{class:"rd-cC","mx5-change":i+"\x1e_e_({key:'"+f(d.key)+"',use:'src',refresh:'"+h(u,d.refresh,"\x1el."+l+".n")+"',write:'"+h(u,d.write,"\x1el."+l+".m")+"'})","mx5-view":"gallery/mx-picture/index?src="+c(M[d.key])})],m.push(...w)):d.type==z._av?(w=[t("div",{$:"ctrl",class:"rd-cC","mx5-change":i+"\x1e_e_({key:'"+f(d.key)+"',use:'value',refresh:'"+h(u,d.refresh,"\x1el."+l+".n")+"',write:'"+h(u,d.write,"\x1el."+l+".m")+"'})","mx5-view":"gallery/mx-dropdown/index?selected="+c(M[d.key])+"&list="+h(u,d.items,"\x1el."+l+".p")+"&textKey=text&valueKey=value"})],m.push(...w)):d.type==z._aq&&(v=[t("input",{class:"rd-cG",type:"checkbox",checked:M[d.key],"mx5-change":i+"\x1e_e_({key:'"+f(d.key)+"',native:'checked',refresh:'"+h(u,d.refresh,"\x1el."+l+".n")+"'})"},0,n,1)],a?v.push(a):v.push(a=t("i",{_:"a",class:"rd-cH"})),w=[t("label",o,v)],m.push(...w)),b="rd-cz",d.dockTop&&(b+=" rd-cE"),_=[t("li",{class:b},m)],x.push(..._)),y.push(...x)}return j.push(t("ul",d,y)),t(i,0,j)},init(){let e=this.render.bind(this);p.State.on("_",e)},render(){this.digest({props:u.default,ctrl:p.State.get("_aj"),page:p.State.get("_5")})},"_e_<input,change>"(e){let{key:t,use:i,refresh:r,native:a,write:d}=e.params,l=p.State.get("_5"),s=a?e.eventTarget[a]:e[i];d&&(s=d(s,l,e)),l[t]=s,c.default._u("b",500),p.State.fire("b"),r&&this.render()}})}),define("elements/designer",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","../designer/history","../designer/transform"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("../gallery/mx-dragdrop/index"),l=e("../gallery/mx-pointer/cursor"),s=e("../designer/history"),o=e("../designer/transform"),n={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3};let p={};a.State.on("q",()=>{for(let e in p){let t=a.Vframe.byId(e);t&&(t.invoke("_bP"),t.invoke("render"))}});let c=a.default.View.extend({tmpl:(e,t,i,a,d,l,s)=>{let o,n,p,c,u,h,f,g,y,x=[],{element:_,view:b,fullscreen:m,selected:w,grouped:k,count:v,i18n:j}=e,A=_.props,S=_.ctrl;_.type,_.id;x.push(t("div",{$:"element",class:"rd-j","mx5-view":a(b)+"?props="+s(l,A,"\x1ef"),id:"entity_"+i}));let z=A.rotate%360;if(c=[],!m&&!A.locked){if(u=[],w){if(h=[],r?h.push(r):h.push(r=t("div",{_:"_",class:"rd-av"})),1==v&&S.modifier&&S.modifier.rotate){if((f=[]).push(t("div",{class:"rd-aE rd-f","mx5-mousedown":i+"\x1e_bQ()",title:a(j("ad"))})),S.modifier){g=[],o="";let e=Math.min(20,A.height-3)-4;o+=" ";let r=Math.min(20,A.width)-4;o+=" ";let d=Math.max(Math.min(r,e)-2,0);o+=" ",r=Math.min(r,A.width-d-6),o+=" ",e=Math.min(e,A.height-d-6-3),o+=" ";let l=(A.height-e-d+3)/2;if(S.modifier.width&&(n="height:"+a(Math.max(e,0))+"px;top:"+a(l)+"px;cursor:",z<=22.5||z>337.5||z>157.5&&z<=202.5?n+="ew":z<=67.5||z>202.5&&z<=247.5?n+="nwse":z<=112.5||z>247.5&&z<=292.5?n+="ns":(z<=157.5||z>292.5&&z<=337.5)&&(n+="nesw"),n+="-resize",y=[t("div",{class:"rd-aB rd-f",title:a(j("ae")),"mx5-mousedown":i+"\x1e_bR({key:'rm'})",style:n})],g.push(...y)),S.modifier.height){let e=(A.width-r-d)/2;n="width:"+a(Math.max(r,0))+"px;left:"+a(e)+"px;cursor:",z<=22.5||z>337.5||z>157.5&&z<=202.5?n+="ns":z<=67.5||z>202.5&&z<=247.5?n+="nesw":z<=112.5||z>247.5&&z<=292.5?n+="ew":(z<=157.5||z>292.5&&z<=337.5)&&(n+="nwse"),n+="-resize",y=[t("div",{class:"rd-aC rd-f",title:a(j("af")),"mx5-mousedown":i+"\x1e_bR({key:'mb'})",style:n})],g.push(...y)}S.modifier.width&&S.modifier.height&&(n="",0==d&&(n+="display:none;"),n+="width:"+a(d)+"px;height:"+a(d)+"px;cursor:",z<=22.5||z>337.5||z>157.5&&z<=202.5?n+="nwse":z<=67.5||z>202.5&&z<=247.5?n+="ns":z<=112.5||z>247.5&&z<=292.5?n+="nesw":(z<=157.5||z>292.5&&z<=337.5)&&(n+="ew"),n+="-resize",y=[t("div",{class:"rd-aD rd-f",title:a(j("ag")),"mx5-mousedown":i+"\x1e_bR({key:'rb'})",style:n})],g.push(...y)),f.push(...g)}h.push(...f)}u.push(...h)}c.push(...u)}return n="left:"+a(A.x)+"px;top:"+a(A.y)+"px;width:"+a(A.width)+"px;height:"+a(A.height)+"px;",z&&(n+="transform:rotate("+a(z)+"deg);"),p="rd-f rd-j",m||(p+=" rd-aw"),w&&!m&&(p+=" ",A.locked?p+="rd-ay":p+="rd-ax"),k&&(A.locked?p+=" rd-aA":p+=" rd-az"),x.push(t("div",{id:"mask_"+a(_.id),style:n,class:p},c)),t(i,0,x)},ctor(){p[this.id]=1,this.on("destroy",()=>{delete p[this.id]})},_bP(){let e=a.State.get("_ag"),t=a.State.get("_7").length,i=this.get().element.id,r=a.State.get("_8")[i],d=0;if(!e[i]&&r)for(let t of r)if(e[t]){d=1;break}this.set({grouped:d,selected:a.has(e,i),count:t})},assign(e){this.set(e),this._bP()},render(){this.digest()},_bg(e){this.digest({element:e})},"_bQ<mousedown>"(e){e.stopPropagation();let t=this.get("element"),i=t.props,{rotate:r,x:d,y:n,width:p,height:c}=i;a.State.fire("o",{show:1,size:1});let u=d+p/2,h=n+c/2,f=o.default._be({x:e.pageX,y:e.pageY}),g=Math.atan2(f.y-h,f.x-u)-r*Math.PI/180,y=!1;this._y(e,r=>{y||l.default._z(e.eventTarget),y=!0,f=o.default._be({x:r.pageX,y:r.pageY});let d=Math.atan2(f.y-h,f.x-u);d=180*(d-g)/Math.PI,i.rotate=(360+(0|d))%360,this.digest({element:t}),a.State.fire("d")},()=>{l.default._A(),y&&s.default._u(),a.State.fire("o",{hide:1})})},"_bR<mousedown>"(e){if(e.button)return;e.stopPropagation();let t=this,i=t.get("element"),{props:r,ctrl:d}=i;a.State.fire("o",{show:1,size:1});let p=r.rotate||0,{key:c}=e.params;p=(p+360)%360,0==r.width&&(r.width=.01),0==r.height&&(r.height=.01);let u=r.width,h=r.height,f=r.x,g=r.y,y=0,x=0,_=Number.MAX_VALUE,b=Number.MAX_VALUE;for(let e of d.props)"width"==e.key?(a.default.has(e,"max")&&(_=e.max),a.default.has(e,"min")&&(y=e.min)):"height"==e.key&&(a.default.has(e,"max")&&(b=e.max),a.default.has(e,"min")&&(x=e.min));let m=o.default._aV(r,p),w=o.default._bE(m.point,c),{_bC:k,_bD:v,_bB:j}=w,A=v.x,S=v.y,z=Math.abs(j.x-A),M=Math.abs(j.y-S),Y={x:f,y:g,rotate:p,width:u,height:h},X=e.pageX,P=e.pageY,R=!1;t._y(e,d=>{R||l.default._z(e.eventTarget);let s={x:1,y:1};R=!0;let c=z>M,u=1,h=d.pageX-X,f=d.pageY-P;0==k||7==k?c&&p>90&&p<270?h=-h:!c&&p>180&&p<360&&(f=-f):0!=k&&1!=k||(c&&p>45&&p<135?h=-h:!c&&p>90&&p<270&&(f=-f)),(u=c?(h+z)/z:(f+M)/M)<0&&(u=0);let g=n[k];1===g?s.x=s.y=u:2===g?s.y=u:3===g&&(s.x=u);let w=o.default._bG(Y,s,m,k),v=w.width,j=w.height;v<y?v=y:v>_&&(v=_),j<x?j=x:j>b&&(j=b),v==r.width&&j==r.height||(r.x=w.left,r.y=w.top,r.width=v,r.height=j,t.digest({element:i}),a.State.fire("d"))},()=>{R&&(s.default._u(),l.default._A()),a.State.fire("o",{hide:1})})}});t.default=c.merge(d.default)}),define("elements/index",["magix","./line/designer","./svg-bezier3/designer","./rect/designer","./circle/designer","./text/designer","./image/designer","./repeat/designer","./page/designer","./chart-line/designer","./chart-meter/designer","./chart-bar/designer","./chart-pie/designer","./table/designer","./svg-triangle/designer","./svg-rect/designer","./svg-line/designer","./svg-arrow/designer","./svg-bezier2/designer","./svg-ellipse/designer","./svg-rect2/designer","./svg-circle/designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("./line/designer"),d=e("./svg-bezier3/designer"),l=e("./rect/designer"),s=e("./circle/designer"),o=e("./text/designer"),n=e("./image/designer"),p=e("./repeat/designer"),c=e("./page/designer"),u=e("./chart-line/designer"),h=e("./chart-meter/designer"),f=e("./chart-bar/designer"),g=e("./chart-pie/designer"),y=e("./table/designer"),x=e("./svg-triangle/designer"),_=e("./svg-rect/designer"),b=e("./svg-line/designer"),m=e("./svg-arrow/designer"),w=e("./svg-bezier2/designer"),k=e("./svg-ellipse/designer"),v=e("./svg-rect2/designer"),j=e("./svg-circle/designer");let A=[a.default,d.default,x.default,_.default,b.default,m.default,w.default,k.default,v.default,j.default,l.default,s.default,o.default,n.default,p.default,u.default,h.default,f.default,g.default,y.default],S=r.toMap(A,"type"),z=[{ctrl:a.default},{ctrl:l.default},{ctrl:s.default},{ctrl:o.default},{ctrl:n.default},{ctrl:p.default},{ctrl:y.default},{spliter:!0},{icon:"&#xe688;",title:"\u56fe\u8868",subs:[{ctrl:u.default},{ctrl:h.default},{ctrl:f.default},{ctrl:g.default},{ctrl:u.default},{ctrl:h.default},{ctrl:f.default},{ctrl:g.default}]},{icon:"&#xe60a;",title:"SVG",subs:[{ctrl:b.default},{ctrl:w.default},{ctrl:d.default},{ctrl:x.default},{ctrl:_.default},{ctrl:v.default},{ctrl:j.default},{ctrl:k.default},{ctrl:m.default}]},{icon:"&#xe650;",title:"\u5929\u7136\u6c14",image:!0,subs:[{ctrl:n.default,image:"https://image.flaticon.com/icons/png/128/357/357603.png",props:{image:"https://image.flaticon.com/icons/png/128/357/357603.png",width:128,height:128}},{ctrl:p.default,image:"https://image.flaticon.com/icons/png/128/357/357633.png",props:{image:"https://image.flaticon.com/icons/png/128/357/357633.png",width:256,height:256,imageWidth:128,imageHeight:128}},{ctrl:n.default,image:"https://image.flaticon.com/icons/png/128/357/357580.png",props:{image:"https://image.flaticon.com/icons/png/128/357/357580.png",width:128,height:128}},{ctrl:n.default,image:"https://image.flaticon.com/icons/png/128/357/357579.png",props:{image:"https://image.flaticon.com/icons/png/128/357/357579.png",width:128,height:128}},{ctrl:n.default,image:"https://image.flaticon.com/icons/png/128/357/357628.png",props:{image:"https://image.flaticon.com/icons/png/128/357/357628.png",width:128,height:128}},{ctrl:n.default,image:"https://image.flaticon.com/icons/png/128/357/357602.png",props:{image:"https://image.flaticon.com/icons/png/128/357/357602.png",width:128,height:128}}]}];r.applyStyle("rd-h",'.rd-av{left:calc(50% - 1px);top:calc(50% - 1px);position:absolute}.rd-av:before{width:1px;height:5px;left:0;top:-2px}.rd-av:after,.rd-av:before{content:" ";position:absolute;background:red}.rd-av:after{width:5px;height:1px;left:-2px;top:0}.rd-aw{border:1px dotted hsla(0,0%,86.7%,.4)}.rd-ax{border:1px solid #fa742b}.rd-ay{border:1px solid #999}.rd-az{border:1px dashed #fa742b}.rd-aA{border:1px dashed #999}.rd-aB{border-right:3px solid #fa742b;right:-2px}.rd-aC,.rd-aD{border-bottom:3px solid #fa742b;bottom:-2px}.rd-aD{border-right:3px solid #fa742b;right:-2px}.rd-aE{top:-3px;right:-3px;width:6px;height:6px;border-radius:50%;background:#fa742b}.rd-aF{position:absolute;pointer-events:none}.rd-aG{fill:#fff;stroke:#fa742b;pointer-events:all;stroke-width:1px;cursor:pointer;transition:stroke-width .25s}.rd-aE,.rd-aH{cursor:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABvUExURUdwTP///9XV1R0dHf///3Nzc////////////////1ZWVq+vr/T09PX19QQEBP///////8XFxf///////////wYGBv///+jo6P///4aGhqioqMzMzP///2BgYP///////////zExMf///wAAAP///xLps0AAAAAjdFJOUwCxxOdixRDmzSDMv8/Z+tz5wWpXWPk3zALCv8KnyXZVMNuNPnv3CwAAAJ1JREFUKM/NkckOwyAMRFkDBMhC9qWr+//fWCIV1WlzrjoXS36yxmMT8hdqqKoUvRAjMtw22kvecem1GjTuK1vApmI+wQMBbQFy5li+QQRaX4AtRX+vbntAJeRl9HTTx4TiwESs61DXNUPmVQeujzVrQwh43TTxpeRBslVfMUhbiXKWyiAwvnIsMcdyJkfJYdpNvG/ltDm+bjP+8KFP8ggL+zQLGxwAAAAASUVORK5CYII=") 14 14,pointer}.rd-aG:hover{stroke-width:2px}.rd-aH{fill:#fa742b}.rd-aI{stroke:#fa742b;stroke-width:1px;stroke-dasharray:3;fill:none}.rd-aJ{fill:none;stroke:#fa742b;stroke-width:1px}'),t.default={_I:()=>z,_ad:()=>c.default,_ae(e){let t={},i=e=>{for(let r of e){let e=S[r.type];if(r.ctrl=e,t[r.id]=r,"layout"==r.type)for(let e of r.props.columns)i(e.elements)}};return i(e),{elements:e,map:t}}}}),define("elements/svg",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","../designer/history","../designer/transform"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("../gallery/mx-dragdrop/index"),l=e("../gallery/mx-pointer/cursor"),s=e("../designer/history"),o=e("../designer/transform");let n={};a.State.on("q",()=>{for(let e in n){let t=a.Vframe.byId(e);t&&(t.invoke("_bP"),t.invoke("render"))}}),t.default=a.default.View.extend({tmpl:(e,t,i,a,d,l,s,o)=>{let n,p,c,u,h,f,g,y,x=[],{element:_,view:b,fullscreen:m,selected:w,count:k,grouped:v,i18n:j,pos:A}=e,S=_.props,z=_.ctrl;_.type,_.id;x.push(t("div",{$:"element",class:"rd-j","mx5-view":a(b)+"?props="+s(l,S,"\x1ef"),id:"entity_"+i}));S.rotate;if(c=[],m||S.locked||(u=[],w&&(h=[],1==k&&z.modifier&&z.modifier.rotate&&(f=[t("div",{class:"rd-aE rd-f","mx5-mousedown":i+"\x1e_bQ()",title:a(j("ad"))})],h.push(...f)),r?h.push(r):h.push(r=t("div",{_:"_",class:"rd-av"})),u.push(...h)),c.push(...u)),n="left:"+a(S.x)+"px;top:"+a(S.y)+"px;width:"+a(S.width)+"px;height:"+a(S.height)+"px",S.rotate&&(n+=";transform:rotate("+a(S.rotate)+"deg)"),p="rd-f rd-j",m||(p+=" rd-aw"),w&&!m&&(p+=" ",S.locked?p+="rd-ay":k>1&&(p+=" rd-ax")),v&&(S.locked?p+=" rd-aA":p+=" rd-az"),x.push(t("div",{id:"mask_"+a(_.id),style:n,class:p},c)),w&&!m&&1==k&&!S.locked){if(u=[],A&&(h=[t("path",{d:"M"+a(S.width+10)+" 0L"+a(S.width/2)+" "+a(S.height/2)+"L"+a(A.x-S.x)+" "+a(A.y-S.y),class:"rd-aI"},0,0,1),t("circle",{r:"4",cx:a(A.x-S.x),cy:a(A.y-S.y),class:"rd-aG"},0,0,1)],u.push(...h)),z.modifier&&z.modifier.protate&&(h=[t("circle",{r:"3",cx:S.width+10,cy:"0",class:"rd-aG rd-aH","mx5-mousedown":i+"\x1e_bW()",title:a(j("ad"))},0,0,1)],u.push(...h)),z._bT){g="";for(let e=z._bT,t=0,i=e.length;t<i;t+=1){let i=e[t];g+="M"==i||"L"==i?""+a(i):a(S[i+"X"]-S.x)+" "+a(S[i+"Y"]-S.y)}h=[t("path",{class:"rd-aJ",d:g},0,0,1)],u.push(...h)}if(z._bS){if(h=[],"svg-ellipse"==z.type||"svg-rect2"==z.type||"svg-circle"==z.type){f=[];for(let e=z._bS,r=e.length,d=0;d<r;d+=1){let r=e[d];y=[t("circle",{"mx5-mousedown":i+"\x1e_bY({key:'"+o(r)+"'})",r:"4",cx:a(S[r+"X"]-S.x),cy:a(S[r+"Y"]-S.y),class:"rd-aG"},0,0,1)],f.push(...y)}h.push(...f)}else{f=[];for(let e=z._bS,r=e.length,d=0;d<r;d+=1){let r=e[d];y=[t("circle",{"mx5-mousedown":i+"\x1e_bX({key:'"+o(r)+"'})",r:"4",cx:a(S[r+"X"]-S.x),cy:a(S[r+"Y"]-S.y),class:"rd-aG"},0,0,1)],f.push(...y)}h.push(...f)}u.push(...h)}n="overflow:visible;left:"+a(S.x)+"px;top:"+a(S.y)+"px;width:"+a(S.width)+"px;height:"+a(S.height)+"px",S.rotate&&(n+=";transform:rotate("+a(S.rotate)+"deg)"),c=[t("svg",{class:"rd-aF",style:n},u)],x.push(...c)}return t(i,0,x)},ctor(){n[this.id]=1,this.on("destroy",()=>{delete n[this.id]})},_bP(){let e=a.State.get("_ag"),t=a.State.get("_7").length,i=this.get().element.id,r=a.State.get("_8")[i],d=0;if(!e[i]&&r)for(let t of r)if(e[t]){d=1;break}this.set({grouped:d,selected:a.has(e,i),count:t})},assign(e){this.set(e),this._bP()},render(){this.digest()},_bg(e){this.digest({element:e})},"_bQ<mousedown>"(e){e.stopPropagation();let t=this.get("element"),i=t.props,{rotate:r,x:d,y:n,width:p,height:c}=i;a.State.fire("o",{show:1,size:1});let u=d+p/2,h=n+c/2,f=o.default._be({x:e.pageX,y:e.pageY}),g=Math.atan2(f.y-h,f.x-u)-r*Math.PI/180,y=!1;this._y(e,r=>{y||l.default._z(e.eventTarget),y=!0,f=o.default._be({x:r.pageX,y:r.pageY});let d=Math.atan2(f.y-h,f.x-u);d=180*(d-g)/Math.PI,i.rotate=(360+(0|d))%360,this.digest({element:t}),a.State.fire("d")},()=>{l.default._A(),y&&s.default._u(),a.State.fire("o",{hide:1})})},"_bW<mousedown>"(e){e.stopPropagation();let t=this.get("element"),{props:i,ctrl:r}=t,{x:d,y:n,width:p,height:c}=i;a.State.fire("o",{show:1,size:1});let u={x:d+p/2,y:n+c/2},h=o.default._be({x:e.pageX,y:e.pageY}),f=Math.atan2(h.y-u.y,h.x-u.x)-0*Math.PI/180,g=!1,y={};for(let e of r._bS)y[e+"X"]=i[e+"X"],y[e+"Y"]=i[e+"Y"];this._y(e,d=>{g||l.default._z(e.eventTarget),g=!0,h=o.default._be({x:d.pageX,y:d.pageY});let s=Math.atan2(h.y-u.y,h.x-u.x);s=(360+(0|(s=180*(s-f)/Math.PI)))%360;for(let e of r._bS){let t={x:y[e+"X"],y:y[e+"Y"]},r=o.default._bH(t,u)+s;t=o.default._bI(t,u,r),i[e+"X"]=t.x,i[e+"Y"]=t.y}this.digest({pos:h,element:t}),a.State.fire("d")},()=>{r._a1(i),this.digest({pos:0,element:t}),l.default._A(),g&&s.default._u(),a.State.fire("o",{hide:1}),a.State.fire("d")})},"_bX<mousedown>"(e){e.stopPropagation();let t=this.get("element"),{props:i,ctrl:r}=t;a.State.fire("o",{show:1,size:1});let d=!1,o=e.params.key,n=i[`${o}X`],p=i[`${o}Y`];this._y(e,s=>{d||l.default._z(e.eventTarget),d=!0;let c=s.pageX-e.pageX,u=s.pageY-e.pageY;i[`${o}X`]=n+c,i[`${o}Y`]=p+u,r._a1(i),this.digest({element:t}),a.State.fire("d")},()=>{l.default._A(),d&&s.default._u(),a.State.fire("o",{hide:1})})},"_bY<mousedown>"(e){e.stopPropagation();let t=this.get("element"),{ctrl:i}=t,{key:r}=e.params;i._bU(t,e,r,this)}}).merge(d.default)}),define("elements/chart-bar/designer",["../../designer/props","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-bar/index"})}}).static({type:"chart-bar",title:"I",icon:"&#xe603;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,bind:{url:"",id:"",fields:[]},locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:a.default._by,write:a.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:a.default._by,write:a.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{tip:"O",key:"bind",type:r.default._ay,json:1,dockTop:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"Q",type:r.default._ao,key:"background",alpha:!0,clear:!0,json:1},{tip:"R",key:"title",type:r.default._ax,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/chart-bar/index",["magix","../../designer/service","../provider/echarts"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../../designer/service"),d=e("../provider/echarts");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{props:o,error:n}=e;return l=[t(0,0,r(n||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6..."))],d=[t("div",{style:"width:100%;text-align:center;line-height:"+r(o.height)+"px"},l)],a="position:absolute;left:"+r(o.x)+"px;top:"+r(o.y)+"px;height:"+r(o.height)+"px;opacity:"+r(o.alpha)+";width:"+r(o.width)+"px;transform:rotate("+r(o.rotate)+"deg);",o.background&&(a+="background:"+r(o.background)+";"),s.push(t("div",{id:"chart_"+i,style:a},d)),t(i,0,s)},assign(e){this.set(e)},_bM(){if(!this._bL){this._bL=echarts.init(r.node("chart_"+this.id)),this.on("destroy",()=>{this._bL.dispose()});let e=["\u8bf7\u7ed1\u5b9a\u6570\u636e"],t=[100];this._bL.setOption({tooltip:{trigger:"axis"},xAxis:{data:e},yAxis:{type:"value"},series:[{data:t,type:"bar"}]},!0)}this._bL.resize()},async render(){let e=r.default.mark(this,"_n");await this.digest();try{if(await d.default(),e()){let e=this.get("props");this._bM(),this._bL.setOption({title:{text:e.title}});let t=this._bN,i=JSON.stringify(e.bind);t!=i&&(this._bN=i,this._bO(e))}}catch(t){e()&&this.digest({error:t})}},_bO(e){let{bind:t}=e;if(t.url){let e=r.default.mark(this,"_bO");this.fetch({name:"_aE",url:t.url},(i,r)=>{let a=r.get("data",[]);if(e()){let e=a[0],i=[],r=[];if(e){for(let a of t.fields)i.push(a.name),r.push(e[a.id]);this._bL.setOption({xAxis:{data:i},series:[{data:r,type:"bar"}]})}}})}}}).merge(a.default)}),define("elements/chart-line/designer",["../../designer/props","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-line/index"})}}).static({type:"chart-line",title:"T",icon:"&#xe64b;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:a.default._by,write:a.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:a.default._by,write:a.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"Q",type:r.default._ao,key:"background",alpha:!0,clear:!0,json:1},{tip:"R",key:"title",type:r.default._ax,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/chart-line/index",["magix","../provider/echarts"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../provider/echarts");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{props:o,error:n}=e;return l=[t(0,0,r(n||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6..."))],d=[t("div",{style:"width:100%;text-align:center;line-height:"+r(o.height)+"px"},l)],a="position:absolute;left:"+r(o.x)+"px;top:"+r(o.y)+"px;height:"+r(o.height)+"px;opacity:"+r(o.alpha)+";width:"+r(o.width)+"px;transform:rotate("+r(o.rotate)+"deg);",o.background&&(a+="background:"+r(o.background)+";"),s.push(t("div",{id:"chart_"+i,style:a},d)),t(i,0,s)},assign(e){this.set(e)},_bM(){this._bL||(this._bL=echarts.init(r.node("chart_"+this.id)),this.on("destroy",()=>{this._bL.dispose()}),this._bL.setOption({tooltip:{trigger:"axis"},xAxis:{data:[1,2,3,4,5]},yAxis:{type:"value"},series:[{data:[120,300,400,220,40],type:"line"},{data:[90,200,600,100,50],type:"line"}]},!0)),this._bL.resize()},async render(){let e=r.default.mark(this,"_n");await this.digest();try{if(await a.default(),e()){let e=this.get("props");this._bM(),this._bL.setOption({title:{text:e.title}})}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/chart-meter/designer",["../../designer/props","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-meter/index"})}}).static({type:"chart-meter",title:"U",icon:"&#xeb94;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,rotate:0,locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:a.default._by,write:a.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:a.default._by,write:a.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"Q",type:r.default._ao,key:"background",alpha:!0,clear:!0,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/chart-meter/index",["magix","../provider/echarts"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../provider/echarts");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{props:o,error:n}=e;return l=[t(0,0,r(n||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6..."))],d=[t("div",{style:"width:100%;text-align:center;line-height:"+r(o.height)+"px"},l)],a="position:absolute;left:"+r(o.x)+"px;top:"+r(o.y)+"px;height:"+r(o.height)+"px;opacity:"+r(o.alpha)+";width:"+r(o.width)+"px;transform:rotate("+r(o.rotate)+"deg);",o.background&&(a+="background:"+r(o.background)+";"),s.push(t("div",{id:"chart_"+i,style:a},d)),t(i,0,s)},assign(e){this.set(e)},_bM(){this._bL||(this._bL=echarts.init(r.node("chart_"+this.id)),this.on("destroy",()=>{this._bL.dispose()}),this._bL.setOption({series:[{type:"gauge",detail:{formatter:"{value}%"},data:[{value:50,name:"\u5b8c\u6210\u7387"}]}]},!0)),this._bL.resize()},async render(){let e=r.default.mark(this,"_n");await this.digest();try{await a.default(),e()&&this._bM()}catch(t){e()&&this.digest({error:t})}}})}),define("elements/chart-pie/designer",["../../designer/props","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/chart-pie/index"})}}).static({type:"chart-pie",title:"V",icon:"&#xe6d4;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({background:"",alpha:1,width:500,height:300,x:e,y:t,title:"",rotate:0,locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:a.default._by,write:a.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:a.default._by,write:a.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"Q",type:r.default._ao,key:"background",alpha:!0,clear:!0,json:1},{tip:"R",key:"title",type:r.default._ax,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/chart-pie/index",["magix","../provider/echarts"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../provider/echarts");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{props:o,error:n}=e;return l=[t(0,0,r(n||"\u6b63\u5728\u52a0\u8f7d\u56fe\u8868\u7ec4\u4ef6..."))],d=[t("div",{style:"width:100%;text-align:center;line-height:"+r(o.height)+"px"},l)],a="position:absolute;left:"+r(o.x)+"px;top:"+r(o.y)+"px;height:"+r(o.height)+"px;opacity:"+r(o.alpha)+";width:"+r(o.width)+"px;transform:rotate("+r(o.rotate)+"deg);",o.background&&(a+="background:"+r(o.background)+";"),s.push(t("div",{id:"chart_"+i,style:a},d)),t(i,0,s)},assign(e){this.set(e)},_bM(){this._bL||(this._bL=echarts.init(r.node("chart_"+this.id)),this.on("destroy",()=>{this._bL.dispose()}),this._bL.setOption({series:[{data:[{value:120,name:"pie1"},{vaue:300,name:"pie2"},{value:400,name:"pie3"},{value:220,name:"pie4"},{value:40,name:"pie5"}],type:"pie",name:"test"}]},!0)),this._bL.resize()},async render(){let e=r.default.mark(this,"_n");await this.digest();try{if(await a.default(),e()){let e=this.get("props");this._bM(),this._bL.setOption({title:{text:e.title,x:"center"}})}}catch(t){e()&&this.digest({error:t})}}})}),define("elements/circle/designer",["../../designer/props","../../i18n/index","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../i18n/index"),d=e("../../designer/transform"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/circle/index"})}}).static({type:"circle",title:"W",icon:"&#xe654;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({fillcolor:"",alpha:1,width:150,height:150,x:e,y:t,rotate:0,borderwidth:1,bordertype:"solid",bordercolor:"#000000",locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:d.default._by,write:d.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:d.default._by,write:d.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"X",key:"borderwidth",type:r.default._an,min:0,json:1},{tip:"Y",key:"bordertype",type:r.default._av,items:[{text:a.default("Z"),value:"solid"},{text:a.default("a_"),value:"dotted"},{text:a.default("aa"),value:"dashed"}],json:1},{tip:"ab",key:"bordercolor",type:r.default._ao,json:1},{tip:"ac",key:"fillcolor",clear:!0,alpha:!0,type:r.default._ao,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/circle/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d=[],{props:l}=e;return a="position:absolute;border-radius:50%;left:"+r(l.x)+"px;top:"+r(l.y)+"px;",l.borderwidth&&(a+="border:"+r(l.borderwidth)+"px "+r(l.bordertype)+" "+r(l.bordercolor)+";"),l.fillcolor&&(a+="background:"+r(l.fillcolor)+";"),a+="height:"+r(l.height)+"px;opacity:"+r(l.alpha)+";width:"+r(l.width)+"px;transform:rotate("+r(l.rotate)+"deg)",d.push(t("div",{style:a})),t(i,0,d)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/image/designer",["../../designer/props","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../designer");t.default=d.default.extend({ctor(){this.set({view:"elements/image/index"})}}).static({type:"image",title:"ah",icon:"&#xe650;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({height:100,alpha:1,x:e,y:t,rotate:0,width:200,image:"",locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:a.default._by,write:a.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:a.default._by,write:a.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:a.default._by,write:a.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"ai",key:"image",refresh:!0,type:r.default._au,write:(e,t,i)=>(e||(i.width=200,i.height=100),t.width=i.width,t.height=i.height,e),json:1},{tip:"aj",type:r.default._aw,key:"image",ifShow:e=>e.image,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/image/index",["magix"],(e,t,i)=>{let r={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s,o=[],{props:n,i18n:p}=e;return d=[],n.image?(l=[t("img",{style:"width:100%;height:100%",src:a(n.image)},0,0,1)],d.push(...l)):(s=[t(0,0,a(p("ak")))],l=[t("div",r,s)],d.push(...l)),o.push(t("div",{style:"position:absolute;left:"+a(n.x)+"px;top:"+a(n.y)+"px;height:"+a(n.height)+"px;opacity:"+a(n.alpha)+";width:"+a(n.width)+"px;transform:rotate("+a(n.rotate)+"deg);overflow:hidden"},d)),t(i,0,o)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/line/designer",["../../designer/props","../../i18n/index","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../i18n/index"),d=e("../../designer/transform"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/line/index"})}}).static({type:"line",title:"al",icon:"&#xe601;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({height:1,alpha:1,x:e,y:t,rotate:0,width:200,linetype:"solid",color:"#000000",locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:d.default._by,write:d.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:d.default._by,write:d.default._bz,json:1},{tip:"am",type:r.default._an,key:"width",min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"M",key:"height",type:r.default._an,min:0,max:100,read:d.default._by,write:d.default._bz,json:1},{tip:"an",key:"linetype",type:r.default._av,items:[{text:a.default("Z"),value:"solid"},{text:a.default("a_"),value:"dotted"},{text:a.default("aa"),value:"dashed"}],json:1},{tip:"ao",key:"color",type:r.default._ao,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/line/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a=[],{props:d}=e;return a.push(t("div",{style:"position:absolute;left:"+r(d.x)+"px;top:"+r(d.y)+"px;border-top:"+r(d.height)+"px "+r(d.linetype)+" "+r(d.color)+";opacity:"+r(d.alpha)+";width:"+r(d.width)+"px;transform:rotate("+r(d.rotate)+"deg)"})),t(i,0,a)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/page/designer",["../../designer/props","../../i18n/index","../../designer/const"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../i18n/index"),d=e("../../designer/const");t.default={title:"ap",_K:()=>({width:d.default._E,height:d.default._F,background:"#ffffff",backgroundImage:"",backgroundRepeat:"full",backgroundWidth:0,backgroundHeight:0,scaleType:"auto",grid:!1,snapGrid:!1,gridWidth:10,gridHeight:10,paper:"",screen:"1280x800",hor:0,ver:0}),props:[{tip:"L",key:"width",type:r.default._an,min:0,refresh:1,write:(e,t)=>(t.paper=e+"x"+t.height,t.screen=e+"x"+t.height,e)},{tip:"M",key:"height",type:r.default._an,min:0,refresh:1,write:(e,t)=>(t.paper=t.width+"x"+e,t.screen=t.width+"x"+e,e)},{tip:"aq",type:r.default._av,key:"paper",refresh:1,items:[{text:"\u8bf7\u9009\u62e9",value:""},{text:"A1",value:"2245x3178"},{text:"A2",value:"1587x2245"},{text:"A3",value:"1122x1587"},{text:"A4",value:"793x1122"},{text:"A5",value:"559x793"},{text:"A6",value:"396x559"},{text:"A7",value:"279x396"}],write(e,t){let[i,r]=e.split("x");return t.width=0|i,t.height=0|r,t.screen=e,e}},{tip:"ar",key:"screen",type:r.default._av,refresh:1,items:[{text:"\u8bf7\u9009\u62e9",value:""},{text:"1024x600",value:"1024x600"},{text:"1024x768",value:"1024x768"},{text:"1280x1024",value:"1280x1024"},{text:"1600x900",value:"1600x900"},{text:"1440x1550",value:"1440x1550"},{text:"1600x1200",value:"1600x1200"},{text:"1280x800",value:"1280x800"},{text:"1366x768",value:"1366x768"},{text:"1440x900",value:"1440x900"}],write(e,t){let[i,r]=e.split("x");return t.width=0|i,t.height=0|r,t.paper=e,e}},{tip:"as",key:"scaleType",type:r.default._av,items:[{text:a.default("at"),value:"auto"},{text:a.default("au"),value:"full"}]},{type:r.default._ap},{tip:"av",key:"grid",type:r.default._aq,refresh:!0},{tip:"aw",key:"gridWidth",type:r.default._an,min:4,max:40,ifShow:e=>e.grid},{tip:"ax",key:"gridHeight",type:r.default._an,min:4,max:40,ifShow:e=>e.grid},{tip:"ay",key:"snapGrid",type:r.default._aq,ifShow:e=>e.grid},{tip:"Q",key:"background",type:r.default._ao,ifShow:e=>!e.grid},{tip:"az",key:"backgroundImage",type:r.default._au,refresh:!0,write:(e,t,i)=>(t.backgroundWidth=i.width,t.backgroundHeight=i.height,e),ifShow:e=>!e.grid},{tip:"aA",key:"backgroundRepeat",type:r.default._av,items:[{text:a.default("aB"),value:"full"},{text:a.default("aC"),value:"no-repeat"},{text:a.default("aD"),value:"repeat-x"},{text:a.default("aE"),value:"repeat-y"},{text:a.default("aF"),value:"repeat"}],refresh:!0,ifShow:e=>!e.grid&&e.backgroundImage},{tip:"aG",key:"backgroundWidth",type:r.default._an,min:0,ifShow(e){let t=e.backgroundImage,i="full"!==e.backgroundRepeat;return!e.grid&&t&&i}},{tip:"aH",key:"backgroundHeight",type:r.default._an,min:0,ifShow(e){let t=e.backgroundImage,i="full"!=e.backgroundRepeat;return!e.grid&&t&&i}},{tip:"aI",key:"hor",type:r.default._an,ifShow:e=>!e.grid&&e.backgroundImage&&"full"!=e.backgroundRepeat},{tip:"aJ",key:"ver",type:r.default._an,ifShow:e=>!e.grid&&e.backgroundImage&&"full"!=e.backgroundRepeat}]}}),define("elements/provider/echarts",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=[],a=1,d="can not load echarts library";t.default=(()=>new Promise((e,t)=>{if(2&a)window.echarts?e():t(d);else if(4&a)r.push([e,t]);else{a|=4,r.push([e,t]);let i=document.createElement("script");i.src="//cdn.bootcss.com/echarts/4.2.0-rc.2/echarts.min.js",i.onload=i.onerror=(()=>{document.head.removeChild(i),a|=2;for(let[e,t]of r)window.echarts?e():t(d);r.length=0}),document.head.appendChild(i)}}))}),define("elements/rect/designer",["../../designer/props","../../i18n/index","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../i18n/index"),d=e("../../designer/transform"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/rect/index"})}}).static({type:"rect",title:"aK",icon:"&#xe6c7;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height","borderwidth"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({fillcolor:"",height:100,alpha:1,x:e,y:t,rotate:0,width:200,borderwidth:1,bordertype:"solid",bordercolor:"#000000",radius:0,locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:d.default._by,write:d.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:d.default._by,write:d.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"X",key:"borderwidth",type:r.default._an,min:0,json:1},{tip:"Y",key:"bordertype",type:r.default._av,items:[{text:a.default("Z"),value:"solid"},{text:a.default("a_"),value:"dotted"},{text:a.default("aa"),value:"dashed"}],json:1},{tip:"ab",key:"bordercolor",type:r.default._ao,json:1},{tip:"ac",key:"fillcolor",clear:!0,alpha:!0,type:r.default._ao,json:1},{tip:"aL",key:"radius",type:r.default._an,min:0,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/rect/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d=[],{props:l}=e;return a="position:absolute;left:"+r(l.x)+"px;top:"+r(l.y)+"px;",l.borderwidth&&(a+="border:"+r(l.borderwidth)+"px "+r(l.bordertype)+" "+r(l.bordercolor)+";"),l.fillcolor&&(a+="background:"+r(l.fillcolor)+";"),a+="height:"+r(l.height)+"px;opacity:"+r(l.alpha)+";width:"+r(l.width)+"px;transform:rotate("+r(l.rotate)+"deg);",l.radius&&(a+="border-radius:"+r(l.radius)+"px;"),d.push(t("div",{style:a})),t(i,0,d)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/repeat/designer",["../../designer/props","../../i18n/index","../../designer/transform","../designer"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../i18n/index"),d=e("../../designer/transform"),l=e("../designer");t.default=l.default.extend({ctor(){this.set({view:"elements/repeat/index"})}}).static({type:"repeat",title:"aM",icon:"&#xe78f;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height","imageWidth","imageHeight"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({height:100,alpha:1,x:e,y:t,rotate:0,width:200,radius:0,image:"",repeat:"repeat",imageWidth:0,imageHeight:0,hor:0,ver:0,locked:!1}),props:[{tip:"J",type:r.default._an,key:"x",read:d.default._by,write:d.default._bz,json:1},{tip:"K",type:r.default._an,key:"y",read:d.default._by,write:d.default._bz,json:1},{tip:"L",type:r.default._an,key:"width",min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"M",key:"height",type:r.default._an,min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"N",type:r.default._an,key:"rotate",min:-360,max:360,json:1},{type:r.default._ap},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aL",key:"radius",type:r.default._an,min:0,json:1},{tip:"ai",key:"image",type:r.default._au,refresh:!0,write:(e,t,i)=>(t.imageWidth=d.default._bz(i.width),t.imageHeight=d.default._bz(i.height),e),json:1},{tip:"aG",key:"imageWidth",type:r.default._an,min:0,read:d.default._by,write:d.default._bz,ifShow:e=>e.image,json:1},{tip:"aH",key:"imageHeight",type:r.default._an,min:0,read:d.default._by,write:d.default._bz,ifShow:e=>e.image,json:1},{tip:"aI",key:"hor",type:r.default._an,ifShow:e=>e.image,json:1},{tip:"aJ",key:"ver",type:r.default._an,ifShow:e=>e.image,json:1},{tip:"aA",key:"repeat",type:r.default._av,ifShow:e=>e.image,items:[{text:a.default("aF"),value:"repeat"},{text:a.default("aD"),value:"repeat-x"},{text:a.default("aE"),value:"repeat-y"}],json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/repeat/index",["magix"],(e,t,i)=>{let r={style:"display:flex;align-items:center;justify-content:center;height:100%"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s,o,n=[],{props:p,i18n:c}=e;return l=[],p.image||(o=[t(0,0,a(c("aN")))],s=[t("div",r,o)],l.push(...s)),d="position:absolute;overflow:hidden;left:"+a(p.x)+"px;top:"+a(p.y)+"px;height:"+a(p.height)+"px;opacity:"+a(p.alpha)+";width:"+a(p.width)+"px;transform:rotate("+a(p.rotate)+"deg);",p.radius&&(d+="border-radius:"+a(p.radius)+"px;"),p.image&&(d+="background-image:url("+a(p.image)+");background-size:"+a(p.imageWidth)+"px "+a(p.imageHeight)+"px;background-repeat:"+a(p.repeat)+";background-position:"+a(p.hor)+"% "+a(p.ver)+"%"),n.push(t("div",{style:d},l)),t(i,0,n)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-arrow/designer",["../../designer/props","../../designer/transform","../svg"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../svg");let l=["ctrl1","ctrl2","ctrl3","ctrl4","ctrl5","ctrl6","ctrl7"];t.default=d.default.extend({ctor(){this.set({view:"elements/svg-arrow/index"})}}).static({type:"svg-arrow",title:"aO",icon:"&#xe760;",scales:["x","y","width","height","ctrl1X","ctrl1Y","ctrl2X","ctrl2Y","ctrl3X","ctrl3Y","ctrl4X","ctrl4Y","ctrl5X","ctrl5Y",,"ctrl6X","ctrl6Y",,"ctrl7X","ctrl7Y","linewidth","dash"],modifier:{protate:1},moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"ctrl1X",use:"x"},{key:"ctrl1Y",use:"y"},{key:"ctrl2X",use:"x"},{key:"ctrl2Y",use:"y"},{key:"ctrl3X",use:"x"},{key:"ctrl3Y",use:"y"},{key:"ctrl4X",use:"x"},{key:"ctrl4Y",use:"y"},{key:"ctrl5X",use:"x"},{key:"ctrl5Y",use:"y"},{key:"ctrl6X",use:"x"},{key:"ctrl6Y",use:"y"},{key:"ctrl7X",use:"x"},{key:"ctrl7Y",use:"y"}],_a1(e){let t=e.ctrl1X,i=e.ctrl1Y,r=e.ctrl1X,a=e.ctrl1Y;for(let d=l.length;d--;){let s=l[d],o=e[s+"X"],n=e[s+"Y"];o<t&&(t=o),o>r&&(r=o),n<i&&(i=n),n>a&&(a=n)}e.x=t,e.y=i,e.width=r-t,e.height=a-i},_bS:l,_K:(e,t)=>({alpha:1,x:e,y:t,ctrl1X:e,ctrl1Y:t+50,ctrl2X:e+200,ctrl2Y:t+50,ctrl3X:e+200,ctrl3Y:t,ctrl4X:e+250,ctrl4Y:t+75,ctrl5X:e+200,ctrl5Y:t+150,ctrl6X:e+200,ctrl6Y:t+100,ctrl7X:e,ctrl7Y:t+100,width:250,height:150,linewidth:1,dash:0,fillcolor:"",color:"#000000",locked:!1}),props:[{key:"x",read:a.default._by,json:1},{key:"y",read:a.default._by,json:1},{key:"width",read:a.default._by,json:1},{key:"height",read:a.default._by,json:1},{key:"ctrl1X",read:a.default._by,json:1},{key:"ctrl1Y",read:a.default._by,json:1},{key:"ctrl2X",read:a.default._by,json:1},{key:"ctrl2Y",read:a.default._by,json:1},{key:"ctrl3X",read:a.default._by,json:1},{key:"ctrl3Y",read:a.default._by,json:1},{key:"ctrl4X",read:a.default._by,json:1},{key:"ctrl4Y",read:a.default._by,json:1},{key:"ctrl5X",read:a.default._by,json:1},{key:"ctrl5Y",read:a.default._by,json:1},{key:"ctrl6X",read:a.default._by,json:1},{key:"ctrl6Y",read:a.default._by,json:1},{key:"ctrl7X",read:a.default._by,json:1},{key:"ctrl7Y",read:a.default._by,json:1},{tip:"aP",key:"linewidth",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:r.default._ao,json:1},{tip:"aS",key:"fillcolor",type:r.default._ao,json:1,alpha:!0,clear:!0},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-arrow/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l=[],{props:s}=e;return d=[t("path",{d:"M"+r(s.ctrl1X-s.x)+" "+r(s.ctrl1Y-s.y)+"L"+r(s.ctrl2X-s.x)+" "+r(s.ctrl2Y-s.y)+"L"+r(s.ctrl3X-s.x)+" "+r(s.ctrl3Y-s.y)+"L"+r(s.ctrl4X-s.x)+" "+r(s.ctrl4Y-s.y)+"L"+r(s.ctrl5X-s.x)+" "+r(s.ctrl5Y-s.y)+"L"+r(s.ctrl6X-s.x)+" "+r(s.ctrl6Y-s.y)+"L"+r(s.ctrl7X-s.x)+" "+r(s.ctrl7Y-s.y)+"Z",style:"fill:"+r(s.fillcolor||"none")+";stroke:"+r(s.color)+";stroke-width:"+r(s.linewidth)+";opacity:"+r(s.alpha),"stroke-dasharray":null!=(a=s.dash)&&a},0,0,1)],l.push(t("svg",{style:"position:absolute;overflow:visible;left:"+r(s.x)+"px;top:"+r(s.y)+"px;width:"+r(s.width)+"px;height:"+r(s.height)+"px"},d)),t(i,0,l)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-bezier2/designer",["../../designer/props","../../designer/transform","../svg"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../svg");let l=(e,t,i,r)=>t*(1-e)*(1-e)+2*i*e*(1-e)+r*e*e;t.default=d.default.extend({ctor(){this.set({view:"elements/svg-bezier2/index"})}}).static({type:"svg-bezier2",title:"aT",icon:"&#xeabb;",scales:["x","y","width","height","startX","startY","endX","endY","ctrlX","ctrlY","linewidth","dash"],modifier:{protate:1},moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"ctrlX",use:"x"},{key:"ctrlY",use:"y"},{key:"startX",use:"x"},{key:"startY",use:"y"},{key:"endX",use:"x"},{key:"endY",use:"y"}],_a1(e){let{startX:t,startY:i,ctrlX:r,ctrlY:a,endX:d,endY:s}=e,o=(t-r)/(t-2*r+d),n=[t,d],p=[i,s];o>=0&&o<=1&&n.push(l(o,t,r,d)),(o=(i-a)/(i-2*a+s))>=0&&o<=1&&p.push(l(o,i,a,s));let c=Math.min(...n),u=Math.max(...n),h=Math.min(...p),f=Math.max(...p);e.x=c,e.y=h,e.width=u-c,e.height=f-h},_bS:["start","ctrl","end"],_bT:["M","start","L","ctrl","L","end"],_K:(e,t)=>({alpha:1,x:e,y:t,startX:e+200,startY:t,endX:e,endY:t+100,ctrlX:e,ctrlY:t,width:200,height:100,linewidth:1,startArrow:!1,endArrow:!1,dash:0,color:"#000000",locked:!1}),props:[{key:"x",read:a.default._by,json:1},{key:"y",read:a.default._by,json:1},{key:"width",read:a.default._by,json:1},{key:"height",read:a.default._by,json:1},{tip:"aU",key:"startX",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aV",key:"startY",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aW",key:"ctrlX",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aX",key:"ctrlY",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aY",key:"endX",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aZ",key:"endY",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a0",key:"startArrow",type:r.default._aq,json:1},{tip:"a1",key:"endArrow",type:r.default._aq,json:1},{type:r.default._ap},{tip:"aP",key:"linewidth",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:r.default._ao,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-bezier2/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s,o=[],{props:n}=e;return s=[t("path",{d:"M0 0 L16 8 L0 16z",style:"fill:"+r(n.color)},0,0,1)],l=[t("marker",{id:"a_"+i,viewBox:"0 0 16 16",refX:"0",refY:"8",markerWidth:"8",markerHeight:"8",orient:"auto"},s)],s=[t("path",{d:"M16 0 L0 8 L16 16z",style:"fill:"+r(n.color)},0,0,1)],l.push(t("marker",{id:"as_"+i,viewBox:"0 0 16 16",refX:"16",refY:"8",markerWidth:"8",markerHeight:"8",orient:"auto"},s)),d=[t("defs",0,l),t("path",{d:"M"+r(n.startX-n.x)+" "+r(n.startY-n.y)+"Q"+r(n.ctrlX-n.x)+" "+r(n.ctrlY-n.y)+" "+r(n.endX-n.x)+" "+r(n.endY-n.y),style:"fill:"+r(n.fillcolor||"none")+";stroke:"+r(n.color)+";stroke-width:"+r(n.linewidth)+";opacity:"+r(n.alpha),"stroke-dasharray":null!=(a=n.dash)&&a,"marker-start":n.startArrow&&"url(#as_"+i+")","marker-end":n.endArrow&&"url(#a_"+i+")"},0,0,1)],o.push(t("svg",{style:"position:absolute;overflow:visible;left:"+r(n.x)+"px;top:"+r(n.y)+"px;width:"+r(n.width)+"px;height:"+r(n.height)+"px"},d)),t(i,0,o)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/svg-bezier3/designer",["../../designer/props","../../designer/transform","../svg"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../svg");let l=(e,t,i,r,a)=>t*(1-e)*(1-e)*(1-e)+3*i*e*(1-e)*(1-e)+3*r*e*e*(1-e)+a*e*e*e,s=(e,t,i,r)=>{let a=-2*(3*e-6*t+3*i),d=4*Math.pow(3*e-6*t+3*i,2)-36*(r-e+3*t-3*i)*(t-e),l=6*(r-e+3*t-3*i);if(d>0){let e=Math.sqrt(d),t=(a+e)/l,i=(a-e)/l;if(t>=0&&i>=0&&t<=1&&i<=1)return[t,i,0,1];if(t>=0&&t<=1)return[t,0,1];if(i>=0&&i<=1)return[i,0,1]}return[0,1]};t.default=d.default.extend({ctor(){this.set({view:"elements/svg-bezier3/index"})}}).static({type:"svg-bezier3",title:"aT",icon:"&#xe71b;",scales:["x","y","width","height","startX","startY","endX","endY","ctrl1X","ctrl1Y","ctrl2X","ctrl2Y","linewidth","dash"],modifier:{protate:1},moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"ctrl1X",use:"x"},{key:"ctrl1Y",use:"y"},{key:"ctrl2X",use:"x"},{key:"ctrl2Y",use:"y"},{key:"startX",use:"x"},{key:"startY",use:"y"},{key:"endX",use:"x"},{key:"endY",use:"y"}],_a1(e){let{x:t,y:i,width:r,height:a}=(e=>{let t=s(e.startX,e.ctrl1X,e.ctrl2X,e.endX),i=s(e.startY,e.ctrl1Y,e.ctrl2Y,e.endY),r=[],a=[];for(let i of t)r.push(l(i,e.startX,e.ctrl1X,e.ctrl2X,e.endX));for(let t of i)a.push(l(t,e.startY,e.ctrl1Y,e.ctrl2Y,e.endY));let d=Math.min(...r),o=Math.max(...r),n=Math.min(...a);return{x:d,y:n,width:o-d,height:Math.max(...a)-n}})(e);e.x=t,e.y=i,e.width=r,e.height=a},_bT:["M","start","L","ctrl1","M","end","L","ctrl2"],_bS:["start","end","ctrl1","ctrl2"],_K:(e,t)=>({alpha:1,x:e,y:t,startX:e,startY:t,endX:e+300,endY:t+100,ctrl1X:e+50,ctrl1Y:t+50,ctrl2X:e+250,ctrl2Y:t+50,width:300,height:100,startArrow:!1,endArrow:!1,dash:0,linewidth:1,color:"#000000",locked:!1}),props:[{key:"x",read:a.default._by,json:1},{key:"y",read:a.default._by,json:1},{key:"width",read:a.default._by,json:1},{key:"height",read:a.default._by,json:1},{tip:"aU",key:"startX",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aV",key:"startY",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a2",key:"ctrl1X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a3",key:"ctrl1Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a4",key:"ctrl2X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a5",key:"ctrl2Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aY",key:"endX",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aZ",key:"endY",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a0",key:"startArrow",type:r.default._aq,json:1},{tip:"a1",key:"endArrow",type:r.default._aq,json:1},{type:r.default._ap},{tip:"aP",key:"linewidth",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:r.default._ao,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-bezier3/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s,o=[],{props:n}=e;return s=[t("path",{d:"M0 0 L16 8 L0 16z",style:"fill:"+r(n.color)},0,0,1)],l=[t("marker",{id:"a_"+i,viewBox:"0 0 16 16",refX:"0",refY:"8",markerWidth:"8",markerHeight:"8",orient:"auto"},s)],s=[t("path",{d:"M16 0 L0 8 L16 16z",style:"fill:"+r(n.color)},0,0,1)],l.push(t("marker",{id:"as_"+i,viewBox:"0 0 16 16",refX:"16",refY:"8",markerWidth:"8",markerHeight:"8",orient:"auto"},s)),d=[t("defs",0,l),t("path",{d:"M"+r(n.startX-n.x)+","+r(n.startY-n.y)+" C"+r(n.ctrl1X-n.x)+" "+r(n.ctrl1Y-n.y)+" "+r(n.ctrl2X-n.x)+" "+r(n.ctrl2Y-n.y)+" "+r(n.endX-n.x)+","+r(n.endY-n.y),style:"fill:none;stroke:"+r(n.color)+";stroke-width:"+r(n.linewidth)+";opacity:"+r(n.alpha),"stroke-dasharray":null!=(a=n.dash)&&a,"marker-start":n.startArrow&&"url(#as_"+i+")","marker-end":n.endArrow&&"url(#a_"+i+")"},0,0,1)],o.push(t("svg",{style:"position:absolute;overflow:visible;left:"+r(n.x)+"px;top:"+r(n.y)+"px;width:"+r(n.width)+"px;height:"+r(n.height)+"px"},d)),t(i,0,o)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-circle/designer",["magix","../../gallery/mx-pointer/cursor","../../designer/props","../../designer/transform","../svg","../../designer/history"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../../gallery/mx-pointer/cursor"),d=e("../../designer/props"),l=e("../../designer/transform"),s=e("../svg");e("../../designer/history");t.default=s.default.extend({ctor(){this.set({view:"elements/svg-circle/index"})}}).static({type:"svg-circle",title:"a6",icon:"&#xe65a;",scales:["x","y","width","height","centerX","centerY","rxrX","rxrY","linewidth","dash"],_bS:["rxr"],moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"centerX",use:"x"},{key:"centerY",use:"y"},{key:"rxrX",use:"x"},{key:"rxrY",use:"y"}],_bU(e,t,i,d){r.State.fire("o",{show:1,size:1});let{props:l,ctrl:s}=e,{centerX:o,centerY:n,x:p,y:c,width:u,height:h,r:f}=l,g=0;for(let e of s.props)"r"==e.key&&(g=e.min);d._y(t,i=>{a.default._z(t.eventTarget);let s=i.pageX-t.pageX,u=f+s;u<g&&(u=g);let h=p+u-o,y=c+u-n;l.x=p-h,l.y=c-y,l.width=2*u,l.height=2*u,l.rxrX=l.x+l.width,l.rxrY=l.y+u,l.r=u,d.digest({element:e}),r.State.fire("d")},()=>{a.default._A(),r.State.fire("o",{hide:1})})},_K:(e,t)=>({alpha:1,x:e,y:t,rxrX:e+150,rxrY:t+75,centerX:e+75,centerY:t+75,r:75,width:150,height:150,linewidth:1,fillcolor:"",dash:0,color:"#000000",locked:!1}),props:[{key:"x",read:l.default._by,json:1},{key:"y",read:l.default._by,json:1},{key:"width",read:l.default._by,json:1},{key:"height",read:l.default._by,json:1},{tip:"a7",key:"centerX",type:d.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"a8",key:"centerY",type:d.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"a9",key:"r",type:d.default._an,read:l.default._by,write:l.default._bz,json:1,min:20},{type:d.default._ap},{tip:"aP",key:"linewidth",type:d.default._an,read:l.default._by,write:l.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:d.default._an,read:l.default._by,write:l.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:d.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:d.default._ao,json:1},{tip:"aS",key:"fillcolor",type:d.default._ao,json:1,alpha:!0,clear:!0},{type:d.default._ap},{tip:"S",key:"locked",type:d.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-circle/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l=[],{props:s}=e;return d=[t("circle",{r:r(s.r),cx:r(s.r),cy:r(s.r),style:"fill:"+r(s.fillcolor||"none")+";stroke:"+r(s.color)+";stroke-width:"+r(s.linewidth)+";opacity:"+r(s.alpha),"stroke-dasharray":null!=(a=s.dash)&&a},0,0,1)],l.push(t("svg",{style:"position:absolute;overflow:visible;left:"+r(s.x)+"px;top:"+r(s.y)+"px;width:"+r(s.width)+"px;height:"+r(s.height)+"px"},d)),t(i,0,l)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-ellipse/designer",["magix","../../gallery/mx-pointer/cursor","../../designer/props","../../designer/transform","../svg","../../designer/history"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../../gallery/mx-pointer/cursor"),d=e("../../designer/props"),l=e("../../designer/transform"),s=e("../svg"),o=e("../../designer/history");t.default=s.default.extend({ctor(){this.set({view:"elements/svg-ellipse/index"})}}).static({type:"svg-ellipse",title:"b_",icon:"&#xe6a5;",scales:["x","y","width","height","centerX","centerY","rx","ry","rxrX","rxrY","ryrX","ryrY","linewidth","dash"],_bS:["rxr","ryr"],modifier:{rotate:1},moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"centerX",use:"x"},{key:"centerY",use:"y"},{key:"rxrX",use:"x"},{key:"rxrY",use:"y"},{key:"ryrX",use:"x"},{key:"ryrY",use:"y"}],_bV(e,t){let{rx:i,ry:r}=e;e.width=2*i,e.height=2*r;let a=l.default._a6(e);e.x+=t.x-a.x,e.y+=t.y-a.y;let{x:d,y:s}=e;e.centerX=d+i,e.centerY=s+r,e.rxrX=d+2*i,e.rxrY=s+r,e.ryrX=d+i,e.ryrY=s+2*r},_bU(e,t,i,d){r.State.fire("o",{show:1,size:1});let{props:s,ctrl:n}=e,p=!1,{centerX:c,centerY:u,rx:h,ry:f,rotate:g}=s;g=(360+g)%360;let y="rxr"==i,x=0,_=0;for(let e of n.props)"rx"==e.key?x=e.min:"ry"==e.key&&(_=e.min);let b,m,w=y?x:_,k=l.default._be({x:t.pageX,y:t.pageY}),{k:v,b:j}=l.default._bJ(c,u,g),A=-1/v,S=u-c*A,z=y?A:v,M=k.y-k.x*z;m=z*(b=y?(j-M)/(A-v):(S-M)/(v-A))+M,0==g||180==g?y?(b=k.x,m=u):(b=c,m=k.y):90!=g&&270!=g||(y?(b=c,m=k.y):(b=k.x,m=u)),d._y(t,i=>{p||a.default._z(t.eventTarget),p=!0;let o,n,x=l.default._be({x:i.pageX,y:i.pageY}),_=z*x.x+M-x.y<0,Y=x.y-x.x*z;n=z*(o=y?(j-Y)/(A-v):(S-Y)/(v-A))+Y,0==g||180==g?y?(o=x.x,n=u,_=x.x>k.x):(_=x.y>k.y,o=c,n=x.y):90!=g&&270!=g||(y?(o=c,n=x.y,_=x.y>k.y):(o=x.x,n=u,_=x.x>k.x));let X=1;X=y?g>=0&&g<180?_?1:-1:_?-1:1:g>=90&&g<270?_?-1:1:_?1:-1;let P=Math.sqrt(Math.pow(o-b,2)+Math.pow(n-m,2))/2,R=y?g:90+g,T=y?h:f;T+X*P-w<=0&&(P=(w-T)/X),s.centerX=c+X*P*Math.cos(R*Math.PI/180),s.centerY=u+X*P*Math.sin(R*Math.PI/180),y?s.rx=h+X*P:s.ry=f+X*P,(e=>{let{centerX:t,centerY:i,rotate:r,rx:a,ry:d}=e,s=l.default._bJ(t,i,r),o=-1/s.k,n={x:t,y:i},p={x:t,y:i-d},c={x:t-a,y:i},u=l.default._bI(c,n,r+180),h=l.default._bI(p,n,r+270),f=u.y-u.x*o,g=(h.y-h.x*s.k-f)/(o-s.k),y=o*g+f;0==r?(g=t-a,y=i-d):180==r&&(g=t+a,y=i+d);let x={x:g,y:y},_=l.default._bH(x,n),{x:b,y:m}=l.default._bI(x,n,_-r);e.x=b,e.y=m,e.width=2*a,e.height=2*d,e.rxrX=b+2*a,e.rxrY=m+d,e.ryrX=b+a,e.ryrY=m+2*d})(s),d.digest({element:e}),r.State.fire("d")},()=>{a.default._A(),p&&o.default._u(),r.State.fire("o",{hide:1})})},_K:(e,t)=>({alpha:1,x:e,y:t,rxrX:e+200,rxrY:t+50,ryrX:e+100,ryrY:t+100,centerX:e+100,centerY:t+50,rx:100,ry:50,width:200,height:100,rotate:0,linewidth:1,fillcolor:"",dash:0,color:"#000000",locked:!1}),props:[{key:"x",read:l.default._by,json:1},{key:"y",read:l.default._by,json:1},{key:"width",read:l.default._by,json:1},{key:"height",read:l.default._by,json:1},{tip:"a7",key:"centerX",type:d.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"a8",key:"centerY",type:d.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"ba",key:"rx",type:d.default._an,read:l.default._by,write:l.default._bz,json:1,min:20},{tip:"bb",key:"ry",type:d.default._an,read:l.default._by,write:l.default._bz,json:1,min:10},{tip:"N",type:d.default._an,key:"rotate",min:-360,max:360,json:1},{type:d.default._ap},{tip:"aP",key:"linewidth",type:d.default._an,read:l.default._by,write:l.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:d.default._an,read:l.default._by,write:l.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:d.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:d.default._ao,json:1},{tip:"aS",key:"fillcolor",type:d.default._ao,json:1,alpha:!0,clear:!0},{type:d.default._ap},{tip:"S",key:"locked",type:d.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-ellipse/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{props:o}=e;return l=[t("ellipse",{cx:r(o.centerX-o.x),cy:r(o.centerY-o.y),rx:r(o.rx),ry:r(o.ry),style:"fill:"+r(o.fillcolor||"none")+";stroke:"+r(o.color)+";stroke-width:"+r(o.linewidth)+";opacity:"+r(o.alpha),"stroke-dasharray":null!=(a=o.dash)&&a},0,0,1)],d="position:absolute;overflow:visible;left:"+r(o.x)+"px;top:"+r(o.y)+"px;width:"+r(o.width)+"px;height:"+r(o.height)+"px",o.rotate&&(d+=";transform:rotate("+r(o.rotate)+"deg)"),s.push(t("svg",{style:d},l)),t(i,0,s)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-line/designer",["../../designer/props","../../designer/transform","../svg"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../svg");let l=["start","end"];t.default=d.default.extend({ctor(){this.set({view:"elements/svg-line/index"})}}).static({type:"svg-line",title:"bc",icon:"&#xe619;",scales:["x","y","width","height","startX","startY","endX","endY","linewidth","dash"],modifier:{protate:1},moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"startX",use:"x"},{key:"startY",use:"y"},{key:"endX",use:"x"},{key:"endY",use:"y"}],_a1(e){let t=e.startX,i=e.startY,r=e.startX,a=e.startY;for(let d=l.length;d--;){let s=l[d],o=e[s+"X"],n=e[s+"Y"];o<t&&(t=o),o>r&&(r=o),n<i&&(i=n),n>a&&(a=n)}e.x=t,e.y=i,e.width=r-t,e.height=a-i},_bS:l,_K:(e,t)=>({alpha:1,x:e,y:t,startX:e,startY:t,endX:e+200,endY:t+100,width:200,height:100,linewidth:1,fillcolor:"",startArrow:!1,endArrow:!1,dash:0,color:"#000000",locked:!1}),props:[{key:"x",read:a.default._by,json:1},{key:"y",read:a.default._by,json:1},{key:"width",read:a.default._by,json:1},{key:"height",read:a.default._by,json:1},{tip:"aU",key:"startX",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aV",key:"startY",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aY",key:"endX",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"aZ",key:"endY",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a0",key:"startArrow",type:r.default._aq,json:1},{tip:"a1",key:"endArrow",type:r.default._aq,json:1},{type:r.default._ap},{tip:"aP",key:"linewidth",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:r.default._ao,json:1},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-line/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s,o=[],{props:n}=e;return s=[t("path",{d:"M0 0 L16 8 L0 16z",style:"fill:"+r(n.color)},0,0,1)],l=[t("marker",{id:"a_"+i,viewBox:"0 0 16 16",refX:"0",refY:"8",markerWidth:"8",markerHeight:"8",orient:"auto"},s)],s=[t("path",{d:"M16 0 L0 8 L16 16z",style:"fill:"+r(n.color)},0,0,1)],l.push(t("marker",{id:"as_"+i,viewBox:"0 0 16 16",refX:"16",refY:"8",markerWidth:"8",markerHeight:"8",orient:"auto"},s)),d=[t("defs",0,l),t("path",{d:"M"+r(n.startX-n.x)+" "+r(n.startY-n.y)+"L"+r(n.endX-n.x)+" "+r(n.endY-n.y),style:"fill:none;stroke:"+r(n.color)+";stroke-width:"+r(n.linewidth)+";opacity:"+r(n.alpha),"stroke-dasharray":null!=(a=n.dash)&&a,"marker-start":n.startArrow&&"url(#as_"+i+")","marker-end":n.endArrow&&"url(#a_"+i+")"},0,0,1)],o.push(t("svg",{style:"position:absolute;overflow:visible;left:"+r(n.x)+"px;top:"+r(n.y)+"px;width:"+r(n.width)+"px;height:"+r(n.height)+"px"},d)),t(i,0,o)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-rect2/designer",["magix","../../gallery/mx-pointer/cursor","../../designer/props","../../designer/transform","../svg","../../designer/history"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../../gallery/mx-pointer/cursor"),d=e("../../designer/props"),l=e("../../designer/transform"),s=e("../svg"),o=e("../../designer/history");t.default=s.default.extend({ctor(){this.set({view:"elements/svg-rect2/index"})}}).static({type:"svg-rect2",title:"aK",icon:"&#xe644;",modifier:{rotate:1,width:1,height:1},_bS:["rxr","ryr"],scales:["x","y","width","height","rxrX","rxrY","ryrX","ryrY","linewidth","dash"],moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"rxrX",use:"x"},{key:"rxrY",use:"y"},{key:"ryrX",use:"x"},{key:"ryrY",use:"y"}],_a1(e){let{x:t,y:i,width:r,height:a}=e;e.rxrX=t+r,e.rxrY=i+a/2,e.ryrX=t+r/2,e.ryrY=i+a},_bU(e,t,i,d){r.State.fire("o",{show:1,size:1});let{props:s,ctrl:n}=e,p=!1,{x:c,y:u,width:h,height:f,rotate:g}=s;g=(360+g)%360;let y="rxr"==i,x=0,_=0;for(let e of n.props)"width"==e.key?x=e.min:"height"==e.key&&(_=e.min);let b,m,w=l.default._be({x:t.pageX,y:t.pageY}),k=c+h/2,v=u+f/2,j=y?x:_,A=l.default._bH({x:c,y:u},{x:k,y:v}),S=l.default._bI({x:c,y:u},{x:k,y:v},g+A),{k:z,b:M}=l.default._bJ(k,v,g),Y=-1/z,X=v-k*Y,P=y?Y:z,R=w.y-w.x*P;m=P*(b=y?(M-R)/(Y-z):(X-R)/(z-Y))+R,0==g||180==g?y?(b=w.x,m=v):(b=k,m=w.y):90!=g&&270!=g||(y?(b=k,m=w.y):(b=w.x,m=v)),d._y(t,i=>{p||a.default._z(t.eventTarget),p=!0;let o,c,u=l.default._be({x:i.pageX,y:i.pageY}),x=P*u.x+R-u.y<0,_=u.y-u.x*P;c=P*(o=y?(M-_)/(Y-z):(X-_)/(z-Y))+_,0==g||180==g?y?(o=u.x,c=v,x=u.x>w.x):(x=u.y>w.y,o=k,c=u.y):90!=g&&270!=g||(y?(o=k,c=u.y,x=u.y>w.y):(o=u.x,c=v,x=u.x>w.x));let A=1;A=y?g>=0&&g<180?x?1:-1:x?-1:1:g>=90&&g<270?x?-1:1:x?1:-1;let T=Math.sqrt(Math.pow(o-b,2)+Math.pow(c-m,2)),O=y?h:f;O+A*T-j<=0&&(T=(j-O)/A),y?s.width=h+A*T:s.height=f+A*T;let L=s.width,C=s.height,I=Math.sqrt(L*L/2/2+C*C/2/2),B=180+180*Math.atan(s.height/L)/Math.PI+g;s.x=S.x-I*Math.cos(B*Math.PI/180)-L/2,s.y=S.y-I*Math.sin(B*Math.PI/180)-C/2,n._a1(s),d.digest({element:e}),r.State.fire("d")},()=>{a.default._A(),p&&o.default._u(),r.State.fire("o",{hide:1})})},_K:(e,t)=>({fillcolor:"",height:100,alpha:1,x:e,y:t,rotate:0,width:200,linewidth:1,roundX:0,roundY:0,color:"#000000",rxrX:e+200,rxrY:t+50,ryrX:e+100,ryrY:t+100,dash:0,locked:!1}),props:[{tip:"J",type:d.default._an,key:"x",read:l.default._by,write:l.default._bz,json:1},{tip:"K",type:d.default._an,key:"y",read:l.default._by,write:l.default._bz,json:1},{tip:"L",type:d.default._an,key:"width",min:10,read:l.default._by,write:l.default._bz,json:1},{tip:"M",key:"height",type:d.default._an,min:10,read:l.default._by,write:l.default._bz,json:1},{tip:"bi",key:"roundX",type:d.default._an,min:0,read:l.default._by,write:l.default._bz,json:1},{tip:"bj",key:"roundY",type:d.default._an,min:0,read:l.default._by,write:l.default._bz,json:1},{tip:"N",type:d.default._an,key:"rotate",min:-360,max:360,json:1},{type:d.default._ap},{tip:"P",key:"alpha",type:d.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aP",key:"linewidth",type:d.default._an,read:l.default._by,write:l.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:d.default._an,read:l.default._by,write:l.default._bz,min:0,max:20,json:1},{tip:"aR",key:"color",type:d.default._ao,json:1},{tip:"ac",key:"fillcolor",clear:!0,alpha:!0,type:d.default._ao,json:1},{type:d.default._ap},{tip:"S",key:"locked",type:d.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-rect2/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{props:o}=e;return l=[t("rect",{x:"0",y:"0",rx:r(o.roundX),ry:r(o.roundY),width:r(o.width),height:r(o.height),style:"fill:"+r(o.fillcolor||"none")+";stroke:"+r(o.color)+";stroke-width:"+r(o.linewidth)+";opacity:"+r(o.alpha),"stroke-dasharray":null!=(a=o.dash)&&a},0,0,1)],d="position:absolute;overflow:visible;left:"+r(o.x)+"px;top:"+r(o.y)+"px;width:"+r(o.width)+"px;height:"+r(o.height)+"px",o.rotate&&(d+=";transform:rotate("+r(o.rotate)+"deg)"),s.push(t("svg",{style:d},l)),t(i,0,s)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-rect/designer",["../../designer/props","../../designer/transform","../svg"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../svg");let l=["ctrl1","ctrl2","ctrl3","ctrl4"];t.default=d.default.extend({ctor(){this.set({view:"elements/svg-rect/index"})}}).static({type:"svg-rect",title:"bd",icon:"&#xe60b;",scales:["x","y","width","height","ctrl1X","ctrl1Y","ctrl2X","ctrl2Y","ctrl3X","ctrl3Y","ctrl4X","ctrl4Y","linewidth","dash"],modifier:{protate:1},moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"ctrl1X",use:"x"},{key:"ctrl1Y",use:"y"},{key:"ctrl2X",use:"x"},{key:"ctrl2Y",use:"y"},{key:"ctrl3X",use:"x"},{key:"ctrl3Y",use:"y"},{key:"ctrl4X",use:"x"},{key:"ctrl4Y",use:"y"}],_a1(e){let t=e.ctrl1X,i=e.ctrl1Y,r=e.ctrl1X,a=e.ctrl1Y;for(let d=l.length;d--;){let s=l[d],o=e[s+"X"],n=e[s+"Y"];o<t&&(t=o),o>r&&(r=o),n<i&&(i=n),n>a&&(a=n)}e.x=t,e.y=i,e.width=r-t,e.height=a-i},_bS:l,_K:(e,t)=>({alpha:1,x:e,y:t,ctrl1X:e,ctrl1Y:t,ctrl2X:e+180,ctrl2Y:t+20,ctrl3X:e+200,ctrl3Y:t+90,ctrl4X:e+40,ctrl4Y:t+100,width:200,height:100,linewidth:1,dash:0,fillcolor:"",color:"#000000",locked:!1}),props:[{key:"x",read:a.default._by,json:1},{key:"y",read:a.default._by,json:1},{key:"width",read:a.default._by,json:1},{key:"height",read:a.default._by,json:1},{tip:"a2",key:"ctrl1X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a3",key:"ctrl1Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a4",key:"ctrl2X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a5",key:"ctrl2Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"be",key:"ctrl3X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"bf",key:"ctrl3Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"bg",key:"ctrl4X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"bh",key:"ctrl4Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{type:r.default._ap},{tip:"aP",key:"linewidth",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:r.default._ao,json:1},{tip:"aS",key:"fillcolor",type:r.default._ao,json:1,alpha:!0,clear:!0},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-rect/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l=[],{props:s}=e;return d=[t("path",{d:"M"+r(s.ctrl1X-s.x)+" "+r(s.ctrl1Y-s.y)+"L"+r(s.ctrl2X-s.x)+" "+r(s.ctrl2Y-s.y)+"L"+r(s.ctrl3X-s.x)+" "+r(s.ctrl3Y-s.y)+"L"+r(s.ctrl4X-s.x)+" "+r(s.ctrl4Y-s.y)+"Z",style:"fill:"+r(s.fillcolor||"none")+";stroke:"+r(s.color)+";stroke-width:"+r(s.linewidth)+";opacity:"+r(s.alpha),"stroke-dasharray":null!=(a=s.dash)&&a},0,0,1)],l.push(t("svg",{style:"position:absolute;overflow:visible;left:"+r(s.x)+"px;top:"+r(s.y)+"px;width:"+r(s.width)+"px;height:"+r(s.height)+"px"},d)),t(i,0,l)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/svg-triangle/designer",["../../designer/props","../../designer/transform","../svg"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../../designer/props"),a=e("../../designer/transform"),d=e("../svg");let l=["ctrl1","ctrl2","ctrl3"];t.default=d.default.extend({ctor(){this.set({view:"elements/svg-triangle/index"})}}).static({type:"svg-triangle",title:"bk",icon:"&#xe62f;",scales:["x","y","width","height","ctrl1X","ctrl1Y","ctrl2X","ctrl2Y","ctrl3X","ctrl3Y","linewidth","dash"],modifier:{protate:1},moved:[{key:"x",use:"x"},{key:"y",use:"y"},{key:"ctrl1X",use:"x"},{key:"ctrl1Y",use:"y"},{key:"ctrl2X",use:"x"},{key:"ctrl2Y",use:"y"},{key:"ctrl3X",use:"x"},{key:"ctrl3Y",use:"y"}],_a1(e){let t=e.ctrl1X,i=e.ctrl1Y,r=e.ctrl1X,a=e.ctrl1Y;for(let d=l.length;d--;){let s=l[d],o=e[s+"X"],n=e[s+"Y"];o<t&&(t=o),o>r&&(r=o),n<i&&(i=n),n>a&&(a=n)}e.x=t,e.y=i,e.width=r-t,e.height=a-i},_bS:l,_K:(e,t)=>({alpha:1,x:e,y:t,ctrl1X:e+100,ctrl1Y:t,ctrl2X:e,ctrl2Y:t+100,ctrl3X:e+200,ctrl3Y:t+100,width:200,height:100,linewidth:1,dash:0,fillcolor:"",color:"#000000",locked:!1}),props:[{key:"x",read:a.default._by,json:1},{key:"y",read:a.default._by,json:1},{key:"width",read:a.default._by,json:1},{key:"height",read:a.default._by,json:1},{tip:"a2",key:"ctrl1X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a3",key:"ctrl1Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a4",key:"ctrl2X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"a5",key:"ctrl2Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"be",key:"ctrl3X",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{tip:"bf",key:"ctrl3Y",type:r.default._an,read:a.default._by,write:a.default._bz,json:1},{type:r.default._ap},{tip:"aP",key:"linewidth",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"aQ",key:"dash",type:r.default._an,read:a.default._by,write:a.default._bz,min:0,max:20,json:1},{tip:"P",key:"alpha",type:r.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"aR",key:"color",type:r.default._ao,json:1},{tip:"aS",key:"fillcolor",type:r.default._ao,json:1,alpha:!0,clear:!0},{type:r.default._ap},{tip:"S",key:"locked",type:r.default._aq,refresh:!0,free:!0}]})}),define("elements/svg-triangle/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l=[],{props:s}=e;return d=[t("path",{d:"M"+r(s.ctrl1X-s.x)+" "+r(s.ctrl1Y-s.y)+"L"+r(s.ctrl2X-s.x)+" "+r(s.ctrl2Y-s.y)+"L"+r(s.ctrl3X-s.x)+" "+r(s.ctrl3Y-s.y)+"Z",style:"fill:"+r(s.fillcolor||"none")+";stroke:"+r(s.color)+";stroke-width:"+r(s.linewidth)+";opacity:"+r(s.alpha),"stroke-dasharray":null!=(a=s.dash)&&a},0,0,1)],l.push(t("svg",{style:"position:absolute;overflow:visible;left:"+r(s.x)+"px;top:"+r(s.y)+"px;width:"+r(s.width)+"px;height:"+r(s.height)+"px"},d)),t(i,0,l)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/table/consts",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_bZ:120,_b0:200,_b1:100}}),define("elements/table/designer",["magix","../../designer/props","../../i18n/index","../../designer/transform","../designer","../../designer/service","./consts"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../../designer/props"),d=e("../../i18n/index"),l=e("../../designer/transform"),s=e("../designer"),o=e("../../designer/service"),n=e("./consts");let p=s.default.prototype,c=r.default.State,u=(e,t,i)=>{let{bind:r,columns:a}=e,d=c.get("_d");if(r.fields&&r.fields.length){let l=0;for(let e of r.fields)l+=a[e.id]||n.default._bZ*d;if(e.width=l+1,i||!t)e.loadingHeight=n.default._b1*d,e.height=n.default._b1*d+e.theadRowHeight+7,e.data={tip:(null==i?void 0:i.msg)||"\u6b63\u5728\u52a0\u8f7d\u6570\u636e..."};else{let i=c.get("_5").height*d-e.y-e.theadRowHeight-6-1-e.tfootSpacing,r=Math.floor(i/(e.tbodyRowHeight+3));r<1&&(r=1),t.length>r&&(t=t.slice(0,r)),e.height=e.theadRowHeight+e.tbodyRowHeight*t.length+1+3*(t.length+1),e.data={list:t}}}else e.height=e.theadRowHeight+e.tbodyRowHeight+7,e.width=n.default._b0*d},h=new r.default.Cache,f=s.default.extend({ctor(){this.set({view:"elements/table/dshow"});let e=()=>{let e=this.get("element");this._bg(e)};c.on("b",e),this.on("destroy",()=>{c.off("b",e)})},_b2(e){let{props:t}=e,{bind:i}=t;if(i.url){let e=h.get(i.url);if(e)u(t,e.list,e.error);else{u(t);let e=r.default.mark(this,"_b2");this.fetch({name:"_aE",url:i.url},(r,a)=>{let d=a.get("data",[]);h.set(i.url,{list:d,error:r}),u(t,d,r);let l=this.get("element");e()&&(this.digest({element:l}),c.fire("e"))})}}else u(t)},assign(e){this._b2(e.element),p.assign.call(this,e)},_bg(e){this._b2(e),p._bg.call(this,e)}}).static({type:"table",title:"bl",icon:"&#xe660;",scales:["x","y","theadRowHeight","tbodyRowHeight","theadFontsize","tbodyFontsize","tfootSpacing",(e,t,i)=>{let{columns:r}=e;for(let e in r)r[e]*=t;i&&(i.columns=r)}],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({alpha:1,x:e,y:t,width:200,height:77,locked:!1,cellAlign:"center",tfootSpacing:20,theadFontsize:16,theadRowHeight:40,theadForecolor:"#000000",tbodyRowHeight:30,tbodyFontsize:14,tbodyForecolor:"#000000",theadRowBackground:"#ffda95",tbodyEvenRowBackground:"#dde09d",tbodyOddRowBackground:"#f2f5cc",bordercolor:"#000000",bind:{url:"",id:"",fields:[]},columns:{}}),props:[{tip:"J",type:a.default._an,key:"x",read:l.default._by,write:l.default._bz,json:1},{tip:"K",type:a.default._an,key:"y",read:l.default._by,write:l.default._bz,json:1},{type:a.default._ap},{tip:"O",key:"bind",type:a.default._ay,json:1,dockTop:1},{tip:"bm",key:"columns",type:a.default._az,min:20,max:300,read:e=>{let t={};for(let i in e)t[i]=l.default._by(e[i]);return t},write:e=>{let t={};for(let i in e)t[i]=l.default._bz(e[i]);return t},json:1,dockTop:1},{tip:"bn",min:0,key:"tfootSpacing",type:a.default._an,read:l.default._by,write:l.default._bz,json:1},{type:a.default._ap},{tip:"bo",type:a.default._aB,dockTop:1,write(e,t){Object.assign(t,e)}},{tip:"ab",key:"bordercolor",type:a.default._ao,json:1},{tip:"bp",key:"cellAlign",type:a.default._av,items:[{text:d.default("bq"),value:"left"},{text:d.default("br"),value:"center"},{text:d.default("bs"),value:"right"}],json:1},{tip:"bt",min:25,max:100,key:"theadRowHeight",type:a.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"bu",min:25,max:100,key:"tbodyRowHeight",type:a.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"bv",min:12,max:100,key:"theadFontsize",type:a.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"bw",key:"theadForecolor",type:a.default._ao,json:1},{tip:"bx",key:"theadRowBackground",type:a.default._ao,clear:!0,alpha:!0,json:1},{tip:"by",min:12,max:100,key:"tbodyFontsize",type:a.default._an,read:l.default._by,write:l.default._bz,json:1},{tip:"bw",key:"tbodyForecolor",type:a.default._ao,json:1},{tip:"bz",key:"tbodyEvenRowBackground",type:a.default._ao,clear:!0,alpha:!0,json:1},{tip:"bA",key:"tbodyOddRowBackground",type:a.default._ao,clear:!0,alpha:!0,json:1},{tip:"P",key:"alpha",type:a.default._an,step:.1,fixed:1,min:0,max:1,json:1},{type:a.default._ap},{tip:"S",key:"locked",type:a.default._aq,refresh:!0,free:!0}]});t.default=f.merge(o.default)}),define("elements/table/dshow",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s,o,n,p,c,u,h,f,g,y=[],{props:x}=e;if(d=[],x.bind&&x.bind.fields&&x.bind.fields.length){o=[];for(let e=x.bind.fields,i=e.length,a=0;a<i;a+=1){let i=e[a];u=[t(0,0,r(i.name))],c=[t("div",{class:"rd-K",style:"height:"+r(x.theadRowHeight)+"px;line-height:"+r(x.theadRowHeight)+"px;font-size:"+r(x.theadFontsize)+"px;color:"+r(x.theadForecolor)},u)],p="width:"+r(x.columns[i.id])+"px;border-color:"+r(x.bordercolor)+";text-align:"+r(x.cellAlign)+";",x.theadRowBackground&&(p+="background:"+r(x.theadRowBackground)),n=[t("th",{class:"rd-I",style:p},c)],o.push(...n)}if(s=[t("tr",0,o)],l=[t("thead",0,s)],s=[],x.data){if(o=[],x.data.tip)h=[t(0,0,r(x.data.tip))],u=[t("div",{class:"rd-K",style:"height:"+r(x.loadingHeight)+"px;line-height:"+r(x.loadingHeight)+"px;font-size:"+r(x.theadFontsize)+"px"},h)],c=[t("td",{class:"rd-I rd-J",colspan:r(x.bind.fields.length),style:"border-color:"+r(x.bordercolor)},u)],n=[t("tr",0,c)],o.push(...n);else{n=[];for(let e=x.data.list,i=e.length,a=0;a<i;a+=1){let i=e[a];u=[];for(let e=x.bind.fields,d=e.length,l=0;l<d;l+=1){g=[t(0,0,r(i[e[l].id]))],f=[t("div",{class:"rd-K",style:"height:"+r(x.tbodyRowHeight)+"px;line-height:"+r(x.tbodyRowHeight)+"px;font-size:"+r(x.tbodyFontsize)+"px;color:"+r(x.tbodyForecolor)},g)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",a%2&&x.tbodyOddRowBackground?p+="background:"+r(x.tbodyOddRowBackground):a%2==0&&x.tbodyEvenRowBackground&&(p+="background:"+r(x.tbodyEvenRowBackground)),h=[t("td",{class:"rd-I",style:p},f)],u.push(...h)}c=[t("tr",0,u)],n.push(...c)}o.push(...n)}s.push(...o)}l.push(t("tbody",0,s)),d.push(...l)}else c=[t(0,0,"\u7ed1\u5b9a\u6570\u636e")],n=[t("div",{class:"rd-K",style:"height:"+r(x.theadRowHeight)+"px;line-height:"+r(x.theadRowHeight)+"px;font-size:"+r(x.theadFontsize)+"px;color:"+r(x.theadForecolor)},c)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",x.theadRowBackground&&(p+="background:"+r(x.theadRowBackground)),o=[t("th",{class:"rd-I",style:p},n)],s=[t("tr",0,o)],l=[t("thead",0,s)],c=[t(0,0,"\u8bf7\u5148\u7ed1\u5b9a\u6570\u636e")],n=[t("div",{class:"rd-K",style:"height:"+r(x.tbodyRowHeight)+"px;line-height:"+r(x.tbodyRowHeight)+"px;font-size:"+r(x.tbodyFontsize)+"px;color:"+r(x.tbodyForecolor)},c)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",x.tbodyOddRowBackground&&(p+="background:"+r(x.tbodyOddRowBackground)),o=[t("td",{class:"rd-I",style:p},n)],s=[t("tr",0,o)],l.push(t("tbody",0,s)),d.push(...l);return a=[t("table",{class:"rd-G rd-H",style:"border-color:"+r(x.bordercolor)},d)],y.push(t("div",{style:"position:absolute;left:"+r(x.x)+"px;top:"+r(x.y)+"px;opacity:"+r(x.alpha)+";width:"+r(x.width)+"px"},a)),t(i,0,y)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("elements/table/index",["magix","../../designer/service","../../elements/table/consts"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../../designer/service"),d=e("../../elements/table/consts");let l=(e,t,i)=>{let{bind:r,columns:a}=e;if(r.fields&&r.fields.length){let l=0;for(let e of r.fields)l+=a[e.id]||d.default._bZ;e.width=l+1,e.data=i||!t?{tip:(null==i?void 0:i.msg)||"\u6b63\u5728\u52a0\u8f7d\u6570\u636e..."}:{list:t}}else e.width=d.default._b0};t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s,o,n,p,c,u,h,f,g,y=[],{props:x}=e;if(d=[],x.bind&&x.bind.fields&&x.bind.fields.length){o=[];for(let e=x.bind.fields,i=e.length,a=0;a<i;a+=1){let i=e[a];u=[t(0,0,r(i.name))],c=[t("div",{class:"rd-K",style:"height:"+r(x.theadRowHeight)+"px;line-height:"+r(x.theadRowHeight)+"px;font-size:"+r(x.theadFontsize)+"px;color:"+r(x.theadForecolor)},u)],p="width:"+r(x.columns[i.id])+"px;border-color:"+r(x.bordercolor)+";text-align:"+r(x.cellAlign)+";",x.theadRowBackground&&(p+="background:"+r(x.theadRowBackground)),n=[t("th",{class:"rd-I",style:p},c)],o.push(...n)}if(s=[t("tr",0,o)],l=[t("thead",0,s)],s=[],x.data){if(o=[],x.data.tip)h=[t(0,0,r(x.data.tip))],u=[t("div",{class:"rd-K",style:"height:"+r(x.loadingHeight)+"px;line-height:"+r(x.loadingHeight)+"px;font-size:"+r(x.theadFontsize)+"px"},h)],c=[t("td",{class:"rd-I rd-J",colspan:r(x.bind.fields.length),style:"border-color:"+r(x.bordercolor)},u)],n=[t("tr",0,c)],o.push(...n);else{n=[];for(let e=x.data.list,i=e.length,a=0;a<i;a+=1){let i=e[a];u=[];for(let e=x.bind.fields,d=e.length,l=0;l<d;l+=1){g=[t(0,0,r(i[e[l].id]))],f=[t("div",{class:"rd-K",style:"height:"+r(x.tbodyRowHeight)+"px;line-height:"+r(x.tbodyRowHeight)+"px;font-size:"+r(x.tbodyFontsize)+"px;color:"+r(x.tbodyForecolor)},g)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",a%2&&x.tbodyOddRowBackground?p+="background:"+r(x.tbodyOddRowBackground):a%2==0&&x.tbodyEvenRowBackground&&(p+="background:"+r(x.tbodyEvenRowBackground)),h=[t("td",{class:"rd-I",style:p},f)],u.push(...h)}c=[t("tr",0,u)],n.push(...c)}o.push(...n)}s.push(...o)}l.push(t("tbody",0,s)),d.push(...l)}else c=[t(0,0,"\u7ed1\u5b9a\u6570\u636e")],n=[t("div",{class:"rd-K",style:"height:"+r(x.theadRowHeight)+"px;line-height:"+r(x.theadRowHeight)+"px;font-size:"+r(x.theadFontsize)+"px;color:"+r(x.theadForecolor)},c)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",x.theadRowBackground&&(p+="background:"+r(x.theadRowBackground)),o=[t("th",{class:"rd-I",style:p},n)],s=[t("tr",0,o)],l=[t("thead",0,s)],c=[t(0,0,"\u8bf7\u5148\u7ed1\u5b9a\u6570\u636e")],n=[t("div",{class:"rd-K",style:"height:"+r(x.tbodyRowHeight)+"px;line-height:"+r(x.tbodyRowHeight)+"px;font-size:"+r(x.tbodyFontsize)+"px;color:"+r(x.tbodyForecolor)},c)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",x.tbodyOddRowBackground&&(p+="background:"+r(x.tbodyOddRowBackground)),o=[t("td",{class:"rd-I",style:p},n)],s=[t("tr",0,o)],l.push(t("tbody",0,s)),d.push(...l);return a=[t("table",{class:"rd-G rd-H",style:"border-color:"+r(x.bordercolor)},d)],y.push(t("div",{style:"position:absolute;left:"+r(x.x)+"px;top:"+r(x.y)+"px;opacity:"+r(x.alpha)+";width:"+r(x.width)+"px"},a)),t(i,0,y)},assign(e){this.set(e)},render(){let e=this.get("props");l(e),this.digest();let t=r.default.mark(this,"_n"),{bind:i}=e;this.fetch({name:"_aE",url:i.url},(i,r)=>{let a=r.get("data",[]);t()&&(l(e,a,i),this.digest({props:e}))})}}).merge(a.default)}),define("elements/table/printer",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s,o,n,p,c,u,h,f,g,y=[],{props:x}=e;if(d=[],x.bind&&x.bind.fields&&x.bind.fields.length){o=[];for(let e=x.bind.fields,i=e.length,a=0;a<i;a+=1){let i=e[a];u=[t(0,0,r(i.name))],c=[t("div",{class:"rd-K",style:"height:"+r(x.theadRowHeight)+"px;line-height:"+r(x.theadRowHeight)+"px;font-size:"+r(x.theadFontsize)+"px;color:"+r(x.theadForecolor)},u)],p="width:"+r(x.columns[i.id])+"px;border-color:"+r(x.bordercolor)+";text-align:"+r(x.cellAlign)+";",x.theadRowBackground&&(p+="background:"+r(x.theadRowBackground)),n=[t("th",{class:"rd-I",style:p},c)],o.push(...n)}if(s=[t("tr",0,o)],l=[t("thead",0,s)],s=[],x.data){if(o=[],x.data.tip)h=[t(0,0,r(x.data.tip))],u=[t("div",{class:"rd-K",style:"height:"+r(x.loadingHeight)+"px;line-height:"+r(x.loadingHeight)+"px;font-size:"+r(x.theadFontsize)+"px"},h)],c=[t("td",{class:"rd-I rd-J",colspan:r(x.bind.fields.length),style:"border-color:"+r(x.bordercolor)},u)],n=[t("tr",0,c)],o.push(...n);else{n=[];for(let e=x.data.list,i=e.length,a=0;a<i;a+=1){let i=e[a];u=[];for(let e=x.bind.fields,d=e.length,l=0;l<d;l+=1){g=[t(0,0,r(i[e[l].id]))],f=[t("div",{class:"rd-K",style:"height:"+r(x.tbodyRowHeight)+"px;line-height:"+r(x.tbodyRowHeight)+"px;font-size:"+r(x.tbodyFontsize)+"px;color:"+r(x.tbodyForecolor)},g)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",a%2&&x.tbodyOddRowBackground?p+="background:"+r(x.tbodyOddRowBackground):a%2==0&&x.tbodyEvenRowBackground&&(p+="background:"+r(x.tbodyEvenRowBackground)),h=[t("td",{class:"rd-I",style:p},f)],u.push(...h)}c=[t("tr",0,u)],n.push(...c)}o.push(...n)}s.push(...o)}l.push(t("tbody",0,s)),d.push(...l)}else c=[t(0,0,"\u7ed1\u5b9a\u6570\u636e")],n=[t("div",{class:"rd-K",style:"height:"+r(x.theadRowHeight)+"px;line-height:"+r(x.theadRowHeight)+"px;font-size:"+r(x.theadFontsize)+"px;color:"+r(x.theadForecolor)},c)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",x.theadRowBackground&&(p+="background:"+r(x.theadRowBackground)),o=[t("th",{class:"rd-I",style:p},n)],s=[t("tr",0,o)],l=[t("thead",0,s)],c=[t(0,0,"\u8bf7\u5148\u7ed1\u5b9a\u6570\u636e")],n=[t("div",{class:"rd-K",style:"height:"+r(x.tbodyRowHeight)+"px;line-height:"+r(x.tbodyRowHeight)+"px;font-size:"+r(x.tbodyFontsize)+"px;color:"+r(x.tbodyForecolor)},c)],p="text-align:"+r(x.cellAlign)+";border-color:"+r(x.bordercolor)+";",x.tbodyOddRowBackground&&(p+="background:"+r(x.tbodyOddRowBackground)),o=[t("td",{class:"rd-I",style:p},n)],s=[t("tr",0,o)],l.push(t("tbody",0,s)),d.push(...l);return a=[t("table",{class:"rd-G rd-H",style:"border-color:"+r(x.bordercolor)},d)],y.push(t("div",{style:"position:absolute;left:"+r(x.x)+"px;top:"+r(x.y)+"px;opacity:"+r(x.alpha)+";width:"+r(x.width)+"px"},a)),t(i,0,y)},assign(e){this.set(e)},render(){this.digest()}})}),define("elements/text/designer",["../designer","../../designer/props","../../designer/transform","../../i18n/index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("../designer"),a=e("../../designer/props"),d=e("../../designer/transform"),l=e("../../i18n/index");t.default=r.default.extend({ctor(){this.set({view:"elements/text/index"})}}).static({type:"text",title:"bB",icon:"&#xe6bc;",modifier:{width:1,height:1,rotate:1},scales:["x","y","width","height","fontsize","letterspacing"],moved:[{key:"x",use:"x"},{key:"y",use:"y"}],_K:(e,t)=>({background:"",height:25,alpha:1,text:"",letterspacing:0,x:e,y:t,rotate:0,width:200,forecolor:"#000000",fontsize:14,fontfamily:"Microsoft YaHei",locked:!1,style:{bold:!1,underline:!1,italic:!1},align:{h:"center",v:"center"}}),props:[{tip:"J",type:a.default._an,key:"x",read:d.default._by,write:d.default._bz,json:1},{tip:"K",type:a.default._an,key:"y",read:d.default._by,write:d.default._bz,json:1},{tip:"L",type:a.default._an,key:"width",min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"M",key:"height",type:a.default._an,min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"N",type:a.default._an,key:"rotate",min:-360,max:360,json:1},{type:a.default._ap},{tip:"bC",key:"fontsize",type:a.default._an,min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"bD",key:"fontfamily",type:a.default._av,items:[{value:"SimSun",text:l.default("bE")},{value:"SimHei",text:l.default("bF")},{value:"Microsoft YaHei",text:l.default("bG")},{value:"Microsoft JhengHei",text:l.default("bH")},{value:"KaiTi",text:l.default("bI")},{value:"LiSu",text:l.default("bJ")},{value:"YouYuan",text:l.default("bK")},{value:"Arial",text:"Arial"},{value:"Times New Roman",text:"Times New Roman"},{value:"Tahoma",text:"Tahoma"},{value:"webdings",text:"webdings"},{value:"Arial Black",text:"Arial Black"},{value:"Arial Narrow",text:"Arial Narrow"},{value:"Arial Unicode MS",text:"Arial Unicode MS"}],json:1},{tip:"P",key:"alpha",type:a.default._an,step:.1,fixed:1,min:0,max:1,json:1},{tip:"bL",key:"letterspacing",type:a.default._an,min:0,read:d.default._by,write:d.default._bz,json:1},{tip:"Q",key:"background",clear:!0,alpha:!0,type:a.default._ao,json:1},{tip:"bw",key:"forecolor",type:a.default._ao,json:1},{tip:"bM",key:"style",type:a.default._ar,json:1},{tip:"bN",key:"align",type:a.default._as,json:1},{tip:"bO",key:"text",type:a.default._at,dockTop:!0,json:1},{type:a.default._ap},{tip:"S",key:"locked",type:a.default._aq,refresh:!0,free:!0}]})}),define("elements/text/index",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l,s=[],{props:o,i18n:n}=e;return l="",o.text?l+=" "+r(o.text)+" ":l+=" "+r(n("bP"))+" ",d=[t(0,0,l)],a="position:absolute;left:"+r(o.x)+"px;top:"+r(o.y)+"px;display:flex;color:"+r(o.forecolor)+";",o.background&&(a+="background:"+r(o.background)+";"),a+="font-size:"+r(o.fontsize)+"px;height:"+r(o.height)+"px;letter-spacing:"+r(o.ls)+"px;opacity:"+r(o.alpha)+";",o.style.bold&&(a+="font-weight:bold;"),o.style.italic&&(a+="font-style:italic;"),o.style.underline&&(a+="text-decoration:underline;"),a+="align-items:"+r(o.align.v)+";justify-content:"+r(o.align.h)+";overflow:hidden;width:"+r(o.width)+"px;transform:rotate("+r(o.rotate)+"deg);font-family:"+r(o.fontfamily),s.push(t("div",{style:a},d)),t(i,0,s)},assign(e){return this.set(e),!0},render(){this.digest()}})}),define("designer/axis",["magix","../gallery/mx-dragdrop/index","../gallery/mx-pointer/cursor","./history"],(e,t,i)=>{let r,a={class:"rd-Z"},d={class:"rd-X"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("../gallery/mx-dragdrop/index"),o=e("../gallery/mx-pointer/cursor"),n=e("./history");l.default.applyStyle("rd-a",".rd-L{height:20px;border-bottom:1px solid #ccc;overflow:hidden;width:100%;background:#fff;z-index:200;position:relative}.rd-M{top:0;width:1px}.rd-M,.rd-N{position:absolute;background:#fa742b;z-index:200;display:none;pointer-events:none}.rd-N{left:0;height:1px}.rd-O{float:left;overflow:hidden;z-index:200;position:relative}.rd-P,.rd-O{width:20px;border-right:1px solid #ccc;background:#fff}.rd-P{position:absolute;left:0;top:0;height:20px;border-bottom:1px solid #ccc;z-index:201}.rd-Q{left:5px;top:22px}.rd-Q,.rd-R{cursor:default;position:absolute;font-size:10px}.rd-R{top:2px;left:24px}.rd-S,.rd-T{position:relative;z-index:100}.rd-S{top:20px}.rd-T{left:20px}.rd-U{width:4px;border-left:1px solid #fa742b}.rd-U,.rd-V{position:absolute;pointer-events:none}.rd-V{height:1px;background:#fa742b}.rd-W{position:absolute;left:-15px;top:4px;font-size:10px;color:#666;cursor:pointer;pointer-events:all}.rd-X{top:2px;cursor:default}.rd-X,.rd-Y{position:absolute;left:4px;font-size:10px;color:#666}.rd-Y{top:-15px;cursor:pointer;pointer-events:all}.rd-Z{position:absolute;left:4px;top:2px;font-size:10px;color:#666;cursor:default}.rd-0{width:25px;top:-1px;height:3px;left:30px;cursor:ns-resize}.rd-1,.rd-0{position:absolute;overflow:hidden;background:#fa742b;pointer-events:all}.rd-1{width:3px;left:-2px;height:25px;top:20px;cursor:ew-resize}");let p={.5:{space:200,step:10},1:{space:100,step:10},1.5:{space:80,step:10},2:{space:60,step:10},2.5:{space:48,step:8},3:{space:40,step:8},3.5:{space:32,step:8},4:{space:24,step:8},4.5:{space:16,step:8},5:{space:16,step:8}},c=l.default.View.extend({tmpl:(e,t,i,l,s,o,n,p)=>{let c,u,h,f,g,y,x,_,b,m,w=[],{sTop:k,yHelpers:v,yStart:j,scale:A,vWidth:S,i18n:z,sLeft:M,xHelpers:Y,xStart:X,vHeight:P,width:R,step:T,space:O,hbar:L,barColor:C,bar:I,xEnd:B,height:H,yEnd:E}=e;c=[];for(let e=v.length,r=0;r<e;r+=1){let e=v[r];m=Math.abs(j)+e.mm*A+20,f=[t(0,0,"\ue600")],h=[t("i",{class:"rd-Y rd-w",title:l(z("_")),"mx5-click":i+"\x1e\x1e_x({type:'y',id:'"+p(e.id)+"'})"},f)],f=[t(0,0,l(e.mm))],h.push(t("span",a,f),t("span",{class:"rd-0","mx5-mousedown":i+"\x1e\x1e_B({type:'y',id:'"+p(e.id)+"',c:"+l(m)+"})",title:l(z("a"))})),u=[t("div",{class:"rd-V",style:"width:"+l(S)+"px;top:"+l(m)+"px"},h)],c.push(...u)}w.push(t("div",{class:"rd-T",style:"top:-"+l(k)+"px",id:i+"_y_help","mx5-contextmenu":i+"\x1e_C()"},c)),c=[];for(let e=Y.length,r=0;r<e;r+=1){let e=Y[r];m=Math.abs(X)+e.mm*A,f=[t(0,0,"\ue600")],h=[t("i",{class:"rd-W rd-w",title:l(z("_")),"mx5-click":i+"\x1e\x1e_x({type:'x',id:'"+p(e.id)+"'})"},f)],f=[t(0,0,l(e.mm))],h.push(t("span",d,f),t("span",{class:"rd-1","mx5-mousedown":i+"\x1e\x1e_B({type:'x',id:'"+p(e.id)+"',c:"+l(m)+"})",title:l(z("a"))})),u=[t("div",{class:"rd-U",style:"height:"+l(P)+"px;left:"+l(m)+"px"},h)],c.push(...u)}w.push(t("div",{class:"rd-S",style:"left:-"+l(M)+"px",id:i+"_x_help","mx5-contextmenu":i+"\x1e_C()"},c)),f=[];for(let e=0;e<X;e+=T)g=[],e&&(y=[],(b=e/A)%O==0?(x=[t("rect",{width:"1",height:l(L),x:l(X-e),y:l(20-L-1),style:"fill:"+l(C)},0,0,1)],_=[t(0,0,l(-b))],x.push(t("text",{x:l(X-e+2),y:"14",style:"font-size:10px;fill:#999"},_)),y.push(...x)):(x=[t("rect",{width:"1",height:l(I),x:l(X-e),y:l(20-I-1),style:"fill:"+l(C)},0,0,1)],y.push(...x)),g.push(...y)),f.push(...g);for(let e=0;e<B;e+=T)g=[],(b=e/A)%O==0?(y=[t("rect",{width:"1",height:l(L),x:l(X+e),y:l(20-L-1),style:"fill:"+l(C)},0,0,1)],x=[t(0,0,l(b))],y.push(t("text",{x:l(X+e+2),y:"14",style:"font-size:10px;fill:#999"},x)),g.push(...y)):(y=[t("rect",{width:"1",height:l(I),x:l(X+e),y:l(20-I-1),style:"fill:"+l(C)},0,0,1)],g.push(...y)),f.push(...g);h=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+l(R)+" 19",style:"cursor:default;position:absolute;width:"+l(R)+"px;height:19px"},f)],u=[t("div",{style:"width:"+l(R)+"px;height:100%"},h)],c=[t("div",{class:"rd-L",id:i+"_x"},u)],h=[t(0,0,"-")],u=[t("span",{class:"rd-Q",id:i+"_x_tip"},h)],c.push(t("div",{class:"rd-M",id:i+"_x_line",style:"height:"+l(P+20)+"px"},u)),w.push(t("div",{"mx5-mousemove":i+"\x1e_q()","mx5-mouseout":i+"\x1e_r()","mx5-click":i+"\x1e_v()"},c)),f=[];for(let e=0;e<j;e+=T)g=[],e&&(y=[],(b=e/A)%O==0?(x=[t("rect",{width:l(L),height:"1",x:l(20-L),y:l(j-e),style:"fill:"+l(C)},0,0,1)],_=[t(0,0,l(-b))],x.push(t("text",{x:"14",y:l(j-e+2),style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+l(j-e)+")"},_)),y.push(...x)):(x=[t("rect",{width:l(I),height:"1",x:l(20-I),y:l(j-e),style:"fill:"+l(C)},0,0,1)],y.push(...x)),g.push(...y)),f.push(...g);for(let e=0;e<E;e+=T)g=[],(b=e/A)%O==0?(y=[t("rect",{width:l(L),height:"1",x:l(20-L),y:l(j+e),style:"fill:"+l(C)},0,0,1)],x=[t(0,0,l(b))],y.push(t("text",{x:"14",y:l(j+e),style:"font-size:10px;fill:#999",transform:"rotate(-90,13,"+l(j+e-2)+")"},x)),g.push(...y)):(y=[t("rect",{width:l(I),height:"1",x:l(20-I),y:l(j+e),style:"fill:"+l(C)},0,0,1)],g.push(...y)),f.push(...g);return h=[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 "+l(H),style:"cursor:default;position:absolute;width:19px;height:"+l(H)+"px"},f)],u=[t("div",{style:"height:"+l(H)+"px"},h)],c=[t("div",{class:"rd-O",style:"height:"+l(P)+"px",id:i+"_y"},u)],h=[t(0,0,"-")],u=[t("span",{class:"rd-R",id:i+"_y_tip"},h)],c.push(t("div",{class:"rd-N",id:i+"_y_line",style:"width:"+l(S+20)+"px"},u)),w.push(t("div",{"mx5-mousemove":i+"\x1e_s()","mx5-mouseout":i+"\x1e_t()","mx5-click":i+"\x1e_w()"},c)),r?w.push(r):w.push(r=t("div",{_:"_",class:"rd-P"})),t(i,0,w)},init(e){let t=l.node(e.scroll);t.addEventListener("scroll",()=>{this.__()},{passive:!0}),this._a=t,this.set({bar:4,hbar:12,barColor:"#aaa"});let i=this._b(this.render);l.State.on("_",i),l.State.on("a",i),l.State.on("b",i),l.State.on("c",i),l.State.on("d",i),l.State.on("e",i),l.State.on("f",i)},async _m(){if(this._c){let e=this._a,t=l.State.get("_d"),i=Math.max(e.scrollWidth,window.innerWidth)+500,r=Math.max(e.scrollHeight,window.innerHeight)+300,a=0,d=0,s=20,o=0,n=0,c=10,u=10,h=l.node("stage_canvas"),f=l.node("stage_outer"),g=h.getBoundingClientRect(),y=f.getBoundingClientRect();d=i-(a=Math.round(g.left-y.left)+s),n=r-(o=Math.round(g.top-y.top)),c=e.offsetHeight,u=e.offsetWidth;let x=p[t],_=l.default.mark(this,"@{render}");await this.digest({sTop:e.scrollTop,sLeft:e.scrollLeft,width:i,scale:t,space:x.space,step:x.step,height:r,xStart:a,xEnd:d,yStart:o,vHeight:c,vWidth:u,yEnd:n}),_()&&(this._e=l.node(this.id+"_x"),this._f=l.node(this.id+"_y"),this._g=l.node(this.id+"_x_line"),this._h=l.node(this.id+"_y_line"),this._i=l.node(this.id+"_x_tip"),this._j=l.node(this.id+"_y_tip"),this._k=l.node(this.id+"_x_help"),this._l=l.node(this.id+"_y_help"))}},__(){let e=this._e,t=this._f,i=this._l,r=this._k,a=this._a,d=a.scrollTop,l=a.scrollLeft;e&&(e.scrollLeft=l),t&&(t.scrollTop=d),r&&(r.style.left=-l+"px"),i&&(i.style.top=-d+"px"),this.set({sLeft:l,sTop:d})},render(){let e=l.default.mark(this,"_n");this.set({xHelpers:l.State.get("_o"),yHelpers:l.State.get("_p")});let t=3,i=()=>{l.node("stage_canvas")?e()&&(this._c=1,this._m(),t>0&&(t--,setTimeout(i,30))):setTimeout(i,30)};setTimeout(i,30)},"_q<mousemove>"(e){let t=this._e,i=e.pageX,r=this.get("xStart"),a=this._g.style;a.display="block",a.left=i+"px";let d=i-r+t.scrollLeft,l=this.get("scale");this._i.innerHTML=(d/l).toFixed(0)},"_r<mouseout>"(e){l.default.inside(e.relatedTarget,e.eventTarget)||(this._g.style.display="none")},"_s<mousemove>"(e){let t=this.root.getBoundingClientRect(),i=e.pageY-t.top,r=this.get("yStart"),a=this._f,d=this._h.style;d.display="block",d.top=i+"px";let l=i-r-20+a.scrollTop,s=this.get("scale");this._j.innerHTML=(l/s).toFixed(0)},"_t<mouseout>"(e){l.default.inside(e.relatedTarget,e.eventTarget)||(this._h.style.display="none")},"_v<click>"(e){let t=e.pageX;this._g.style.display="none";let i=(t-this.get("xStart")+this._e.scrollLeft)/this.get("scale")|0,r=this.get("xHelpers");r.push({mm:i,id:l.default.guid("x_")}),this.digest({xHelpers:r}),n.default._u()},"_w<click>"(e){this._h.style.display="none";let t=this.root.getBoundingClientRect(),i=(e.pageY-t.top-this.get("yStart")-20+this._f.scrollTop)/this.get("scale")|0,r=this.get("yHelpers");r.push({mm:i,id:l.default.guid("x_")}),this.digest({yHelpers:r}),n.default._u()},"_x<click>"(e){let{type:t,id:i}=e.params,r=t+"Helpers",a=this.get(r);for(let e=a.length;e--;){if(a[e].id==i){a.splice(e,1);break}}this.digest({[r]:a}),n.default._u()},"_B<mousedown>"(e){if(e.target!=e.eventTarget)return;let t,{type:i,id:r,c:a}=e.params,d=i+"Helpers",l=this.get(d);for(let e of l)if(e.id==r){t=e;break}if(t){let r=this.get(i+"Start"),s=0;this._y(e,n=>{let p;s||(s=1,o.default._z(e.eventTarget)),p="x"==i?n.pageX-e.pageX+a:n.pageY-e.pageY+a-20,t.mm=(p-r)/this.get("scale")|0,this.digest({[d]:l})},()=>{s&&(o.default._A(),n.default._u())})}},"_C<contextmenu>"(e){e.preventDefault()},"$win<resize>"(){setTimeout(()=>{this._m()},0)}});t.default=c.merge(s.default)}),define("designer/const",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_D:50,_d:1,_E:1280,_F:800,_G:20,_H:4}}),define("designer/content",["magix","./tojson"],(e,t,i)=>{let r={class:"rd-o"},a={class:"rd-p",style:"word-break:break-all"},d={value:"value"};Object.defineProperty(t,"__esModule",{value:!0});const l=e("magix"),s=e("./tojson");l.default.applyStyle("rd-b",".rd-2{width:100%;height:500px}"),t.default=l.default.View.extend({tmpl:(e,t,i,l)=>{let s,o,n=[],{i18n:p,body:c}=e;return o=[t(0,0,l(p("b")))],s=[t("h5",0,o)],n.push(t("div",r,s)),s=[t("textarea",{class:"rd-2 rd-u",value:l(c)},0,d)],n.push(t("div",a,s)),t(i,0,n)},render(){this.digest({body:s.default()})}})}),define("designer/contextmenu",["magix","../i18n/index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../i18n/index");let d={spliter:!0},l={id:0,text:"c",short:" (Ctrl+A)"},s={id:1,text:"d",short:" (Ctrl+C)"},o={id:14,text:"e",short:" (Ctrl+X)"},n={id:2,text:"f",short:" (Ctrl+V)"},p={id:5,text:"g",short:" (U)"},c={id:6,text:"h",short:" (D)"},u={id:3,text:"i",short:" (T)"},h={id:4,text:"j",short:" (B)"},f={id:7,text:"k",short:" (Delete)"},g={id:31,text:"r",short:" (Ctrl+G)"},y={id:32,text:"s",short:" (Shift+G)"},x={},_=e=>t=>{e._||(e._=r.default.guid("_m"));let i=t+e._;if(!x[i]){let t=[];for(let i of e)i.spliter?t.push(i):t.push({id:i.id,to:i.to,text:a.default(i.text)+(i.short||"")});x[i]=t}return x[i]};t.default={allId:l.id,pasteId:n.id,topId:u.id,upId:p.id,bottomId:h.id,downId:c.id,cutId:o.id,copyId:s.id,deleteId:f.id,ungroupId:y.id,groupId:g.id,singleElement:_([s,o,f,d,p,u,d,c,h,d,g,y]),multipleElement:_([s,o,f,d,{id:20,text:"l",to:"left"},{id:22,text:"n",to:"center"},{id:21,text:"m",to:"right"},d,{id:23,text:"o",to:"top"},{id:25,text:"q",to:"middle"},{id:24,text:"p",to:"bottom"},d,g,y]),stage:_([l,n,d,s,o,f])}}),define("designer/header",["magix","../elements/index","../gallery/mx-dragdrop/index","../gallery/mx-pointer/select","../gallery/mx-pointer/cursor","../gallery/mx-dialog/index","../gallery/mx-runner/index","./tojson"],(e,t,i)=>{let r,a,d,l,s,o,n,p,c,u,h,f,g,y={class:"rd-D rd-d"},x={class:"rd-C rd-D rd-d rd-j"},_={class:"rd-3 rd-6 rd-g"},b={class:"rd-9 rd-w"},m={class:"rd-a_"},w={class:"rd-8"},k={class:"rd-D rd-e rd-j"};Object.defineProperty(t,"__esModule",{value:!0});const v=e("magix"),j=e("../elements/index"),A=e("../gallery/mx-dragdrop/index"),S=e("../gallery/mx-pointer/select"),z=e("../gallery/mx-pointer/cursor"),M=e("../gallery/mx-dialog/index"),Y=e("../gallery/mx-runner/index"),X=e("./tojson");v.default.applyStyle("rd-c",".rd-3,.rd-4{width:50px;height:40px;display:grid;grid-template-rows:20px 20px;justify-items:center;align-items:center;cursor:pointer;margin:0 2px}.rd-5{grid-template-rows:30px;padding-top:5px}.rd-6{grid-template-columns:50px 10px;width:60px}.rd-4{float:left;border-radius:2px}.rd-4:hover{background:#bd361b}.rd-7{max-width:90%;max-height:90%;-webkit-filter:brightness(2) invert(1) grayscale(1);filter:brightness(2) invert(1) grayscale(1)}.rd-8{display:none;position:absolute;cursor:default;top:100%;left:0;width:278px;padding:4px}.rd-8,.rd-3:hover{background:#e64e30}.rd-3:hover .rd-8{display:block}.rd-9{grid-column:1/2;grid-row:1/2;align-self:flex-end}.rd-a_{font-size:12px;font-weight:400;line-height:12px;grid-column:1/2;grid-row:2/3}.rd-aa{font-size:10px;margin-left:-10px;grid-row:1/3;grid-column:2/3}.rd-ab{height:30px;width:1px;background:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,.27)),color-stop(.3,#fff),color-stop(.7,#fff),to(hsla(0,0%,100%,.27)));margin:2px 12px;float:left}");let P=["requestFullscreen","webkitRequestFullScreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],R=v.default.View.extend({tmpl:(e,t,i,v,j,A,S)=>{let z,M,Y,X,P,R,T,O,L,C,I,B=[],{i18n:H,elements:E}=e;r?z=[r]:(M=[t(0,0,"\ue679")],z=[r=t("i",{_:"_",class:"rd-a rd-w"},M)]),z.push(t(0,0,v(H("t"))+"\u2122")),B.push(t("div",y,z)),z=[];for(let e=E.length,r=0;r<e;r+=1){let e=E[r];if(M=[],e.spliter)Y=a?[a]:[a=t("div",{_:"a",class:"rd-ab"})],M.push(...Y);else{if(Y=[],e.subs){R=[t(0,1,v(e.icon))],P=[t("i",b,R)],R=[t(0,0,v(H(e.title)))],P.push(t("b",m,R)),d?P.push(d):(R=[t(0,0,"\ue73a")],P.push(d=t("i",{_:"b",class:"rd-aa rd-w"},R))),R=[];for(let a=e.subs,d=a.length,l=0;l<d;l+=1){let d=a[l];L=[],e.image?(C=[t("img",{class:"rd-7",src:v(d.image)},0,0,1)],L.push(...C)):(I=[t(0,1,v(d.icon||d.ctrl.icon))],C=[t("i",b,I)],I=[t(0,0,v(H(d.title||d.ctrl.title)))],C.push(t("b",m,I)),L.push(...C)),O="rd-4",e.image&&(O+=" rd-5"),T=[t("div",{"mx5-mousedown":i+"\x1e_P({src:'"+S(A,d,"\x1e_."+r+".a."+l)+"',hide:true})",class:O},L)],R.push(...T)}P.push(t("div",w,R)),X=[t("div",_,P)],Y.push(...X)}else R=[t(0,1,v(e.icon||e.ctrl.icon))],P=[t("i",b,R)],R=[t(0,0,v(H(e.title||e.ctrl.title)))],P.push(t("b",m,R)),X=[t("div",{class:"rd-3 rd-g","mx5-mousedown":i+"\x1e_P({src:'"+S(A,e,"\x1e_."+r)+"'})"},P)],Y.push(...X);M.push(...Y)}z.push(...M)}return B.push(t("div",x,z)),l?M=[l]:(Y=[t(0,0,"\ue6b0")],M=[l=t("i",{_:"c",class:"rd-w"},Y)]),s?M.push(s):(Y=[t(0,0,"\u4fdd\u5b58")],M.push(s=t("b",{_:"d",class:"rd-a_"},Y))),z=[t("div",{class:"rd-3","mx5-click":i+"\x1e_u()"},M)],a?z.push(a):z.push(a=t("div",{_:"a",class:"rd-ab"})),o?M=[o]:(Y=[t(0,0,"\ue72e")],M=[o=t("i",{_:"e",class:"rd-w"},Y)]),n?M.push(n):(Y=[t(0,0,"\u5927\u5c4f")],M.push(n=t("b",{_:"f",class:"rd-a_"},Y))),z.push(t("div",{class:"rd-3","mx5-click":i+"\x1e_S()"},M)),p?M=[p]:(Y=[t(0,0,"\ue764")],M=[p=t("i",{_:"g",class:"rd-w"},Y)]),c?M.push(c):(Y=[t(0,0,"\u5c55\u793a")],M.push(c=t("b",{_:"h",class:"rd-a_"},Y))),z.push(t("div",{class:"rd-3","mx5-click":i+"\x1e_W()"},M)),u?M=[u]:(Y=[t(0,0,"\ue70f")],M=[u=t("i",{_:"i",class:"rd-w"},Y)]),h?M.push(h):(Y=[t(0,0,"\u6253\u5370")],M.push(h=t("b",{_:"j",class:"rd-a_"},Y))),z.push(t("div",{class:"rd-3","mx5-click":i+"\x1e_1()"},M)),a?z.push(a):z.push(a=t("div",{_:"a",class:"rd-ab"})),f?M=[f]:(Y=[t(0,0,"\ue626")],M=[f=t("i",{_:"k",class:"rd-w"},Y)]),g?M.push(g):(Y=[t(0,0,"\u5e2e\u52a9")],M.push(g=t("b",{_:"l",class:"rd-a_"},Y))),z.push(t("div",{class:"rd-3","mx5-click":i+"\x1e_2()"},M)),B.push(t("div",k,z)),t(i,0,B)},render(){this.digest({elements:j.default._I()})},"_P<mousedown>"(e){let{src:t,hide:i}=e.params,{props:r,ctrl:a}=t,d=e.eventTarget.parentNode,l=!1,s=null;v.State.set({_J:t});let o=a._K(0,0);o&&Object.assign(o,r);let{width:n,height:p}=o,c=v.State.get("_d");n*=c,p*=c,S.default._L(),z.default._M("move"),this._y(e,e=>{l||i&&(d.style.display="none"),v.State.fire("g",{width:n,height:p,node:A.default._N(e.clientX,e.clientY),pageX:e.pageX-n/2,pageY:e.pageY-p/2}),v.State.fire("h",e),l=!0},e=>{i&&(d.style.display=""),S.default._A(),z.default._O(),l?e&&(s=A.default._N(e.clientX,e.clientY),v.State.fire("j",{node:s,pageX:e.pageX-n/2,pageY:e.pageY-p/2}),v.State.fire("k")):v.State.fire("i",{pageX:50*Math.random()|0,pageY:50*Math.random()|0})})},"_S<click>"(){let e=v.node("stage_outer");this._Q=screen.width,this._R=screen.height;for(let t of P)if(e[t]){e[t]();break}},"_u<click>"(){this.mxDialog("designer/content",{width:800})},"_W<click>"(){let e=this._T;e&&Y.default._U(e),this._V=0;let t=window.open("./display.html","_W"),i=()=>{t.postMessage(X.default(),"*"),this._V++,this._V>50&&Y.default._U(i)};Y.default._X(100,this._T=i)},"_1<click>"(){let e=this._Y;e&&Y.default._U(e),this._Z=0;let t=window.open("./print.html","_0"),i=()=>{t.postMessage(X.default(),"*"),this._Z++,this._Z>50&&Y.default._U(i)};Y.default._X(100,this._Y=i)},"_2<click>"(){window.open("//github.com/xinglie/report-designer/issues/1")},"$win<message>"(e){"_3"==e.data?Y.default._U(this._Y):"_4"==e.data&&Y.default._U(this._T)},"$doc<webkitfullscreenchange,mozfullscreenchange,fullscreenchange>"(e){let t=document,i=t.fullscreenElement||t.webkitCurrentFullScreenElement||t.mozFullScreenElement||null;v.State.fire("l",{fullscreen:!0,width:this._Q,height:this._R,full:!!i})}});t.default=R.merge(M.default,A.default)}),define("designer/history",["magix","./const"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("./const");let d=[],l=[],s=null,o=-1,n="",p=null,c=()=>JSON.stringify({page:r.State.get("_5"),scale:r.State.get("_d"),elements:r.State.get("_6"),select:r.State.get("_7"),groups:r.State.get("_8"),xLines:r.State.get("_o"),yLines:r.State.get("_p")}),u=e=>{let t=JSON.parse(e),i=r.State.get("_d"),a=t.scale||i;r.State.fire("_",{json:t,scale:i!==a})};t.default={_9(){p||(p=c())},_a_:()=>({canRedo:l.length,canUndo:d.length}),_aa(){d.length=0,l.length=0},_ab(){if(d.length>0){let e=d.pop();l.push(e);let t=d[d.length-1]||p;u(t)}},_ac(){let e=l.pop();e&&(d.push(e),u(e))},_u(e="_save",t=0){let i=c();e!=n&&(s&&(d.push(s),s=null),n=e),l.length=0;let u=e=>{d.push(e),d.length>a.default._D&&(p=d.shift()),r.State.fire("m")};t?(s=i,clearTimeout(o),o=setTimeout(()=>{u(s),s=null},t)):u(i)}}}),define("designer/index",["magix","../elements/index","../gallery/mx-dialog/index","./const","./history","../panels/index","./keys","../gallery/mx-runner/index","./header","./toolbar","./axis","./stage"],(require,exports,module)=>{let $quick_root_c_8_static_node;require("./header"),require("./toolbar"),require("./axis"),require("./stage"),Object.defineProperty(exports,"__esModule",{value:!0});const magix_1=require("magix"),index_1=require("../elements/index"),index_2=require("../gallery/mx-dialog/index"),const_1=require("./const"),history_1=require("./history"),index_3=require("../panels/index"),keys_1=require("./keys"),index_4=require("../gallery/mx-runner/index");let PageCtrl=index_1.default._ad();magix_1.default.applyStyle("rd-d",".rd-ac{background:#fa742b;height:40px;line-height:40px;font-size:16px;padding:0 10px;color:#fff;z-index:202}.rd-ac,.rd-ad{position:relative}.rd-ad{padding:0 10px 0 26px;background:#fafafa;color:#333;height:26px;z-index:201;border-bottom:1px solid #eee}.rd-ae{width:calc(100% - 20px);overflow:scroll;height:calc(100% - 106px);background-color:#edeef3;transition:all .3s;margin-left:20px;position:relative}.rd-af{box-shadow:inset 1px 1px 6px 2px #dadada}.rd-ag{position:fixed;left:20px;top:86px;right:0;bottom:21px;pointer-events:none;box-shadow:inset 0 0 0 20px rgba(250,117,43,.06);z-index:1000}.rd-ah{display:none}.rd-ai{height:20px;background:#fafafa;position:relative;z-index:200;border-top:1px solid #ccc;font-size:12px;color:#999;padding-left:25px;line-height:20px}");let ApplyState=e=>{let t=magix_1.State.get("_5"),i=magix_1.State.get("_6"),r=magix_1.State.get("_7"),a=magix_1.State.get("_o"),d=magix_1.State.get("_p"),{elements:l,map:s}=index_1.default._ae(e.elements);i.length=0,i.push(...l),a.length=0,e.xLines&&a.push(...e.xLines),d.length=0,e.yLines&&d.push(...e.yLines);let o={};if(r.length=0,e.select)for(let t of e.select){let e=s[t.id];e&&(o[e.id]=1,r.push(e))}Object.assign(t,e.page),magix_1.State.set({_af:s,_d:e.scale||1,_ag:o,_8:e.groups})},TogglePanel=e=>{let t=index_3.default._ah()[e];t&&index_3.default._ai(t.id)};exports.default=magix_1.default.View.extend({tmpl:(e,t,i)=>{if(!$quick_root_c_8_static_node){let e,r,a=[];a.push(t("div",{"mx5-view":"designer/header",class:"rd-ac"}),t("div",{"mx5-view":"designer/toolbar",class:"rd-ad rd-j"}),t("div",{"mx5-view":"designer/axis?scroll=stage",class:"rd-g rd-j"}),t("div",{"mx5-view":"designer/stage",id:"stage",class:"rd-ae rd-af rd-k"}),t("div",{class:"rd-ag rd-ah",id:"sdsz"})),r=[t(0,0,"\u5b8c\u6574\u4ee3\u7801\u6216\u529f\u80fd\u5b9a\u5236\u8bf7\u8054\u7cfbQQ:84685009\u6216\u5fae\u4fe1ID:qq84685009")],e=[t("div",{class:"rd-d"},r),t("div",{class:"rd-a rd-e",id:"stage_state"})],a.push(t("div",{class:"rd-ai"},e)),$quick_root_c_8_static_node=t(i,0,a)}return $quick_root_c_8_static_node},init(){magix_1.State.on("_",e=>{ApplyState(e.json)}),magix_1.State.set({_aj:PageCtrl,_5:PageCtrl._K(),_d:const_1.default._d,_6:[],_af:{},_7:[],_ag:{},_8:{},_o:[],_p:[]}),history_1.default._9(),index_4.default._ak(2e3,()=>{Function("debugger")(),eval("debugger")}),magix_1.State.on("n",e=>{let t=magix_1.default.node("stage_state");t&&(t.innerHTML=e.busy?"\u7cfb\u7edf\u6b63\u5fd9...":"")})},async render(){let e=magix_1.default.mark(this,"@{render}");await this.digest(),e()&&index_3.default._al()},"$doc<keydown>"(e){if(e.keyCode!=keys_1.default.Z||!e.shiftKey||e.ctrlKey||e.metaKey)e.keyCode>=49&&e.keyCode<=52?TogglePanel(e.keyCode-49):e.keyCode>=97&&e.keyCode<=100&&TogglePanel(e.keyCode-97);else{index_3.default._am()?index_3.default["@{close.all.panels}"]():index_3.default["@{open.all.panels}"]()}},"$doc<dragover>"(e){e.preventDefault()}}).merge(index_2.default)}),define("designer/keys",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BACKSPACE:8,TAB:9,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,A:65,B:66,C:67,D:68,G:71,T:84,U:85,V:86,X:88,Y:89,Z:90}}),define("designer/props",[],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_an:2,_ao:4,_ap:8,_aq:16,_ar:32,_as:64,_at:128,_au:256,_av:512,_aw:1024,_ax:2048,_ay:4096,_az:8192,_aA:16384,_aB:32768}}),define("designer/service",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");let a=r.default.Service.extend((e,t)=>{let i=e.get("method")||"GET";fetch(e.get("url"),{method:i,credentials:"include"}).then(e=>{if(e.ok)return e.json();throw new Error("Network response error")}).then(i=>{e.set({data:i.data}),t()}).catch(e=>{t({msg:e.message})})});a.add([{name:"_aC",url:r.default.config("getImageUrl"),cache:18e5},{name:"_aD",url:r.default.config("getFieldUrl"),cache:18e5},{name:"_aE",cache:18e5}]),t.default={fetch:(e,t)=>(new a).all(e,t),save:(e,t)=>(new a).save(e,t)}}),define("designer/stage-clipboard",["magix","./stage-elements","./stage-select"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("./stage-elements"),d=e("./stage-select");let l=e=>{if(Array.isArray(e)){let t=[];for(let i of e)t.push(l(i));e=t}else if("Object"==r.default.type(e)){let t={};for(let i in e)t[i]=l(e[i]);e=t}return e};t.default={_aG(){return(this._aF||[]).length},_aH(){return this._aF||[]},_aI(){let e=[],t=r.State.get("_7");for(let i of t)e.push(i);this._aF=e},_aK(){let e=r.State.get("_7");1==e.length&&e[0].props.locked||(this._aI(),this._aJ=!0)},_aN(e){let t=this,i=t._aF,s=r.State.get("_6"),o=!1;if(i){o=!0;let n=[],p=0,c=0,u=0,h=e=>{for(let t of s)if(t.props.x==e.x&&t.props.y==e.y)return 1;return 0},f=({props:t,ctrl:i})=>{if(0===p)if(e)c=e.x-t.x,u=e.y-t.y;else{let e={x:t.x,y:t.y};for(;h(e);)e.x+=20,e.y+=20;for(e.x+t.width<0&&(e.x=-t.width/2),e.y+t.height<0&&(e.y=-t.height/2);h(e);)e.x-=4,e.y-=4;c=e.x-t.x,u=e.y-t.y}for(let e of i.moved)t[e.key]=t[e.key]+("x"==e.use?c:u);t.locked=!1};for(let e of i){let i=l(e);f(i),p++,i.id=r.default.guid("e_"),s.push(i),n.push(i),t._aJ&&a.default._aL(e.id,!0)}t._aJ&&(delete t._aJ,delete t._aF),d.default._aM(n),r.State.set({_af:r.toMap(s,"id")}),r.State.fire("c")}return o}}}),define("designer/stage-elements",["magix","./stage-select","./history","../gallery/mx-pointer/cursor","./transform"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("./stage-select"),d=e("./history"),l=e("../gallery/mx-pointer/cursor"),s=e("./transform");let o=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,p=(e,t)=>{let i=e.start,r=e.end,a=t.start,d=t.end,l=((r.x-i.x)*(a.y-i.y)-(r.y-i.y)*(a.x-i.x))*((r.x-i.x)*(d.y-i.y)-(r.y-i.y)*(d.x-i.x)),s=((d.x-a.x)*(i.y-a.y)-(d.y-a.y)*(i.x-a.x))*((d.x-a.x)*(r.y-a.y)-(d.y-a.y)*(r.x-a.x));return l<0&&s<0},c=(e,t,i)=>{let r,a=n,d=o,l=o,s=n,p=o,c=o;for(let o of t){let{top:t,bottom:n,left:u,right:h}=e[o];if("right"==i)h>a&&(a=h,r=o);else if("left"==i)u<d&&(d=u,r=o);else if("top"==i)t<l&&(l=t,r=o);else if("bottom"==i)n>s&&(s=n,r=o);else if("middle"==i){let e=(n-t)/2;t+e<p&&(p=t+e,r=o)}else if("center"==i){let e=(h-u)/2;u+e<c&&(c=u+e,r=o)}}return r};t.default={_P(e,t){let i=r.State.get("_J");if(i){let{props:d,ctrl:l}=i,s=r.State.get("_6"),o=l._K(e.pageX,e.pageY);o&&Object.assign(o,d);let n=r.State.get("_d"),p=r.State.get("_5"),c={};for(let e of l.scales)"Function"==r.default.type(e)?e(o,n,c):c[e]=o[e]*n;let u,h=c.x-o.x,f=c.y-o.y,g=0,y=0;p.grid&&p.snapGrid&&(g=p.gridWidth*n,y=p.gridHeight*n);for(let e of l.moved)"x"==e.use?(c[e.key]-=h,g>0&&(u=c[e.key]%g,c[e.key]-=u,u>g/2&&(c[e.key]+=g))):(c[e.key]-=f,y>0&&(u=c[e.key]%y,c[e.key]-=u,u>y/2&&(c[e.key]+=y)));for(let e in c)o[e]=c[e];let x={id:r.default.guid("e_"),ctrl:l,type:l.type,props:o};return s.push(x),t&&a.default._aO(x),r.State.set({_af:r.toMap(s,"id")}),s}},_aR(e,t){if(e.shiftKey||e.ctrlKey||e.metaKey){if(!t.props.locked){let e=r.State.get("_7"),i=!1;for(let r=e.length;r--;){let a=e[r];a.id==t.id&&(i=!0),a.props.locked&&e.splice(r,1)}if(i&&e.length>1)return void(a.default._aP(t)&&d.default._u());a.default._aQ(t)&&d.default._u()}}else a.default._aO(t)&&d.default._u()},_aU(e,t){let{element:i}=e.params,s=r.State.get("_7");if(void 0!==e.button&&0!=e.button){let e=!1;for(let t of s)if(t.id===i.id){e=!0;break}return e||a.default._aO(i)&&d.default._u(),void r.State.set({_aS:i})}if(e.shiftKey||e.ctrlKey||e.metaKey)this._aR(e,i);else{l.default._aT("move");let o,n,p=[],c=!1,u={},h=(e,t=1)=>{let{id:r,ctrl:a,props:d}=e;r==i.id&&(o=p.length,n=a),u[r]=t;let l={};for(let e of a.moved)l[e.key]=d[e.key];p.push(l)};for(let e of s)i.id==e.id&&(c=!0),h(e);c||(a.default._aO(i)&&d.default._u(),u={},p.length=0,h(i),s.length=0,s.push(i));let f=r.State.get("_8"),g=r.State.get("_af"),y=[...s];for(let e of s){let t=f[e.id];if(t)for(let e of t)if(!u[e]){let t=g[e];h(t,2),y.push(t)}}let x=0;for(let e of y)if(e.props.locked){x=1;break}let _=!1;r.State.fire("o",{show:1,size:1});let b,m,w=r.State.get("_5"),k=r.State.get("_d"),v=async()=>{let t=b.pageX-e.pageX,i=b.pageY-e.pageY;if(m&&(i+=m._,t+=m.a),w.grid&&w.snapGrid){let e=w.gridHeight*k,r=w.gridWidth*k,a=p[o],d=0,l=0;for(let s of n.moved){let o,n;if("x"==s.use?(d=1,o=a[s.key]+t,o-=n=o%r,n>r/2&&(o+=r),t=o-a[s.key]):(l=1,o=a[s.key]+i,o-=n=o%e,n>e/2&&(o+=e),i=o-a[s.key]),d&&l)break}d||(t=0),l||(i=0)}let a=0;for(let e of y){let d=p[a++];if(!e.props.locked||2===u[e.id]){_=!0;for(let r of e.ctrl.moved)e.props[r.key]=d[r.key]+("x"==r.use?t:i);let a=r.Vframe.byNode(r.node(e.id));if(a){!1!==await a.invoke("assign",[{element:e}])&&a.invoke("render")}}}m&&(await r.default.taskFinale(),m.b()),r.State.fire("d")},j=e=>{e.stop?r.State.off("p",j):(e.c=1,m=e,x||v())};r.State.on("p",j),t._y(e,e=>{r.State.fire("h",e),b=e,x||v()},async()=>{_&&d.default._u(),l.default._A(),r.State.fire("o",{hide:1}),r.State.fire("k")})}},_aW(){let e,t,i=r.State.get("_6"),a=[];for(let r of i){if((e=r.props).locked)continue;t=e.rotate||0;let i={x:e.x,y:e.y,width:e.width,height:e.height},d=s.default._aV(i,t),l=d.point[0],o=d.point[2],n=d.point[6],p=d.point[4],c=l,u=l,h=l,f=l;for(let e of[o,n,p])e.x<c.x&&(c=e),e.x>h.x&&(h=e),e.y<u.y&&(u=e),e.y>f.y&&(f=e);a.push({element:r,left:c,top:u,right:h,bottom:f,points:[l,o,n,p],lines:[{start:l,end:o},{start:o,end:p},{start:p,end:n},{start:n,end:l}]})}return a},_aX(e,t,i){let r,a=[],d=[{start:{x:t.x,y:t.y},end:{x:t.x+t.width,y:t.y}},{start:{x:t.x+t.width,y:t.y},end:{x:t.x+t.width,y:t.y+t.height}},{start:{x:t.x+t.width,y:t.y+t.height},end:{x:t.x,y:t.y+t.height}},{start:{x:t.x,y:t.y+t.height},end:{x:t.x,y:t.y}}];for(let l of e)if(r=!1,i&&i[l.element.id])i&&a.push(l.element);else{for(let e of l.points)if(e.x>=t.x&&e.y>=t.y&&e.x<=t.x+t.width&&e.y<=t.y+t.height){a.push(l.element),r=!0;break}if(!r)for(let e of l.lines){for(let t of d)if(p(e,t)){r=!0,a.push(l.element);break}if(r)break}}return a},_aL(e,t){let i=r.State.get("_6");for(let t=i.length;t--;){if(e==i[t].id){i.splice(t,1),a.default._aY(e);break}}t||a.default._aM()},_aZ(e,t){let i=r.State.get("_6"),a=-1;if(t&&i.length>0){let r=i[i.length-1],d=i[0];if((4==e||6==e)&&t.id!=d.id||(3==e||5==e)&&t.id!=r.id){for(let e=i.length;e--;){if(i[e].id===t.id){i.splice(a=e,1);break}}return 3==e?i.push(t):4==e?i.unshift(t):5==e?i.splice(a+1,0,t):6==e&&(0===a&&(a=1),i.splice(a-1,0,t)),!0}}},_a0(e){let t=r.State.get("_7"),i=r.State.get("_6"),d=t.length,l=t[0];if(0===d||d>1)l=i[e.shiftKey?i.length-1:0],a.default._aO(l);else{let t,r;for(let e=i.length;e--;){let a=i[e];if(a.id==l.id){t=i[e-1];break}r=a}let d=null;e.shiftKey?(t||(t=i[i.length-1]),d=t):(r||(r=i[0]),d=r),d.id!=l.id&&a.default._aO(d)}},async _a2(e,t,i){let a=r.State.get("_af");for(let d of e){let e=a[d],{ctrl:l,props:s}=e,o=r.Vframe.byNode(r.node(e.id));if(o){for(let e of l.moved)e.use==t&&(s[e.key]+=i);l._a1&&l._a1(s),!1!==await o.invoke("assign",[{element:e}])&&o.invoke("render")}}},async _a5(e){let t,i=r.State.get("_7"),l=r.State.get("_aS"),s=r.State.get("_ag"),p=r.State.get("_8"),u=r.State.get("_6"),h=r.State.get("_af"),f=n,g=o,y=o,x=n,_=o,b=o;r.State.set({_aS:null});let m={},w=a.default._a3();for(let e of u){let t=r.node("mask_"+e.id);m[e.id]=t.getBoundingClientRect()}if(l)t=l.id;else{let r=[];for(let e of i)r.push(e.id);t=c(m,r,e)}let{top:k,bottom:v,left:j,right:A}=m[t];f=A,g=j,y=k,x=v,_=k+(v-k)/2,b=j+(A-j)/2;let S=0,z=[];if(w._a4){let r=p[t],a={[t]:1};if(r)for(let e of r)a[e]=1;for(let t of i)if(r=p[t.id]){let t=[];for(let e of r)s[e]&&!a[e]&&t.push(e);if(t.length){let i=c(m,t,e);a[i]||(a[i]=1,z.push(h[i]))}}else a[t.id]||(a[t.id]=1,z.push(t))}else z.push(...i);for(let t of z){let i,r=m[t.id],a=0,d="";if("right"==e?0!=(i=f-r.right)&&(S=1,a=1,d="x"):"left"==e?0!=(i=g-r.left)&&(S=1,a=1,d="x"):"top"==e?0!=(i=y-r.top)&&(S=1,a=1,d="y"):"bottom"==e?0!=(i=x-r.bottom)&&(S=1,a=1,d="y"):"middle"==e?0!=(i=_-(r.top+(r.bottom-r.top)/2))&&(S=1,a=1,d="y"):"center"==e&&0!=(i=b-(r.left+(r.right-r.left)/2))&&(S=1,a=1,d="x"),a){let e;e=w._a4&&p[t.id]||[t.id],await this._a2(e,d,i)}}S&&(r.State.fire("d"),d.default._u())},async _a7(e,t){let i=r.State.get("_7"),a=n,l=n,p=o,c=o;for(let e of i){let t=e.props;t.width>a&&(a=t.width),t.width<p&&(p=t.width),t.height>l&&(l=t.height),t.height<c&&(c=t.height)}let u=0;for(let d of i){let i,o=d.props,n=d.ctrl,h=0,f=s.default._a6(o);if("width"==e?(i=t?p:a,o.width!=i&&(h=1,u=1,o.width=i)):(i=t?c:l,o.height!=i&&(h=1,u=1,o.height=i)),h){let e=s.default._a6(o);o.x+=f.x-e.x,o.y+=f.y-e.y,n._a1&&n._a1(o);let t=r.Vframe.byNode(r.node(d.id));if(t){!1!==await t.invoke("assign",[{element:d}])&&t.invoke("render")}}}u&&(r.State.fire("d"),d.default._u())},async _a8(e,t){let i,a,l,s,p,c=r.State.get("_7"),u=r.State.get("_8"),h=n,f=o,g=n,y=o,x=o,_=n,b=o,m=n,w=[],k=t;for(let e of c){let t,d=e.props,o=d.x+d.width/2,n=d.y+d.height/2;if(o>h&&(h=o),o<f&&(f=o),n>g&&(g=n),n<y&&(y=n),k){t=r.node("mask_"+e.id).getBoundingClientRect();let{left:d,top:o,right:n,bottom:p}=t;d<b&&(b=d,a=t),n>m&&(m=n,l=t),o<x&&(x=o,i=t),p>_&&(_=p,s=t)}w.push({m:e,mx:o,my:n,bound:t})}p=k?"ver"==e?(e,t)=>e.bound.top-t.bound.top:(e,t)=>e.bound.left-t.bound.left:"ver"==e?(e,t)=>e.my-t.my:(e,t)=>e.mx-t.mx,w=w.sort(p);let v=0;if(k){let t=0,r=0,d=w.length;if("ver"==e){i!=s&&d--;for(let e of w)e.bound!=i&&e.bound!=s&&(t+=e.bound.height);r=(s.top-i.bottom-t)/d}else{a!=l&&d--;for(let e of w)e.bound!=a&&e.bound!=l&&(t+=e.bound.width);r=(l.left-a.right-t)/d}let o,n=0;for(let t of w){let d,p,c=0;if("ver"==e){if(t.bound!=i&&t.bound!=s){c=1,n+=p=o.bound.bottom+n+r-t.bound.top,d="y"}}else if(t.bound!=a&&t.bound!=l){c=1,n+=p=o.bound.right+n+r-t.bound.left,d="x"}if(c){v=1;let e=u[t.m.id]||[t.m.id];await this._a2(e,d,p)}o=t}}else{let t=w[0],i=1,r=w.length-1,a=r,d=t.m,l=(g-y)/a,s=(h-f)/a;for(let t=i;t<r;t++){let i=w[t].m,r=0,a="",o=0;if("ver"==e){let e=d.props.y+d.props.height/2;e+=l,e-=i.props.height/2,i.props.y!=e&&(r=1,o=e-i.props.y,a="y")}else{let e=d.props.x+d.props.width/2;e+=s,e-=i.props.width/2,i.props.x!=e&&(r=1,o=e-i.props.x,a="x")}if(r){v=1;let e=u[i.id]||[i.id];await this._a2(e,a,o)}d=i}}v&&(r.State.fire("d"),d.default._u())}}}),define("designer/stage-select",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default={_aO(e){let t=r.State.get("_7"),i=t.length;if(i||e){let a=i>1?null:t[0];t.length=0;let d=!1;if(e?(t.push(e),d=e!=a):i&&(d=!0),d)return r.State.set({_ag:r.toMap(t,"id")}),r.State.fire("q"),!0}},_aQ(e){let t=r.State.get("_7"),i=!1;for(let r of t)if(r.id===e.id){i=!0;break}if(!i)return t.push(e),r.State.set({_ag:r.toMap(t,"id")}),r.State.fire("q"),!0},_aP(e){let t=r.State.get("_7"),i=!1,a=-1;for(let r of t)if(a++,r.id===e.id){i=!0;break}if(i)return t.splice(a,1),r.State.set({_ag:r.toMap(t,"id")}),r.State.fire("q"),!0},_aM(e){let t=r.State.get("_7");t.length=0,e&&t.push.apply(t,e),r.State.set({_ag:r.toMap(t,"id")}),r.State.fire("q")},_a9(e){let t=r.State.get("_ag"),i=0;for(let r in e)if(!t[r]){i=1;break}if(!i)for(let r in t)if(!e[r]){i=1;break}return i},_b_(){let e=r.State.get("_ag"),t=r.State.get("_6"),i=[];for(let e of t)e.props.locked||i.push(e);return this._aM(i),this._a9(e)},_aY(e){let t,i=r.State.get("_8"),a=i[e];if(a){for(let r in i)(t=(a=i[r]).indexOf(e))>-1&&a.splice(t,1),1==a.length&&delete i[a[0]];delete i[e]}},_ba(){let e=r.State.get("_7"),t=r.State.get("_6"),i=!1;if(e.length){let a=r.toMap(e,"id");for(let e=t.length;e--;){let r=t[e];a[r.id]&&(i=!0,t.splice(e,1),this._aY(r.id))}r.State.set({_af:r.toMap(t,"id")}),i&&this._aO()}return i},_bb(e){let t=r.State.get("_7"),i=r.State.get("_8"),a=[];for(let r of t){let t=i[r.id];if(t){e||a.push(...t);for(let e of t)delete i[e]}else a.push(r.id)}if(!e)for(let e of a)i[e]=a},_a3(){let e,t=r.State.get("_7"),i=r.State.get("_8"),a=!1,d=!1;for(let r of t)if(i[r.id]){d=!0,e=i[r.id];break}if(d){let i=r.toMap(e);for(let e of t)if(!i[e.id]){a=!0;break}}else a=t.length>1;return{_a4:a,_bc:d}}}}),define("designer/stage",["magix","../gallery/mx-dragdrop/index","./history","./keys","./stage-elements","./stage-select","./stage-clipboard","./transform","../gallery/mx-pointer/select","../gallery/mx-pointer/cursor","../gallery/mx-menu/index","./contextmenu","../gallery/mx-runner/index","./const"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../gallery/mx-dragdrop/index"),d=e("./history"),l=e("./keys"),s=e("./stage-elements"),o=e("./stage-select"),n=e("./stage-clipboard"),p=e("./transform"),c=e("../gallery/mx-pointer/select"),u=e("../gallery/mx-pointer/cursor"),h=e("../gallery/mx-menu/index"),f=e("./contextmenu"),g=e("../gallery/mx-runner/index"),y=e("./const");let x={[l.default.U]:5,[l.default.D]:6,[l.default.T]:3,[l.default.B]:4};r.default.applyStyle("rd-e",".rd-aj{outline:0;display:flex;position:relative}.rd-ak{padding:80px 280px 80px 120px}.rd-al .rd-ak{padding:0}.rd-am{background-color:#fff;box-shadow:0 3px 6px 0 rgba(0,0,0,.3);background-image:linear-gradient(rgba(200,205,208,.3) 1px,transparent 0),linear-gradient(90deg,rgba(200,205,208,.3),1px,transparent 0)}"),t.default=r.default.View.extend({tmpl:(e,t,i,r,a,d,l)=>{let s,o,n,p,c,u,h=[],{fullscreen:f,rx:g,ry:y,marginTop:x,marginLeft:_,page:b,scale:m,elements:w}=e;c=[];for(let e=w.length,a=0;a<e;a+=1){let e=w[a];u=[t("div",{$:"elements,scale,fullscreen",id:r(e.id),"mx5-view":"elements/"+r(e.type)+"/designer?element="+l(d,e,"\x1e_."+a)+"&scale="+l(d,m,"\x1eb")+"&fullscreen="+l(d,f,"\x1ec"),"mx5-mousedown":i+"\x1e\x1e_bl({element:'"+l(d,e,"\x1e_."+a)+"'})"})],c.push(...u)}return p="width:"+r(b.width*m)+"px;height:"+r(b.height*m)+"px;",b.grid?p+="background-size:"+r(b.gridWidth*m)+"px "+r(b.gridHeight*m)+"px;":(p+="background:"+r(b.background)+";",b.backgroundImage&&(p+="background-image:url("+r(b.backgroundImage)+");background-repeat:"+r("full"==b.backgroundRepeat?"no-repeat":b.backgroundRepeat)+";background-size:","full"==b.backgroundRepeat?p+="100% 100%":p+=r(b.backgroundWidth*m)+"px "+r(b.backgroundHeight*m)+"px;background-position:"+r(b.hor)+"% "+r(b.ver)+"%")),n=[t("div",{class:"rd-am rd-g",id:"stage_canvas",style:p},c)],o=[t("div",{class:"rd-ak",style:f&&"transform:scaleX("+r(g)+") scaleY("+r(y)+");transform-origin:0 0;margin:"+r(x)+"px 0 0 "+r(_)+"px;"},n)],s="rd-aj",f&&(s+=" rd-al"),h.push(t("div",{id:"stage_outer","mx5-contextmenu":i+"\x1e_C()","mx5-mousedown":i+"\x1e_bn()",tabindex:"0","mx5-focusin":i+"\x1e_bp()","mx5-focusout":i+"\x1e_bq()","mx5-keydown":i+"\x1e_bo()",class:s},o),t("div",{id:"pole_"+i,style:"margin-top:-"+r(b.height*m+160)+"px;display:none"})),t(i,0,h)},init(){let e,t=e=>{if(this._bd=0,e.node){if(!r.default.inside(e.node,r.node("stage_outer")))return;{let t=p.default._be({x:e.pageX,y:e.pageY});e.pageX=t.x,e.pageY=t.y}}else e.pageX+=this.root.scrollLeft,e.pageY+=this.root.scrollTop;s.default._P(e,!0)&&(r.State.fire("c"),d.default._u())},i=e=>{let t=r.State.get("_6");e?this.digest({elements:t}):this.set({elements:t})},a=0,l=e=>{let t=r.State.get("_6");if(e.step||e.fullscreen){if(e.fullscreen){let t=r.State.get("_5");if(e.full){let i=e.width/t.width,d=e.height/t.height,l=Math.min(i,d),s=0,o=0;"auto"==t.scaleType?(s=l,o=l):(s=i,o=d);let n=(e.height-o*t.height)/2,p=(e.width-s*t.width)/2,c=r.State.get("_d");1!=c?(e.step=1/c,a=c):a=0,r.State.set({_d:1}),this.set({rx:s,ry:o,marginTop:n,marginLeft:p})}else 0!=a&&(e.step=a,r.State.set({_d:a}));this.set({fullscreen:e.full})}if(e.step)for(let{props:i,ctrl:a}of t)if(a.scales)for(let t of a.scales)"Function"==r.default.type(t)?t(i,e.step):i[t]*=e.step}this.set({elements:t}),this.render()},o=e=>{let t=this.root,i=r.node("pole_"+this.id).style;if(e.size&&(i.width=t.scrollWidth+"px",i.height=t.scrollHeight+"px"),e.show&&(i.display="block"),e.hide){let e=t.scrollTop;i.display="none";let r=t.scrollTop;e>r&&(t.scrollTop=r-1)}},n=null,u=r.node("stage"),h=null,f=0,x=0,_=()=>{if(n){h||(h=u.getBoundingClientRect());let e=u.scrollTop,t=u.scrollLeft,i=e,a=t,d=1;if(n.pageY>h.top&&n.pageY<h.top+y.default._G)(i=e-y.default._H)<0&&(i=0);else if(n.pageY>h.top+h.height-y.default._G&&n.pageY<h.top+h.height){i=e+y.default._H;let t=u.scrollHeight-u.offsetHeight;i>t&&(i=t)}if(n.pageX<h.left+y.default._G)(a=t-y.default._H)<0&&(a=0);else if(n.pageX>h.left+h.width-y.default._G&&n.pageY<h.left+h.width){let e=u.scrollWidth-u.offsetWidth;a>e&&(a=e)}e!=i&&(x+=i-e,d|=2),t!=a&&(f+=a-t,d|=4);let l={a:f,_:x,b(){2&d&&(u.scrollTop=i),4&d&&(u.scrollLeft=a),o({size:1})}};r.State.fire("p",l),l.c||l.b()}};r.State.on("l",l),r.State.on("_",l),r.State.on("a",l),r.State.on("b",l),r.State.on("i",t),r.State.on("j",t),r.State.on("c",i),r.State.on("o",o),r.State.on("h",t=>{n||(this._bd=1,e||(e=r.node("sdsz")),e.classList.remove("rd-ah"),g.default._ak(10,_)),n=t}),r.State.on("k",()=>{n=null,h=null,f=x=0,this._bd=0,e.classList.add("rd-ah"),g.default._bf(_),r.State.fire("p",{stop:!0})}),r.State.on("g",e=>{this._bd=1,r.default.inside(e.node,r.node("stage_outer"))?c.default._bg(e.pageX,e.pageY,e.width,e.height):c.default._A()});g.default._ak(500,()=>{let e=u.scrollWidth,t=u.scrollHeight,i=u.offsetWidth,a=u.offsetHeight,d=0;e!=this._bh&&(this._bh=e,d=1),t!=this._bi&&(this._bi=t,d=1),i!=this._bj&&(this._bj=i,d=1),a!=this._bk&&(this._bk=a,d=1),d&&r.State.fire("f")}),i()},render(){let e=r.State.get("_5");this.digest({scale:r.State.get("_d"),page:e})},"_bl<mousedown>"(e){this.get("fullscreen")||s.default._aU(e,this)},"_bn<mousedown>"(e){if(this.get("fullscreen"))return;let t=e.target;if("stage_canvas"==t.id||r.default.inside(r.node("stage_canvas"),t)){let t=null,i=0,a=r.State.get("_ag");if(e.shiftKey){t={};let e=r.State.get("_7");for(let r of e)t[r.id]=1,i++}else o.default._aO();this._bm=i,c.default._L();let l=0,n=s.default._aW();this._y(e,i=>{l||(l=1,u.default._aT("default"));let r=Math.abs(e.pageX-i.pageX),a=Math.abs(e.pageY-i.pageY),d=Math.min(e.pageX,i.pageX),h=Math.min(e.pageY,i.pageY);c.default._bg(d,h,r,a);let f=p.default._be({x:d,y:h});if(f.width=r,f.height=a,n.length){let e=s.default._aX(n,f,t),i=e.length;i!==this._bm&&(this._bm=i,o.default._aM(e))}},()=>{l&&(c.default._A(),u.default._A()),o.default._a9(a)&&d.default._u()})}},async"_bo<keydown>"(e){let t=this.get("fullscreen"),i=this._bd;if(t||i)return;let{metaKey:a,ctrlKey:p,keyCode:c,shiftKey:u}=e;if(a||p){if(c==l.default.Z)e.preventDefault(),e.shiftKey?d.default._ac():d.default._ab();else if(c==l.default.Y)e.preventDefault(),d.default._ac();else if(c==l.default.A)e.preventDefault(),o.default._b_()&&d.default._u();else if(c==l.default.X)e.preventDefault(),n.default._aK();else if(c==l.default.C)e.preventDefault(),n.default._aI();else if(c==l.default.V)e.preventDefault(),n.default._aN();else if(c==l.default.G){e.preventDefault();let{_a4:t}=o.default._a3();t&&(o.default._bb(),d.default._u(),r.State.fire("c"))}}else if(c==l.default.G){if(u){e.preventDefault();let{_bc:t}=o.default._a3();t&&(o.default._bb(1),d.default._u(),r.State.fire("c"))}}else if(c==l.default.TAB)e.preventDefault(),s.default._a0(e);else if(c==l.default.DELETE||c==l.default.BACKSPACE)e.preventDefault(),o.default._ba()&&(r.State.fire("c"),d.default._u());else if(c==l.default.D||c==l.default.U||c==l.default.T||c==l.default.B){e.preventDefault();let t=r.State.get("_7");1==t.length&&s.default._aZ(x[e.keyCode],t[0])&&(r.State.fire("c"),d.default._u())}else{let t;t=u?10:1,t*=r.State.get("_d");let i=r.State.get("_7");if(i.length){let a=!1,s=0,o="",n=r.State.get("_ag"),p={},u=r.State.get("_8"),h=r.State.get("_af"),f=[...i];for(let e of f){let t=u[e.id];if(t)for(let e of t)p[e]||n[e]||(p[e]=1,f.push(h[e]))}for(let e of f)if(!e.props.locked&&(c==l.default.UP?(a=!0,s=-t,o="y"):c==l.default.DOWN?(a=!0,s=t,o="y"):c==l.default.LEFT?(a=!0,s=-t,o="x"):c==l.default.RIGHT&&(a=!0,s=t,o="x"),a)){let t=r.Vframe.byNode(r.node(e.id));if(t){for(let t of e.ctrl.moved)t.use==o&&(e.props[t.key]+=s);!1!==await t.invoke("assign",[{element:e}])&&t.invoke("render")}}a&&(e.preventDefault(),r.State.fire("d"),d.default._u("_",500))}}},"_C<contextmenu>"(e){if(e.preventDefault(),r.default.inside(e.target,r.node("stage_canvas"))){let t,i=r.default.config("lang"),a={},l=r.State.get("_6"),c=r.State.get("_7"),u=n.default._aG(),g=c.length,y=c[0];if(1==g){t=f.default.singleElement(i);let e=l[l.length-1],r=l[0],d=e.id==y.id,s=r.id==y.id,o=y.props.locked;a[f.default.cutId]=o,a[f.default.upId]=o||d,a[f.default.topId]=o||d,a[f.default.bottomId]=o||s,a[f.default.downId]=o||s}else g>1?t=f.default.multipleElement(i):(t=f.default.stage(i),a[f.default.allId]=!l.length,a[f.default.pasteId]=!u,a[f.default.cutId]=1,a[f.default.copyId]=1,a[f.default.deleteId]=1);if(g>0){let{_bc:e,_a4:t}=o.default._a3();a[f.default.groupId]=!t,a[f.default.ungroupId]=!e}h.default.show(this,e,{list:t,disabled:a,picked(t){if(t.id==f.default.allId)o.default._b_()&&d.default._u();else if(t.id==f.default.copyId)n.default._aI();else if(t.id==f.default.pasteId){let t=p.default._be({x:e.pageX,y:e.pageY});n.default._aN(t)&&d.default._u()}else t.id==f.default.cutId?n.default._aK():t.id==f.default.deleteId?o.default._ba()&&(r.State.fire("c"),d.default._u()):t.id>=3&&t.id<=6?s.default._aZ(t.id,y)&&(r.State.fire("c"),d.default._u()):t.id>19&&t.id<30?s.default._a5(t.to):t.id>30&&(o.default._bb(32==t.id),d.default._u(),r.State.fire("c"))}})}},"_bp<focusin>"(){this.root.classList.remove("rd-af")},"_bq<focusout>"(){this.root.classList.add("rd-af")}}).merge(a.default)}),define("designer/tojson",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");t.default=(()=>{let e=r.State.get("_6"),t=r.State.get("_5"),i=[];for(let{type:t,ctrl:r,props:a,id:d}of e){let e={id:d,type:t,props:{}};for(let t of r.props)t.json&&(t.read?e.props[t.key]=t.read(a[t.key]):e.props[t.key]=a[t.key]);i.push(e)}let a={page:t,groups:r.State.get("_8"),elements:i};return JSON.stringify(a,null,4)})}),define("designer/toolbar-align",["magix","./stage-elements"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("./stage-elements");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s=[],{elements:o,i18n:n}=e,p=o.length;return r?s.push(r):s.push(r=t("i",{_:"_",class:"rd-aq"})),l=[t(0,0,"\ue70b")],d="rd-w rd-ao",p<2&&(d+=" rd-ar"),s.push(t("i",{title:a(n("l")),"mx5-click":i+"\x1e_a5({to:'left'})",class:d},l)),l=[t(0,0,"\ue711")],d="rd-w rd-ao",p<2&&(d+=" rd-ar"),s.push(t("i",{title:a(n("n")),"mx5-click":i+"\x1e_a5({to:'center'})",class:d},l)),l=[t(0,0,"\ue70c")],d="rd-w rd-ao",p<2&&(d+=" rd-ar"),s.push(t("i",{title:a(n("m")),"mx5-click":i+"\x1e_a5({to:'right'})",class:d},l)),l=[t(0,0,"\ue70d")],d="rd-w rd-ao",p<2&&(d+=" rd-ar"),s.push(t("i",{title:a(n("o")),"mx5-click":i+"\x1e_a5({to:'top'})",class:d},l)),l=[t(0,0,"\ue712")],d="rd-w rd-ao",p<2&&(d+=" rd-ar"),s.push(t("i",{title:a(n("q")),"mx5-click":i+"\x1e_a5({to:'middle'})",class:d},l)),l=[t(0,0,"\ue70e")],d="rd-w rd-ao",p<2&&(d+=" rd-ar"),s.push(t("i",{title:a(n("p")),"mx5-click":i+"\x1e_a5({to:'bottom'})",class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);a.State.on("_",e),a.State.on("q",e)},render(){this.digest({elements:a.State.get("_7")})},"_a5<click>"(e){if(e.eventTarget.classList.contains("rd-ar"))return;let{to:t}=e.params;d.default._a5(t)}})}),define("designer/toolbar-del",["magix","./stage-select","./history"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("./stage-select"),l=e("./history");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s=[],{elements:o,i18n:n}=e,p=o.length;return r?s.push(r):s.push(r=t("i",{_:"_",class:"rd-aq"})),l=[t(0,0,"\ue600")],d="rd-w rd-ao",p<1&&(d+=" rd-ar"),s.push(t("i",{title:a(n("k"))+"(Delete)","mx5-click":i+"\x1e_br()",class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);a.State.on("_",e),a.State.on("q",e)},render(){this.digest({elements:a.State.get("_7")})},"_br<click>"(e){e.eventTarget.classList.contains("rd-ar")||d.default._ba()&&(a.State.fire("c"),l.default._u())}})}),define("designer/toolbar-do",["magix","./history"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("./history");t.default=r.default.View.extend({tmpl:(e,t,i,r)=>{let a,d,l=[],{status:s,i18n:o}=e;return d=[t(0,0,"\ue682")],a="rd-w rd-ao",s.canUndo||(a+=" rd-ar"),l.push(t("i",{title:r(o("u")),"mx5-click":i+"\x1e_bs({s:'-',b:"+r(s.canUndo)+"})",class:a},d)),d=[t(0,0,"\ue682")],a="rd-w rd-ao rd-B",s.canRedo||(a+=" rd-ar"),l.push(t("i",{title:r(o("v")),"mx5-click":i+"\x1e_bs({s:'+',b:"+r(s.canRedo)+"})",class:a},d)),t(i,0,l)},init(){let e=this.render.bind(this);r.State.on("_",e),r.State.on("m",e)},render(){this.digest({status:a.default._a_()})},"_bs<click>"(e){let{s:t,b:i}=e.params;i&&("-"==t?a.default._ab():a.default._ac())}})}),define("designer/toolbar-group",["magix","./stage-select","./history"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("./stage-select"),l=e("./history");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s=[],{canGroup:o,i18n:n,canUngroup:p}=e;return r?s.push(r):s.push(r=t("i",{_:"_",class:"rd-aq"})),l=[t(0,0,"\ue669")],d="rd-w rd-ao",o||(d+=" rd-ar"),s.push(t("i",{title:a(n("w"))+"(Ctrl+G)","mx5-click":i+"\x1e_bt()",class:d},l)),l=[t(0,0,"\ue684")],d="rd-w rd-ao",p||(d+=" rd-ar"),s.push(t("i",{title:a(n("x"))+"(Shift+G)","mx5-click":i+"\x1e_bt({un:1})",class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);a.State.on("_",e),a.State.on("q",e),a.State.on("c",e)},render(){let{_a4:e,_bc:t}=d.default._a3();this.digest({canGroup:e,canUngroup:t})},"_bt<click>"(e){if(e.eventTarget.classList.contains("rd-ar"))return;let{un:t}=e.params;d.default._bb(t),a.State.fire("c"),l.default._u()}})}),define("designer/toolbar-layer",["magix","./history","./stage-elements"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("./history"),l=e("./stage-elements");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s,o=[],{elements:n,top:p,i18n:c,bottom:u}=e;d="";let h=n.length;d+=" ";let f=n[0];return r?o.push(r):o.push(r=t("i",{_:"_",class:"rd-aq"})),s=[t(0,0,"\ue632")],l="rd-w rd-ao",(1!=h||f.props.locked||p.id==f.id)&&(l+=" rd-ar"),o.push(t("i",{title:a(c("g"))+"(U)","mx5-click":i+"\x1e_aZ({to:5})",class:l},s)),s=[t(0,0,"\ue607")],l="rd-w rd-ao",(1!=h||f.props.locked||p.id==f.id)&&(l+=" rd-ar"),o.push(t("i",{title:a(c("i"))+"(T)","mx5-click":i+"\x1e_aZ({to:3})",class:l},s)),s=[t(0,0,"\ue632")],l="rd-w rd-ao rd-z",(1!=h||f.props.locked||u.id==f.id)&&(l+=" rd-ar"),o.push(t("i",{title:a(c("h"))+"(D)","mx5-click":i+"\x1e_aZ({to:6})",class:l},s)),s=[t(0,0,"\ue607")],l="rd-w rd-ao rd-z",(1!=h||f.props.locked||u.id==f.id)&&(l+=" rd-ar"),o.push(t("i",{title:a(c("j"))+"(B)","mx5-click":i+"\x1e_aZ({to:4})",class:l},s)),t(i,0,o)},init(){let e=this.render.bind(this);a.State.on("_",e),a.State.on("c",e),a.State.on("q",e)},render(){let e=a.State.get("_6");this.digest({top:e[e.length-1],bottom:e[0],elements:a.State.get("_7")})},"_aZ<click>"(e){if(e.eventTarget.classList.contains("rd-ar"))return;let{to:t}=e.params,i=this.get("elements")[0];l.default._aZ(t,i)&&(a.State.fire("c"),d.default._u())}})}),define("designer/toolbar-panels",["magix","../panels/index"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix"),a=e("../panels/index");t.default=r.default.View.extend({tmpl:(e,t,i,r,a,d,l,s)=>{let o,n,p,c=[],{panels:u,i18n:h}=e;for(let e=u.length,a=0;a<e;a+=1){let e=u[a];p=[t(0,1,r(e.icon))],n="rd-w rd-ao",e._&&(n+=" rd-ap"),o=[t("i",{"mx5-click":i+"\x1e_ai({id:'"+s(e.id)+"'})",title:r(h(e._?"y":"z",e.title,a+1)),class:n},p)],c.push(...o)}return t(i,0,c)},init(){r.State.on("r",()=>{this.render()})},render(){this.digest({panels:a.default._ah()})},"_ai<click>"(e){let{id:t}=e.params;a.default._ai(t)}})}),define("designer/toolbar-scale",["magix","./history"],(e,t,i)=>{let r={class:"rd-as"};Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("./history");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s=[],{scale:o,i18n:n}=e;return l=[t(0,0,"\ue602")],d="rd-w rd-ao",o<=.5&&(d+=" rd-ar"),s.push(t("i",{"mx5-click":i+"\x1e_bu({s:'-'})",title:a(n("A")),class:d},l)),l=[t(0,0,a(100*o)+"%")],s.push(t("b",r,l)),l=[t(0,0,"\ue699")],d="rd-w rd-ao",o>=5&&(d+=" rd-ar"),s.push(t("i",{"mx5-click":i+"\x1e_bu({s:'+'})",title:a(n("B")),class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);a.State.on("a",e),a.State.on("_",e)},render(){this.digest({scale:a.State.get("_d")})},"_bu<click>"(e){let{s:t}=e.params,i=this.get("scale"),r=i;"+"==t?(i+=.5)>5&&(i=5):(i-=.5)<.5&&(i=.5),r!=i&&(a.State.set({_d:i}),a.State.fire("a",{step:i/r}),d.default._u())}})}),define("designer/toolbar-space",["magix","./stage-elements"],(e,t,i)=>{let r;Object.defineProperty(t,"__esModule",{value:!0});const a=e("magix"),d=e("./stage-elements");t.default=a.default.View.extend({tmpl:(e,t,i,a)=>{let d,l,s=[],{size:o,i18n:n,space:p}=e;return r?s.push(r):s.push(r=t("i",{_:"_",class:"rd-aq"})),l=[t(0,0,"\ue604")],d="rd-w rd-ao",o&&(d+=" rd-ar"),s.push(t("i",{title:a(n("C")),"mx5-click":i+"\x1e_bv({to:'width'})",class:d},l)),l=[t(0,0,"\ue605")],d="rd-w rd-ao",o&&(d+=" rd-ar"),s.push(t("i",{title:a(n("D")),"mx5-click":i+"\x1e_bv({to:'height'})",class:d},l)),l=[t(0,0,"\ue608")],d="rd-w rd-ao",p&&(d+=" rd-ar"),s.push(t("i",{title:a(n("E")),"mx5-click":i+"\x1e_a8({to:'hor'})",class:d},l)),l=[t(0,0,"\ue608")],d="rd-w rd-A rd-ao",p&&(d+=" rd-ar"),s.push(t("i",{title:a(n("F")),"mx5-click":i+"\x1e_a8({to:'ver'})",class:d},l)),t(i,0,s)},init(){let e=this.render.bind(this);a.State.on("_",e),a.State.on("q",e),a.State.on("c",e)},render(){let e=a.State.get("_7"),t=a.State.get("_8"),i=a.State.get("_ag"),{length:r}=e,d=!1,l=!1;if(r<2)d=!0;else for(let{ctrl:t}of e)if(!t.modifier||!t.modifier.width||!t.modifier.height){d=!0;break}if(r<3)l=!0;else{let r={},a=0,d=0;for(let s of e)if(!r[s.id]){r[s.id]=1;let e=t[s.id];if(e){let t=0;for(let a of e)i[a]&&(r[a]=1,t++);t>0&&(a++,d++)}else a++;if(d>0&&a>1){l=!0;break}}}this.digest({size:d,space:l})},"_bv<click>"(e){if(e.eventTarget.classList.contains("rd-ar"))return;let{to:t}=e.params;d.default._a7(t,e.shiftKey)},"_a8<click>"(e){if(e.eventTarget.classList.contains("rd-ar"))return;let{to:t}=e.params;d.default._a8(t,e.shiftKey)}})}),define("designer/toolbar",["magix","../panels/index","./toolbar-do","./toolbar-align","./toolbar-space","./toolbar-layer","./toolbar-group","./toolbar-del","./toolbar-scale","./toolbar-panels"],(e,t,i)=>{let r,a,d,l;e("./toolbar-do"),e("./toolbar-align"),e("./toolbar-space"),e("./toolbar-layer"),e("./toolbar-group"),e("./toolbar-del"),e("./toolbar-scale"),e("./toolbar-panels");let s={class:"rd-D rd-b rd-e"};Object.defineProperty(t,"__esModule",{value:!0});const o=e("magix"),n=e("../panels/index");o.default.applyStyle("rd-f",".rd-an{height:22px}.rd-ao{cursor:pointer;height:22px;width:22px;margin:0 2px;display:inline-flex;align-items:center;justify-content:center;border-radius:2px}.rd-ao:hover{background:#e6e6e6;color:#333}.rd-ap,.rd-ap:hover{background:#c4c4c4}.rd-aq{height:16px;width:1px;background:#eee;margin:3px 12px;float:left}.rd-ar{color:#aaa;cursor:not-allowed}.rd-ar:hover{color:#aaa;background:transparent}.rd-as{font-weight:400;font-size:14px;width:40px;display:inline-block;text-align:center}"),t.default=o.default.View.extend({tmpl:(e,t,i,o)=>{let n,p,c,u=[],{allOpen:h,i18n:f}=e;return r?u.push(r):(n=[t("div",{class:"rd-an","mx5-view":"designer/toolbar-do"}),t("div",{class:"rd-an","mx5-view":"designer/toolbar-align"}),t("div",{class:"rd-an","mx5-view":"designer/toolbar-space"}),t("div",{class:"rd-an","mx5-view":"designer/toolbar-layer"}),t("div",{class:"rd-an","mx5-view":"designer/toolbar-group"}),t("div",{class:"rd-an","mx5-view":"designer/toolbar-del"})],u.push(r=t("div",{_:"_",class:"rd-D rd-b rd-d"},n))),n=a?[a]:[a=t("div",{_:"a",class:"rd-an","mx5-view":"designer/toolbar-scale"})],d?n.push(d):n.push(d=t("i",{_:"b",class:"rd-aq"})),l?n.push(l):n.push(l=t("div",{_:"c",class:"rd-an","mx5-view":"designer/toolbar-panels"})),d?n.push(d):n.push(d=t("i",{_:"b",class:"rd-aq"})),c=[t(0,0,"\ue676")],p="rd-w rd-ao",h&&(p+=" rd-ap"),n.push(t("i",{"mx5-click":i+"\x1e_bw()",title:o(f(h?"G":"H")),class:p},c)),u.push(t("div",s,n)),t(i,0,u)},init(){o.State.on("r",()=>{this.render()})},render(){this.digest({allOpen:n.default._am()})},"_bw<click>"(){this.get("allOpen")?n.default["@{close.all.panels}"]():n.default["@{open.all.panels}"]()}})}),define("designer/transform",["magix"],(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=e("magix");let a=Math.PI/180;const d={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7};t.default={_be({x:e,y:t}){let i=r.node("stage_canvas").getBoundingClientRect();return{x:e-=i.left,y:t-=i.top}},_bx({x:e,y:t}){let i=r.node("stage_canvas").getBoundingClientRect();return{x:e+=i.left,y:t+=i.top}},_by:e=>e/r.State.get("_d")|0,_bz:e=>e*r.State.get("_d"),_aV({x:e,y:t,width:i,height:r},d){let l=Math.sqrt(Math.pow(i,2)+Math.pow(r,2))/2,s=i?Math.round(180*Math.atan(r/i)/Math.PI):0,o=180-d-s,n=s-d,p=90-d,c=d,u=i/2,h=r/2,f=e+u,g=t+h,y={x:f+l*Math.cos(o*a),y:g-l*Math.sin(o*a)},x={x:f+h*Math.cos(p*a),y:g-h*Math.sin(p*a)},_={x:f+l*Math.cos(n*a),y:g-l*Math.sin(n*a)},b={x:f+u*Math.cos(c*a),y:g+u*Math.sin(c*a)},m={x:f-l*Math.cos(o*a),y:g+l*Math.sin(o*a)},w={x:f-h*Math.sin(c*a),y:g+h*Math.cos(c*a)},k={x:f-l*Math.cos(n*a),y:g+l*Math.sin(n*a)},v={x:f-u*Math.cos(c*a),y:g-u*Math.sin(c*a)},j=Math.min(y.x,_.x,m.x,k.x),A=Math.max(y.x,_.x,m.x,k.x),S=Math.min(y.y,_.y,m.y,k.y),z=Math.max(y.y,_.y,m.y,k.y);return{point:[y,x,_,b,m,w,k,v],width:A-j,height:z-S,left:j,right:A,top:S,bottom:z}},_bE(e,t){let i={},r={},a=d[t],l=0,s=a-4;return s<0&&(s=a+4),{_bA:a,_bB:r=e[a],_bC:l=s,_bD:i=e.slice(s,s+1)[0]}},_bF(e,t){let{x:i,y:r,width:a,height:d,scale:l}=e,s={x:0,y:0},o=a*(l.x-1),n=d*(l.y-1),p=a+o,c=d+n,u=i-o/2,h=r-n/2;if(t){let e=[{x:i,y:r},{x:i+a,y:r},{x:i+a,y:r+d},{x:i,y:r+d}],l=[{x:u,y:h},{x:u+p,y:h},{x:u+p,y:h+c},{x:u,y:h+c}];s.x=e[t].x-l[t].x,s.y=e[t].y-l[t].y}return{x:u+s.x,y:h+s.y,width:p,height:c}},_bG(e,t,i,r){let a=this._bF({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),d=a.width,l=a.height,s=this._aV(a,e.rotate),o=i.point[r].x-s.point[r].x+s.left,n=i.point[r].y-s.point[r].y+s.top;return{left:o+s.width/2-d/2,top:n+s.height/2-l/2,width:d,height:l}},_a6({x:e,y:t,width:i,height:r,rotate:d}){if(0==i)return{x:e,y:t};let l=e+i/2,s=t+r/2,o=Math.sqrt(i*i/2/2+r*r/2/2),n=180*Math.atan(r/i)/Math.PI+d+180;return{x:l+o*Math.cos(n*a),y:s+o*Math.sin(n*a)}},_bH:(e,t)=>parseInt(((360+180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI)%360).toFixed(0)),_bI(e,t,i){let r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return{x:t.x+r*Math.cos(i*a),y:t.y+r*Math.sin(i*a)}},_bJ(e,t,i){let r=Math.tan(i*a);return{k:r,b:t-e*r}},_bK:(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}});